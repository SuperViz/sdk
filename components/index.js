var Uv=Object.create;var as=Object.defineProperty,Wv=Object.defineProperties,kv=Object.getOwnPropertyDescriptor,Hv=Object.getOwnPropertyDescriptors,zv=Object.getOwnPropertyNames,eu=Object.getOwnPropertySymbols,$v=Object.getPrototypeOf,nu=Object.prototype.hasOwnProperty,Kv=Object.prototype.propertyIsEnumerable;var tu=(o,a,i)=>a in o?as(o,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):o[a]=i,Ne=(o,a)=>{for(var i in a||(a={}))nu.call(a,i)&&tu(o,i,a[i]);if(eu)for(var i of eu(a))Kv.call(a,i)&&tu(o,i,a[i]);return o},sn=(o,a)=>Wv(o,Hv(a));var qv=(o,a)=>()=>(o&&(a=o(o=0)),a);var be=(o,a)=>()=>(a||o((a={exports:{}}).exports,a),a.exports);var Jv=(o,a,i,d)=>{if(a&&typeof a=="object"||typeof a=="function")for(let f of zv(a))!nu.call(o,f)&&f!==i&&as(o,f,{get:()=>a[f],enumerable:!(d=kv(a,f))||d.enumerable});return o};var Ln=(o,a,i)=>(i=o!=null?Uv($v(o)):{},Jv(a||!o||!o.__esModule?as(i,"default",{value:o,enumerable:!0}):i,o));var le=(o,a,i)=>new Promise((d,f)=>{var g=h=>{try{c(i.next(h))}catch(v){f(v)}},w=h=>{try{c(i.throw(h))}catch(v){f(v)}},c=h=>h.done?d(h.value):Promise.resolve(h.value).then(g,w);c((i=i.apply(o,a)).next())});var U,I=qv(()=>{U={}});var iu=be((ub,ru)=>{I();var on=1e3,an=on*60,un=an*60,Ht=un*24,Zv=Ht*7,Yv=Ht*365.25;ru.exports=function(o,a){a=a||{};var i=typeof o;if(i==="string"&&o.length>0)return Xv(o);if(i==="number"&&isFinite(o))return a.long?jv(o):Qv(o);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(o))};function Xv(o){if(o=String(o),!(o.length>100)){var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(o);if(!!a){var i=parseFloat(a[1]),d=(a[2]||"ms").toLowerCase();switch(d){case"years":case"year":case"yrs":case"yr":case"y":return i*Yv;case"weeks":case"week":case"w":return i*Zv;case"days":case"day":case"d":return i*Ht;case"hours":case"hour":case"hrs":case"hr":case"h":return i*un;case"minutes":case"minute":case"mins":case"min":case"m":return i*an;case"seconds":case"second":case"secs":case"sec":case"s":return i*on;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}function Qv(o){var a=Math.abs(o);return a>=Ht?Math.round(o/Ht)+"d":a>=un?Math.round(o/un)+"h":a>=an?Math.round(o/an)+"m":a>=on?Math.round(o/on)+"s":o+"ms"}function jv(o){var a=Math.abs(o);return a>=Ht?Lr(o,a,Ht,"day"):a>=un?Lr(o,a,un,"hour"):a>=an?Lr(o,a,an,"minute"):a>=on?Lr(o,a,on,"second"):o+" ms"}function Lr(o,a,i,d){var f=a>=i*1.5;return Math.round(o/i)+" "+d+(f?"s":"")}});var ou=be((lb,su)=>{I();function em(o){i.debug=i,i.default=i,i.coerce=h,i.disable=g,i.enable=f,i.enabled=w,i.humanize=iu(),i.destroy=v,Object.keys(o).forEach(P=>{i[P]=o[P]}),i.names=[],i.skips=[],i.formatters={};function a(P){let M=0;for(let C=0;C<P.length;C++)M=(M<<5)-M+P.charCodeAt(C),M|=0;return i.colors[Math.abs(M)%i.colors.length]}i.selectColor=a;function i(P){let M,C=null,R,x;function G(...V){if(!G.enabled)return;let X=G,ce=Number(new Date),fe=ce-(M||ce);X.diff=fe,X.prev=M,X.curr=ce,M=ce,V[0]=i.coerce(V[0]),typeof V[0]!="string"&&V.unshift("%O");let ee=0;V[0]=V[0].replace(/%([a-zA-Z%])/g,($,oe)=>{if($==="%%")return"%";ee++;let _e=i.formatters[oe];if(typeof _e=="function"){let de=V[ee];$=_e.call(X,de),V.splice(ee,1),ee--}return $}),i.formatArgs.call(X,V),(X.log||i.log).apply(X,V)}return G.namespace=P,G.useColors=i.useColors(),G.color=i.selectColor(P),G.extend=d,G.destroy=i.destroy,Object.defineProperty(G,"enabled",{enumerable:!0,configurable:!1,get:()=>C!==null?C:(R!==i.namespaces&&(R=i.namespaces,x=i.enabled(P)),x),set:V=>{C=V}}),typeof i.init=="function"&&i.init(G),G}function d(P,M){let C=i(this.namespace+(typeof M=="undefined"?":":M)+P);return C.log=this.log,C}function f(P){i.save(P),i.namespaces=P,i.names=[],i.skips=[];let M,C=(typeof P=="string"?P:"").split(/[\s,]+/),R=C.length;for(M=0;M<R;M++)!C[M]||(P=C[M].replace(/\*/g,".*?"),P[0]==="-"?i.skips.push(new RegExp("^"+P.slice(1)+"$")):i.names.push(new RegExp("^"+P+"$")))}function g(){let P=[...i.names.map(c),...i.skips.map(c).map(M=>"-"+M)].join(",");return i.enable(""),P}function w(P){if(P[P.length-1]==="*")return!0;let M,C;for(M=0,C=i.skips.length;M<C;M++)if(i.skips[M].test(P))return!1;for(M=0,C=i.names.length;M<C;M++)if(i.names[M].test(P))return!0;return!1}function c(P){return P.toString().substring(2,P.toString().length-2).replace(/\.\*\?$/,"*")}function h(P){return P instanceof Error?P.stack||P.message:P}function v(){}return i.enable(i.load()),i}su.exports=em});var au=be((He,xr)=>{I();He.formatArgs=nm;He.save=rm;He.load=im;He.useColors=tm;He.storage=sm();He.destroy=(()=>{let o=!1;return()=>{o||(o=!0)}})();He.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function tm(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function nm(o){if(o[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+o[0]+(this.useColors?"%c ":" ")+"+"+xr.exports.humanize(this.diff),!this.useColors)return;let a="color: "+this.color;o.splice(1,0,a,"color: inherit");let i=0,d=0;o[0].replace(/%[a-zA-Z%]/g,f=>{f!=="%%"&&(i++,f==="%c"&&(d=i))}),o.splice(d,0,a)}He.log=console.debug||console.log||(()=>{});function rm(o){try{o?He.storage.setItem("debug",o):He.storage.removeItem("debug")}catch(a){}}function im(){let o;try{o=He.storage.getItem("debug")}catch(a){}return!o&&typeof process!="undefined"&&"env"in process&&(o=U.DEBUG),o}function sm(){try{return localStorage}catch(o){}}xr.exports=ou()(He);var{formatters:om}=xr.exports;om.j=function(o){try{return JSON.stringify(o)}catch(a){return"[UnexpectedJSONParseError]: "+a.message}}});var Fr=be((fb,lu)=>{I();function am(o){var a=typeof o;return o!=null&&(a=="object"||a=="function")}lu.exports=am});var fu=be((hb,cu)=>{I();var um=typeof global=="object"&&global&&global.Object===Object&&global;cu.exports=um});var us=be((db,hu)=>{I();var lm=fu(),cm=typeof self=="object"&&self&&self.Object===Object&&self,fm=lm||cm||Function("return this")();hu.exports=fm});var pu=be((pb,du)=>{I();var hm=us(),dm=function(){return hm.Date.now()};du.exports=dm});var vu=be((gb,gu)=>{I();var pm=/\s/;function gm(o){for(var a=o.length;a--&&pm.test(o.charAt(a)););return a}gu.exports=gm});var bu=be((vb,mu)=>{I();var vm=vu(),mm=/^\s+/;function bm(o){return o&&o.slice(0,vm(o)+1).replace(mm,"")}mu.exports=bm});var ls=be((mb,_u)=>{I();var _m=us(),Em=_m.Symbol;_u.exports=Em});var wu=be((bb,Tu)=>{I();var Eu=ls(),Au=Object.prototype,Am=Au.hasOwnProperty,Tm=Au.toString,xn=Eu?Eu.toStringTag:void 0;function wm(o){var a=Am.call(o,xn),i=o[xn];try{o[xn]=void 0;var d=!0}catch(g){}var f=Tm.call(o);return d&&(a?o[xn]=i:delete o[xn]),f}Tu.exports=wm});var Cu=be((_b,yu)=>{I();var ym=Object.prototype,Cm=ym.toString;function Mm(o){return Cm.call(o)}yu.exports=Mm});var Pu=be((Eb,Iu)=>{I();var Mu=ls(),Om=wu(),Im=Cu(),Pm="[object Null]",Sm="[object Undefined]",Ou=Mu?Mu.toStringTag:void 0;function Rm(o){return o==null?o===void 0?Sm:Pm:Ou&&Ou in Object(o)?Om(o):Im(o)}Iu.exports=Rm});var Ru=be((Ab,Su)=>{I();function Lm(o){return o!=null&&typeof o=="object"}Su.exports=Lm});var xu=be((Tb,Lu)=>{I();var xm=Pu(),Fm=Ru(),Nm="[object Symbol]";function Bm(o){return typeof o=="symbol"||Fm(o)&&xm(o)==Nm}Lu.exports=Bm});var Du=be((wb,Bu)=>{I();var Dm=bu(),Fu=Fr(),Gm=xu(),Nu=0/0,Um=/^[-+]0x[0-9a-f]+$/i,Wm=/^0b[01]+$/i,km=/^0o[0-7]+$/i,Hm=parseInt;function zm(o){if(typeof o=="number")return o;if(Gm(o))return Nu;if(Fu(o)){var a=typeof o.valueOf=="function"?o.valueOf():o;o=Fu(a)?a+"":a}if(typeof o!="string")return o===0?o:+o;o=Dm(o);var i=Wm.test(o);return i||km.test(o)?Hm(o.slice(2),i?2:8):Um.test(o)?Nu:+o}Bu.exports=zm});var Wu=be((yb,Uu)=>{I();var $m=Fr(),cs=pu(),Gu=Du(),Km="Expected a function",qm=Math.max,Jm=Math.min;function Vm(o,a,i){var d,f,g,w,c,h,v=0,P=!1,M=!1,C=!0;if(typeof o!="function")throw new TypeError(Km);a=Gu(a)||0,$m(i)&&(P=!!i.leading,M="maxWait"in i,g=M?qm(Gu(i.maxWait)||0,a):g,C="trailing"in i?!!i.trailing:C);function R($){var oe=d,_e=f;return d=f=void 0,v=$,w=o.apply(_e,oe),w}function x($){return v=$,c=setTimeout(X,a),P?R($):w}function G($){var oe=$-h,_e=$-v,de=a-oe;return M?Jm(de,g-_e):de}function V($){var oe=$-h,_e=$-v;return h===void 0||oe>=a||oe<0||M&&_e>=g}function X(){var $=cs();if(V($))return ce($);c=setTimeout(X,G($))}function ce($){return c=void 0,C&&d?R($):(d=f=void 0,w)}function fe(){c!==void 0&&clearTimeout(c),v=0,d=h=f=c=void 0}function ee(){return c===void 0?w:ce(cs())}function he(){var $=cs(),oe=V($);if(d=arguments,f=this,h=$,oe){if(c===void 0)return x(h);if(M)return clearTimeout(c),c=setTimeout(X,a),R(h)}return c===void 0&&(c=setTimeout(X,a)),w}return he.cancel=fe,he.flush=ee,he}Uu.exports=Vm});var Hu=be((Cb,ku)=>{I();var Zm=Wu(),Ym=Fr(),Xm="Expected a function";function Qm(o,a,i){var d=!0,f=!0;if(typeof o!="function")throw new TypeError(Xm);return Ym(i)&&(d="leading"in i?!!i.leading:d,f="trailing"in i?!!i.trailing:f),Zm(o,a,{leading:d,maxWait:a,trailing:f})}ku.exports=Qm});var fs=be((ln,Nn)=>{I();(function(){var o,a="4.17.21",i=200,d="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",f="Expected a function",g="Invalid `variable` option passed into `_.template`",w="__lodash_hash_undefined__",c=500,h="__lodash_placeholder__",v=1,P=2,M=4,C=1,R=2,x=1,G=2,V=4,X=8,ce=16,fe=32,ee=64,he=128,$=256,oe=512,_e=30,de="...",ct=800,Gn=16,As=1,Ju=2,Vu=3,Lt=1/0,At=9007199254740991,Zu=17976931348623157e292,Un=0/0,it=4294967295,Yu=it-1,Xu=it>>>1,Qu=[["ary",he],["bind",x],["bindKey",G],["curry",X],["curryRight",ce],["flip",oe],["partial",fe],["partialRight",ee],["rearg",$]],zt="[object Arguments]",Wn="[object Array]",ju="[object AsyncFunction]",cn="[object Boolean]",fn="[object Date]",el="[object DOMException]",kn="[object Error]",Hn="[object Function]",Ts="[object GeneratorFunction]",Qe="[object Map]",hn="[object Number]",tl="[object Null]",ft="[object Object]",ws="[object Promise]",nl="[object Proxy]",dn="[object RegExp]",je="[object Set]",pn="[object String]",zn="[object Symbol]",rl="[object Undefined]",gn="[object WeakMap]",il="[object WeakSet]",vn="[object ArrayBuffer]",$t="[object DataView]",Wr="[object Float32Array]",kr="[object Float64Array]",Hr="[object Int8Array]",zr="[object Int16Array]",$r="[object Int32Array]",Kr="[object Uint8Array]",qr="[object Uint8ClampedArray]",Jr="[object Uint16Array]",Vr="[object Uint32Array]",sl=/\b__p \+= '';/g,ol=/\b(__p \+=) '' \+/g,al=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ys=/&(?:amp|lt|gt|quot|#39);/g,Cs=/[&<>"']/g,ul=RegExp(ys.source),ll=RegExp(Cs.source),cl=/<%-([\s\S]+?)%>/g,fl=/<%([\s\S]+?)%>/g,Ms=/<%=([\s\S]+?)%>/g,hl=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,dl=/^\w*$/,pl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Zr=/[\\^$.*+?()[\]{}|]/g,gl=RegExp(Zr.source),Yr=/^\s+/,vl=/\s/,ml=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,bl=/\{\n\/\* \[wrapped with (.+)\] \*/,_l=/,? & /,El=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Al=/[()=,{}\[\]\/\s]/,Tl=/\\(\\)?/g,wl=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Os=/\w*$/,yl=/^[-+]0x[0-9a-f]+$/i,Cl=/^0b[01]+$/i,Ml=/^\[object .+?Constructor\]$/,Ol=/^0o[0-7]+$/i,Il=/^(?:0|[1-9]\d*)$/,Pl=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,$n=/($^)/,Sl=/['\n\r\u2028\u2029\\]/g,Kn="\\ud800-\\udfff",Rl="\\u0300-\\u036f",Ll="\\ufe20-\\ufe2f",xl="\\u20d0-\\u20ff",Is=Rl+Ll+xl,Ps="\\u2700-\\u27bf",Ss="a-z\\xdf-\\xf6\\xf8-\\xff",Fl="\\xac\\xb1\\xd7\\xf7",Nl="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Bl="\\u2000-\\u206f",Dl=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Rs="A-Z\\xc0-\\xd6\\xd8-\\xde",Ls="\\ufe0e\\ufe0f",xs=Fl+Nl+Bl+Dl,Xr="['\u2019]",Gl="["+Kn+"]",Fs="["+xs+"]",qn="["+Is+"]",Ns="\\d+",Ul="["+Ps+"]",Bs="["+Ss+"]",Ds="[^"+Kn+xs+Ns+Ps+Ss+Rs+"]",Qr="\\ud83c[\\udffb-\\udfff]",Wl="(?:"+qn+"|"+Qr+")",Gs="[^"+Kn+"]",jr="(?:\\ud83c[\\udde6-\\uddff]){2}",ei="[\\ud800-\\udbff][\\udc00-\\udfff]",Kt="["+Rs+"]",Us="\\u200d",Ws="(?:"+Bs+"|"+Ds+")",kl="(?:"+Kt+"|"+Ds+")",ks="(?:"+Xr+"(?:d|ll|m|re|s|t|ve))?",Hs="(?:"+Xr+"(?:D|LL|M|RE|S|T|VE))?",zs=Wl+"?",$s="["+Ls+"]?",Hl="(?:"+Us+"(?:"+[Gs,jr,ei].join("|")+")"+$s+zs+")*",zl="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",$l="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ks=$s+zs+Hl,Kl="(?:"+[Ul,jr,ei].join("|")+")"+Ks,ql="(?:"+[Gs+qn+"?",qn,jr,ei,Gl].join("|")+")",Jl=RegExp(Xr,"g"),Vl=RegExp(qn,"g"),ti=RegExp(Qr+"(?="+Qr+")|"+ql+Ks,"g"),Zl=RegExp([Kt+"?"+Bs+"+"+ks+"(?="+[Fs,Kt,"$"].join("|")+")",kl+"+"+Hs+"(?="+[Fs,Kt+Ws,"$"].join("|")+")",Kt+"?"+Ws+"+"+ks,Kt+"+"+Hs,$l,zl,Ns,Kl].join("|"),"g"),Yl=RegExp("["+Us+Kn+Is+Ls+"]"),Xl=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ql=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],jl=-1,ie={};ie[Wr]=ie[kr]=ie[Hr]=ie[zr]=ie[$r]=ie[Kr]=ie[qr]=ie[Jr]=ie[Vr]=!0,ie[zt]=ie[Wn]=ie[vn]=ie[cn]=ie[$t]=ie[fn]=ie[kn]=ie[Hn]=ie[Qe]=ie[hn]=ie[ft]=ie[dn]=ie[je]=ie[pn]=ie[gn]=!1;var re={};re[zt]=re[Wn]=re[vn]=re[$t]=re[cn]=re[fn]=re[Wr]=re[kr]=re[Hr]=re[zr]=re[$r]=re[Qe]=re[hn]=re[ft]=re[dn]=re[je]=re[pn]=re[zn]=re[Kr]=re[qr]=re[Jr]=re[Vr]=!0,re[kn]=re[Hn]=re[gn]=!1;var ec={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},tc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},nc={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},rc={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ic=parseFloat,sc=parseInt,qs=typeof global=="object"&&global&&global.Object===Object&&global,oc=typeof self=="object"&&self&&self.Object===Object&&self,Te=qs||oc||Function("return this")(),ni=typeof ln=="object"&&ln&&!ln.nodeType&&ln,xt=ni&&typeof Nn=="object"&&Nn&&!Nn.nodeType&&Nn,Js=xt&&xt.exports===ni,ri=Js&&qs.process,ze=function(){try{var b=xt&&xt.require&&xt.require("util").types;return b||ri&&ri.binding&&ri.binding("util")}catch(A){}}(),Vs=ze&&ze.isArrayBuffer,Zs=ze&&ze.isDate,Ys=ze&&ze.isMap,Xs=ze&&ze.isRegExp,Qs=ze&&ze.isSet,js=ze&&ze.isTypedArray;function Be(b,A,E){switch(E.length){case 0:return b.call(A);case 1:return b.call(A,E[0]);case 2:return b.call(A,E[0],E[1]);case 3:return b.call(A,E[0],E[1],E[2])}return b.apply(A,E)}function ac(b,A,E,L){for(var W=-1,Q=b==null?0:b.length;++W<Q;){var Ee=b[W];A(L,Ee,E(Ee),b)}return L}function $e(b,A){for(var E=-1,L=b==null?0:b.length;++E<L&&A(b[E],E,b)!==!1;);return b}function uc(b,A){for(var E=b==null?0:b.length;E--&&A(b[E],E,b)!==!1;);return b}function eo(b,A){for(var E=-1,L=b==null?0:b.length;++E<L;)if(!A(b[E],E,b))return!1;return!0}function Tt(b,A){for(var E=-1,L=b==null?0:b.length,W=0,Q=[];++E<L;){var Ee=b[E];A(Ee,E,b)&&(Q[W++]=Ee)}return Q}function Jn(b,A){var E=b==null?0:b.length;return!!E&&qt(b,A,0)>-1}function ii(b,A,E){for(var L=-1,W=b==null?0:b.length;++L<W;)if(E(A,b[L]))return!0;return!1}function ae(b,A){for(var E=-1,L=b==null?0:b.length,W=Array(L);++E<L;)W[E]=A(b[E],E,b);return W}function wt(b,A){for(var E=-1,L=A.length,W=b.length;++E<L;)b[W+E]=A[E];return b}function si(b,A,E,L){var W=-1,Q=b==null?0:b.length;for(L&&Q&&(E=b[++W]);++W<Q;)E=A(E,b[W],W,b);return E}function lc(b,A,E,L){var W=b==null?0:b.length;for(L&&W&&(E=b[--W]);W--;)E=A(E,b[W],W,b);return E}function oi(b,A){for(var E=-1,L=b==null?0:b.length;++E<L;)if(A(b[E],E,b))return!0;return!1}var cc=ai("length");function fc(b){return b.split("")}function hc(b){return b.match(El)||[]}function to(b,A,E){var L;return E(b,function(W,Q,Ee){if(A(W,Q,Ee))return L=Q,!1}),L}function Vn(b,A,E,L){for(var W=b.length,Q=E+(L?1:-1);L?Q--:++Q<W;)if(A(b[Q],Q,b))return Q;return-1}function qt(b,A,E){return A===A?yc(b,A,E):Vn(b,no,E)}function dc(b,A,E,L){for(var W=E-1,Q=b.length;++W<Q;)if(L(b[W],A))return W;return-1}function no(b){return b!==b}function ro(b,A){var E=b==null?0:b.length;return E?li(b,A)/E:Un}function ai(b){return function(A){return A==null?o:A[b]}}function ui(b){return function(A){return b==null?o:b[A]}}function io(b,A,E,L,W){return W(b,function(Q,Ee,ne){E=L?(L=!1,Q):A(E,Q,Ee,ne)}),E}function pc(b,A){var E=b.length;for(b.sort(A);E--;)b[E]=b[E].value;return b}function li(b,A){for(var E,L=-1,W=b.length;++L<W;){var Q=A(b[L]);Q!==o&&(E=E===o?Q:E+Q)}return E}function ci(b,A){for(var E=-1,L=Array(b);++E<b;)L[E]=A(E);return L}function gc(b,A){return ae(A,function(E){return[E,b[E]]})}function so(b){return b&&b.slice(0,lo(b)+1).replace(Yr,"")}function De(b){return function(A){return b(A)}}function fi(b,A){return ae(A,function(E){return b[E]})}function mn(b,A){return b.has(A)}function oo(b,A){for(var E=-1,L=b.length;++E<L&&qt(A,b[E],0)>-1;);return E}function ao(b,A){for(var E=b.length;E--&&qt(A,b[E],0)>-1;);return E}function vc(b,A){for(var E=b.length,L=0;E--;)b[E]===A&&++L;return L}var mc=ui(ec),bc=ui(tc);function _c(b){return"\\"+rc[b]}function Ec(b,A){return b==null?o:b[A]}function Jt(b){return Yl.test(b)}function Ac(b){return Xl.test(b)}function Tc(b){for(var A,E=[];!(A=b.next()).done;)E.push(A.value);return E}function hi(b){var A=-1,E=Array(b.size);return b.forEach(function(L,W){E[++A]=[W,L]}),E}function uo(b,A){return function(E){return b(A(E))}}function yt(b,A){for(var E=-1,L=b.length,W=0,Q=[];++E<L;){var Ee=b[E];(Ee===A||Ee===h)&&(b[E]=h,Q[W++]=E)}return Q}function Zn(b){var A=-1,E=Array(b.size);return b.forEach(function(L){E[++A]=L}),E}function wc(b){var A=-1,E=Array(b.size);return b.forEach(function(L){E[++A]=[L,L]}),E}function yc(b,A,E){for(var L=E-1,W=b.length;++L<W;)if(b[L]===A)return L;return-1}function Cc(b,A,E){for(var L=E+1;L--;)if(b[L]===A)return L;return L}function Vt(b){return Jt(b)?Oc(b):cc(b)}function et(b){return Jt(b)?Ic(b):fc(b)}function lo(b){for(var A=b.length;A--&&vl.test(b.charAt(A)););return A}var Mc=ui(nc);function Oc(b){for(var A=ti.lastIndex=0;ti.test(b);)++A;return A}function Ic(b){return b.match(ti)||[]}function Pc(b){return b.match(Zl)||[]}var Sc=function b(A){A=A==null?Te:Ct.defaults(Te.Object(),A,Ct.pick(Te,Ql));var E=A.Array,L=A.Date,W=A.Error,Q=A.Function,Ee=A.Math,ne=A.Object,di=A.RegExp,Rc=A.String,Ke=A.TypeError,Yn=E.prototype,Lc=Q.prototype,Zt=ne.prototype,Xn=A["__core-js_shared__"],Qn=Lc.toString,te=Zt.hasOwnProperty,xc=0,co=function(){var e=/[^.]+$/.exec(Xn&&Xn.keys&&Xn.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),jn=Zt.toString,Fc=Qn.call(ne),Nc=Te._,Bc=di("^"+Qn.call(te).replace(Zr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),er=Js?A.Buffer:o,Mt=A.Symbol,tr=A.Uint8Array,fo=er?er.allocUnsafe:o,nr=uo(ne.getPrototypeOf,ne),ho=ne.create,po=Zt.propertyIsEnumerable,rr=Yn.splice,go=Mt?Mt.isConcatSpreadable:o,bn=Mt?Mt.iterator:o,Ft=Mt?Mt.toStringTag:o,ir=function(){try{var e=Ut(ne,"defineProperty");return e({},"",{}),e}catch(t){}}(),Dc=A.clearTimeout!==Te.clearTimeout&&A.clearTimeout,Gc=L&&L.now!==Te.Date.now&&L.now,Uc=A.setTimeout!==Te.setTimeout&&A.setTimeout,sr=Ee.ceil,or=Ee.floor,pi=ne.getOwnPropertySymbols,Wc=er?er.isBuffer:o,vo=A.isFinite,kc=Yn.join,Hc=uo(ne.keys,ne),Ae=Ee.max,Ce=Ee.min,zc=L.now,$c=A.parseInt,mo=Ee.random,Kc=Yn.reverse,gi=Ut(A,"DataView"),_n=Ut(A,"Map"),vi=Ut(A,"Promise"),Yt=Ut(A,"Set"),En=Ut(A,"WeakMap"),An=Ut(ne,"create"),ar=En&&new En,Xt={},qc=Wt(gi),Jc=Wt(_n),Vc=Wt(vi),Zc=Wt(Yt),Yc=Wt(En),ur=Mt?Mt.prototype:o,Tn=ur?ur.valueOf:o,bo=ur?ur.toString:o;function u(e){if(pe(e)&&!k(e)&&!(e instanceof J)){if(e instanceof qe)return e;if(te.call(e,"__wrapped__"))return _a(e)}return new qe(e)}var Qt=function(){function e(){}return function(t){if(!ue(t))return{};if(ho)return ho(t);e.prototype=t;var n=new e;return e.prototype=o,n}}();function lr(){}function qe(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}u.templateSettings={escape:cl,evaluate:fl,interpolate:Ms,variable:"",imports:{_:u}},u.prototype=lr.prototype,u.prototype.constructor=u,qe.prototype=Qt(lr.prototype),qe.prototype.constructor=qe;function J(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=it,this.__views__=[]}function Xc(){var e=new J(this.__wrapped__);return e.__actions__=Re(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Re(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Re(this.__views__),e}function Qc(){if(this.__filtered__){var e=new J(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function jc(){var e=this.__wrapped__.value(),t=this.__dir__,n=k(e),r=t<0,s=n?e.length:0,l=hh(0,s,this.__views__),p=l.start,m=l.end,_=m-p,T=r?m:p-1,y=this.__iteratees__,O=y.length,S=0,F=Ce(_,this.__takeCount__);if(!n||!r&&s==_&&F==_)return Ho(e,this.__actions__);var B=[];e:for(;_--&&S<F;){T+=t;for(var z=-1,D=e[T];++z<O;){var q=y[z],Z=q.iteratee,We=q.type,Pe=Z(D);if(We==Ju)D=Pe;else if(!Pe){if(We==As)continue e;break e}}B[S++]=D}return B}J.prototype=Qt(lr.prototype),J.prototype.constructor=J;function Nt(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ef(){this.__data__=An?An(null):{},this.size=0}function tf(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function nf(e){var t=this.__data__;if(An){var n=t[e];return n===w?o:n}return te.call(t,e)?t[e]:o}function rf(e){var t=this.__data__;return An?t[e]!==o:te.call(t,e)}function sf(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=An&&t===o?w:t,this}Nt.prototype.clear=ef,Nt.prototype.delete=tf,Nt.prototype.get=nf,Nt.prototype.has=rf,Nt.prototype.set=sf;function ht(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function of(){this.__data__=[],this.size=0}function af(e){var t=this.__data__,n=cr(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():rr.call(t,n,1),--this.size,!0}function uf(e){var t=this.__data__,n=cr(t,e);return n<0?o:t[n][1]}function lf(e){return cr(this.__data__,e)>-1}function cf(e,t){var n=this.__data__,r=cr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}ht.prototype.clear=of,ht.prototype.delete=af,ht.prototype.get=uf,ht.prototype.has=lf,ht.prototype.set=cf;function dt(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ff(){this.size=0,this.__data__={hash:new Nt,map:new(_n||ht),string:new Nt}}function hf(e){var t=Tr(this,e).delete(e);return this.size-=t?1:0,t}function df(e){return Tr(this,e).get(e)}function pf(e){return Tr(this,e).has(e)}function gf(e,t){var n=Tr(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}dt.prototype.clear=ff,dt.prototype.delete=hf,dt.prototype.get=df,dt.prototype.has=pf,dt.prototype.set=gf;function Bt(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new dt;++t<n;)this.add(e[t])}function vf(e){return this.__data__.set(e,w),this}function mf(e){return this.__data__.has(e)}Bt.prototype.add=Bt.prototype.push=vf,Bt.prototype.has=mf;function tt(e){var t=this.__data__=new ht(e);this.size=t.size}function bf(){this.__data__=new ht,this.size=0}function _f(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function Ef(e){return this.__data__.get(e)}function Af(e){return this.__data__.has(e)}function Tf(e,t){var n=this.__data__;if(n instanceof ht){var r=n.__data__;if(!_n||r.length<i-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new dt(r)}return n.set(e,t),this.size=n.size,this}tt.prototype.clear=bf,tt.prototype.delete=_f,tt.prototype.get=Ef,tt.prototype.has=Af,tt.prototype.set=Tf;function _o(e,t){var n=k(e),r=!n&&kt(e),s=!n&&!r&&Rt(e),l=!n&&!r&&!s&&nn(e),p=n||r||s||l,m=p?ci(e.length,Rc):[],_=m.length;for(var T in e)(t||te.call(e,T))&&!(p&&(T=="length"||s&&(T=="offset"||T=="parent")||l&&(T=="buffer"||T=="byteLength"||T=="byteOffset")||mt(T,_)))&&m.push(T);return m}function Eo(e){var t=e.length;return t?e[Oi(0,t-1)]:o}function wf(e,t){return wr(Re(e),Dt(t,0,e.length))}function yf(e){return wr(Re(e))}function mi(e,t,n){(n!==o&&!nt(e[t],n)||n===o&&!(t in e))&&pt(e,t,n)}function wn(e,t,n){var r=e[t];(!(te.call(e,t)&&nt(r,n))||n===o&&!(t in e))&&pt(e,t,n)}function cr(e,t){for(var n=e.length;n--;)if(nt(e[n][0],t))return n;return-1}function Cf(e,t,n,r){return Ot(e,function(s,l,p){t(r,s,n(s),p)}),r}function Ao(e,t){return e&&ot(t,we(t),e)}function Mf(e,t){return e&&ot(t,xe(t),e)}function pt(e,t,n){t=="__proto__"&&ir?ir(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function bi(e,t){for(var n=-1,r=t.length,s=E(r),l=e==null;++n<r;)s[n]=l?o:Qi(e,t[n]);return s}function Dt(e,t,n){return e===e&&(n!==o&&(e=e<=n?e:n),t!==o&&(e=e>=t?e:t)),e}function Je(e,t,n,r,s,l){var p,m=t&v,_=t&P,T=t&M;if(n&&(p=s?n(e,r,s,l):n(e)),p!==o)return p;if(!ue(e))return e;var y=k(e);if(y){if(p=ph(e),!m)return Re(e,p)}else{var O=Me(e),S=O==Hn||O==Ts;if(Rt(e))return Ko(e,m);if(O==ft||O==zt||S&&!s){if(p=_||S?{}:ca(e),!m)return _?rh(e,Mf(p,e)):nh(e,Ao(p,e))}else{if(!re[O])return s?e:{};p=gh(e,O,m)}}l||(l=new tt);var F=l.get(e);if(F)return F;l.set(e,p),Ua(e)?e.forEach(function(D){p.add(Je(D,t,n,D,e,l))}):Da(e)&&e.forEach(function(D,q){p.set(q,Je(D,t,n,q,e,l))});var B=T?_?Gi:Di:_?xe:we,z=y?o:B(e);return $e(z||e,function(D,q){z&&(q=D,D=e[q]),wn(p,q,Je(D,t,n,q,e,l))}),p}function Of(e){var t=we(e);return function(n){return To(n,e,t)}}function To(e,t,n){var r=n.length;if(e==null)return!r;for(e=ne(e);r--;){var s=n[r],l=t[s],p=e[s];if(p===o&&!(s in e)||!l(p))return!1}return!0}function wo(e,t,n){if(typeof e!="function")throw new Ke(f);return Sn(function(){e.apply(o,n)},t)}function yn(e,t,n,r){var s=-1,l=Jn,p=!0,m=e.length,_=[],T=t.length;if(!m)return _;n&&(t=ae(t,De(n))),r?(l=ii,p=!1):t.length>=i&&(l=mn,p=!1,t=new Bt(t));e:for(;++s<m;){var y=e[s],O=n==null?y:n(y);if(y=r||y!==0?y:0,p&&O===O){for(var S=T;S--;)if(t[S]===O)continue e;_.push(y)}else l(t,O,r)||_.push(y)}return _}var Ot=Yo(st),yo=Yo(Ei,!0);function If(e,t){var n=!0;return Ot(e,function(r,s,l){return n=!!t(r,s,l),n}),n}function fr(e,t,n){for(var r=-1,s=e.length;++r<s;){var l=e[r],p=t(l);if(p!=null&&(m===o?p===p&&!Ue(p):n(p,m)))var m=p,_=l}return _}function Pf(e,t,n,r){var s=e.length;for(n=H(n),n<0&&(n=-n>s?0:s+n),r=r===o||r>s?s:H(r),r<0&&(r+=s),r=n>r?0:ka(r);n<r;)e[n++]=t;return e}function Co(e,t){var n=[];return Ot(e,function(r,s,l){t(r,s,l)&&n.push(r)}),n}function ye(e,t,n,r,s){var l=-1,p=e.length;for(n||(n=mh),s||(s=[]);++l<p;){var m=e[l];t>0&&n(m)?t>1?ye(m,t-1,n,r,s):wt(s,m):r||(s[s.length]=m)}return s}var _i=Xo(),Mo=Xo(!0);function st(e,t){return e&&_i(e,t,we)}function Ei(e,t){return e&&Mo(e,t,we)}function hr(e,t){return Tt(t,function(n){return bt(e[n])})}function Gt(e,t){t=Pt(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[at(t[n++])];return n&&n==r?e:o}function Oo(e,t,n){var r=t(e);return k(e)?r:wt(r,n(e))}function Oe(e){return e==null?e===o?rl:tl:Ft&&Ft in ne(e)?fh(e):yh(e)}function Ai(e,t){return e>t}function Sf(e,t){return e!=null&&te.call(e,t)}function Rf(e,t){return e!=null&&t in ne(e)}function Lf(e,t,n){return e>=Ce(t,n)&&e<Ae(t,n)}function Ti(e,t,n){for(var r=n?ii:Jn,s=e[0].length,l=e.length,p=l,m=E(l),_=1/0,T=[];p--;){var y=e[p];p&&t&&(y=ae(y,De(t))),_=Ce(y.length,_),m[p]=!n&&(t||s>=120&&y.length>=120)?new Bt(p&&y):o}y=e[0];var O=-1,S=m[0];e:for(;++O<s&&T.length<_;){var F=y[O],B=t?t(F):F;if(F=n||F!==0?F:0,!(S?mn(S,B):r(T,B,n))){for(p=l;--p;){var z=m[p];if(!(z?mn(z,B):r(e[p],B,n)))continue e}S&&S.push(B),T.push(F)}}return T}function xf(e,t,n,r){return st(e,function(s,l,p){t(r,n(s),l,p)}),r}function Cn(e,t,n){t=Pt(t,e),e=pa(e,t);var r=e==null?e:e[at(Ze(t))];return r==null?o:Be(r,e,n)}function Io(e){return pe(e)&&Oe(e)==zt}function Ff(e){return pe(e)&&Oe(e)==vn}function Nf(e){return pe(e)&&Oe(e)==fn}function Mn(e,t,n,r,s){return e===t?!0:e==null||t==null||!pe(e)&&!pe(t)?e!==e&&t!==t:Bf(e,t,n,r,Mn,s)}function Bf(e,t,n,r,s,l){var p=k(e),m=k(t),_=p?Wn:Me(e),T=m?Wn:Me(t);_=_==zt?ft:_,T=T==zt?ft:T;var y=_==ft,O=T==ft,S=_==T;if(S&&Rt(e)){if(!Rt(t))return!1;p=!0,y=!1}if(S&&!y)return l||(l=new tt),p||nn(e)?aa(e,t,n,r,s,l):lh(e,t,_,n,r,s,l);if(!(n&C)){var F=y&&te.call(e,"__wrapped__"),B=O&&te.call(t,"__wrapped__");if(F||B){var z=F?e.value():e,D=B?t.value():t;return l||(l=new tt),s(z,D,n,r,l)}}return S?(l||(l=new tt),ch(e,t,n,r,s,l)):!1}function Df(e){return pe(e)&&Me(e)==Qe}function wi(e,t,n,r){var s=n.length,l=s,p=!r;if(e==null)return!l;for(e=ne(e);s--;){var m=n[s];if(p&&m[2]?m[1]!==e[m[0]]:!(m[0]in e))return!1}for(;++s<l;){m=n[s];var _=m[0],T=e[_],y=m[1];if(p&&m[2]){if(T===o&&!(_ in e))return!1}else{var O=new tt;if(r)var S=r(T,y,_,e,t,O);if(!(S===o?Mn(y,T,C|R,r,O):S))return!1}}return!0}function Po(e){if(!ue(e)||_h(e))return!1;var t=bt(e)?Bc:Ml;return t.test(Wt(e))}function Gf(e){return pe(e)&&Oe(e)==dn}function Uf(e){return pe(e)&&Me(e)==je}function Wf(e){return pe(e)&&Pr(e.length)&&!!ie[Oe(e)]}function So(e){return typeof e=="function"?e:e==null?Fe:typeof e=="object"?k(e)?xo(e[0],e[1]):Lo(e):Qa(e)}function yi(e){if(!Pn(e))return Hc(e);var t=[];for(var n in ne(e))te.call(e,n)&&n!="constructor"&&t.push(n);return t}function kf(e){if(!ue(e))return wh(e);var t=Pn(e),n=[];for(var r in e)r=="constructor"&&(t||!te.call(e,r))||n.push(r);return n}function Ci(e,t){return e<t}function Ro(e,t){var n=-1,r=Le(e)?E(e.length):[];return Ot(e,function(s,l,p){r[++n]=t(s,l,p)}),r}function Lo(e){var t=Wi(e);return t.length==1&&t[0][2]?ha(t[0][0],t[0][1]):function(n){return n===e||wi(n,e,t)}}function xo(e,t){return Hi(e)&&fa(t)?ha(at(e),t):function(n){var r=Qi(n,e);return r===o&&r===t?ji(n,e):Mn(t,r,C|R)}}function dr(e,t,n,r,s){e!==t&&_i(t,function(l,p){if(s||(s=new tt),ue(l))Hf(e,t,p,n,dr,r,s);else{var m=r?r($i(e,p),l,p+"",e,t,s):o;m===o&&(m=l),mi(e,p,m)}},xe)}function Hf(e,t,n,r,s,l,p){var m=$i(e,n),_=$i(t,n),T=p.get(_);if(T){mi(e,n,T);return}var y=l?l(m,_,n+"",e,t,p):o,O=y===o;if(O){var S=k(_),F=!S&&Rt(_),B=!S&&!F&&nn(_);y=_,S||F||B?k(m)?y=m:ge(m)?y=Re(m):F?(O=!1,y=Ko(_,!0)):B?(O=!1,y=qo(_,!0)):y=[]:Rn(_)||kt(_)?(y=m,kt(m)?y=Ha(m):(!ue(m)||bt(m))&&(y=ca(_))):O=!1}O&&(p.set(_,y),s(y,_,r,l,p),p.delete(_)),mi(e,n,y)}function Fo(e,t){var n=e.length;if(!!n)return t+=t<0?n:0,mt(t,n)?e[t]:o}function No(e,t,n){t.length?t=ae(t,function(l){return k(l)?function(p){return Gt(p,l.length===1?l[0]:l)}:l}):t=[Fe];var r=-1;t=ae(t,De(N()));var s=Ro(e,function(l,p,m){var _=ae(t,function(T){return T(l)});return{criteria:_,index:++r,value:l}});return pc(s,function(l,p){return th(l,p,n)})}function zf(e,t){return Bo(e,t,function(n,r){return ji(e,r)})}function Bo(e,t,n){for(var r=-1,s=t.length,l={};++r<s;){var p=t[r],m=Gt(e,p);n(m,p)&&On(l,Pt(p,e),m)}return l}function $f(e){return function(t){return Gt(t,e)}}function Mi(e,t,n,r){var s=r?dc:qt,l=-1,p=t.length,m=e;for(e===t&&(t=Re(t)),n&&(m=ae(e,De(n)));++l<p;)for(var _=0,T=t[l],y=n?n(T):T;(_=s(m,y,_,r))>-1;)m!==e&&rr.call(m,_,1),rr.call(e,_,1);return e}function Do(e,t){for(var n=e?t.length:0,r=n-1;n--;){var s=t[n];if(n==r||s!==l){var l=s;mt(s)?rr.call(e,s,1):Si(e,s)}}return e}function Oi(e,t){return e+or(mo()*(t-e+1))}function Kf(e,t,n,r){for(var s=-1,l=Ae(sr((t-e)/(n||1)),0),p=E(l);l--;)p[r?l:++s]=e,e+=n;return p}function Ii(e,t){var n="";if(!e||t<1||t>At)return n;do t%2&&(n+=e),t=or(t/2),t&&(e+=e);while(t);return n}function K(e,t){return Ki(da(e,t,Fe),e+"")}function qf(e){return Eo(rn(e))}function Jf(e,t){var n=rn(e);return wr(n,Dt(t,0,n.length))}function On(e,t,n,r){if(!ue(e))return e;t=Pt(t,e);for(var s=-1,l=t.length,p=l-1,m=e;m!=null&&++s<l;){var _=at(t[s]),T=n;if(_==="__proto__"||_==="constructor"||_==="prototype")return e;if(s!=p){var y=m[_];T=r?r(y,_,m):o,T===o&&(T=ue(y)?y:mt(t[s+1])?[]:{})}wn(m,_,T),m=m[_]}return e}var Go=ar?function(e,t){return ar.set(e,t),e}:Fe,Vf=ir?function(e,t){return ir(e,"toString",{configurable:!0,enumerable:!1,value:ts(t),writable:!0})}:Fe;function Zf(e){return wr(rn(e))}function Ve(e,t,n){var r=-1,s=e.length;t<0&&(t=-t>s?0:s+t),n=n>s?s:n,n<0&&(n+=s),s=t>n?0:n-t>>>0,t>>>=0;for(var l=E(s);++r<s;)l[r]=e[r+t];return l}function Yf(e,t){var n;return Ot(e,function(r,s,l){return n=t(r,s,l),!n}),!!n}function pr(e,t,n){var r=0,s=e==null?r:e.length;if(typeof t=="number"&&t===t&&s<=Xu){for(;r<s;){var l=r+s>>>1,p=e[l];p!==null&&!Ue(p)&&(n?p<=t:p<t)?r=l+1:s=l}return s}return Pi(e,t,Fe,n)}function Pi(e,t,n,r){var s=0,l=e==null?0:e.length;if(l===0)return 0;t=n(t);for(var p=t!==t,m=t===null,_=Ue(t),T=t===o;s<l;){var y=or((s+l)/2),O=n(e[y]),S=O!==o,F=O===null,B=O===O,z=Ue(O);if(p)var D=r||B;else T?D=B&&(r||S):m?D=B&&S&&(r||!F):_?D=B&&S&&!F&&(r||!z):F||z?D=!1:D=r?O<=t:O<t;D?s=y+1:l=y}return Ce(l,Yu)}function Uo(e,t){for(var n=-1,r=e.length,s=0,l=[];++n<r;){var p=e[n],m=t?t(p):p;if(!n||!nt(m,_)){var _=m;l[s++]=p===0?0:p}}return l}function Wo(e){return typeof e=="number"?e:Ue(e)?Un:+e}function Ge(e){if(typeof e=="string")return e;if(k(e))return ae(e,Ge)+"";if(Ue(e))return bo?bo.call(e):"";var t=e+"";return t=="0"&&1/e==-Lt?"-0":t}function It(e,t,n){var r=-1,s=Jn,l=e.length,p=!0,m=[],_=m;if(n)p=!1,s=ii;else if(l>=i){var T=t?null:ah(e);if(T)return Zn(T);p=!1,s=mn,_=new Bt}else _=t?[]:m;e:for(;++r<l;){var y=e[r],O=t?t(y):y;if(y=n||y!==0?y:0,p&&O===O){for(var S=_.length;S--;)if(_[S]===O)continue e;t&&_.push(O),m.push(y)}else s(_,O,n)||(_!==m&&_.push(O),m.push(y))}return m}function Si(e,t){return t=Pt(t,e),e=pa(e,t),e==null||delete e[at(Ze(t))]}function ko(e,t,n,r){return On(e,t,n(Gt(e,t)),r)}function gr(e,t,n,r){for(var s=e.length,l=r?s:-1;(r?l--:++l<s)&&t(e[l],l,e););return n?Ve(e,r?0:l,r?l+1:s):Ve(e,r?l+1:0,r?s:l)}function Ho(e,t){var n=e;return n instanceof J&&(n=n.value()),si(t,function(r,s){return s.func.apply(s.thisArg,wt([r],s.args))},n)}function Ri(e,t,n){var r=e.length;if(r<2)return r?It(e[0]):[];for(var s=-1,l=E(r);++s<r;)for(var p=e[s],m=-1;++m<r;)m!=s&&(l[s]=yn(l[s]||p,e[m],t,n));return It(ye(l,1),t,n)}function zo(e,t,n){for(var r=-1,s=e.length,l=t.length,p={};++r<s;){var m=r<l?t[r]:o;n(p,e[r],m)}return p}function Li(e){return ge(e)?e:[]}function xi(e){return typeof e=="function"?e:Fe}function Pt(e,t){return k(e)?e:Hi(e,t)?[e]:ba(j(e))}var Xf=K;function St(e,t,n){var r=e.length;return n=n===o?r:n,!t&&n>=r?e:Ve(e,t,n)}var $o=Dc||function(e){return Te.clearTimeout(e)};function Ko(e,t){if(t)return e.slice();var n=e.length,r=fo?fo(n):new e.constructor(n);return e.copy(r),r}function Fi(e){var t=new e.constructor(e.byteLength);return new tr(t).set(new tr(e)),t}function Qf(e,t){var n=t?Fi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function jf(e){var t=new e.constructor(e.source,Os.exec(e));return t.lastIndex=e.lastIndex,t}function eh(e){return Tn?ne(Tn.call(e)):{}}function qo(e,t){var n=t?Fi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Jo(e,t){if(e!==t){var n=e!==o,r=e===null,s=e===e,l=Ue(e),p=t!==o,m=t===null,_=t===t,T=Ue(t);if(!m&&!T&&!l&&e>t||l&&p&&_&&!m&&!T||r&&p&&_||!n&&_||!s)return 1;if(!r&&!l&&!T&&e<t||T&&n&&s&&!r&&!l||m&&n&&s||!p&&s||!_)return-1}return 0}function th(e,t,n){for(var r=-1,s=e.criteria,l=t.criteria,p=s.length,m=n.length;++r<p;){var _=Jo(s[r],l[r]);if(_){if(r>=m)return _;var T=n[r];return _*(T=="desc"?-1:1)}}return e.index-t.index}function Vo(e,t,n,r){for(var s=-1,l=e.length,p=n.length,m=-1,_=t.length,T=Ae(l-p,0),y=E(_+T),O=!r;++m<_;)y[m]=t[m];for(;++s<p;)(O||s<l)&&(y[n[s]]=e[s]);for(;T--;)y[m++]=e[s++];return y}function Zo(e,t,n,r){for(var s=-1,l=e.length,p=-1,m=n.length,_=-1,T=t.length,y=Ae(l-m,0),O=E(y+T),S=!r;++s<y;)O[s]=e[s];for(var F=s;++_<T;)O[F+_]=t[_];for(;++p<m;)(S||s<l)&&(O[F+n[p]]=e[s++]);return O}function Re(e,t){var n=-1,r=e.length;for(t||(t=E(r));++n<r;)t[n]=e[n];return t}function ot(e,t,n,r){var s=!n;n||(n={});for(var l=-1,p=t.length;++l<p;){var m=t[l],_=r?r(n[m],e[m],m,n,e):o;_===o&&(_=e[m]),s?pt(n,m,_):wn(n,m,_)}return n}function nh(e,t){return ot(e,ki(e),t)}function rh(e,t){return ot(e,ua(e),t)}function vr(e,t){return function(n,r){var s=k(n)?ac:Cf,l=t?t():{};return s(n,e,N(r,2),l)}}function jt(e){return K(function(t,n){var r=-1,s=n.length,l=s>1?n[s-1]:o,p=s>2?n[2]:o;for(l=e.length>3&&typeof l=="function"?(s--,l):o,p&&Ie(n[0],n[1],p)&&(l=s<3?o:l,s=1),t=ne(t);++r<s;){var m=n[r];m&&e(t,m,r,l)}return t})}function Yo(e,t){return function(n,r){if(n==null)return n;if(!Le(n))return e(n,r);for(var s=n.length,l=t?s:-1,p=ne(n);(t?l--:++l<s)&&r(p[l],l,p)!==!1;);return n}}function Xo(e){return function(t,n,r){for(var s=-1,l=ne(t),p=r(t),m=p.length;m--;){var _=p[e?m:++s];if(n(l[_],_,l)===!1)break}return t}}function ih(e,t,n){var r=t&x,s=In(e);function l(){var p=this&&this!==Te&&this instanceof l?s:e;return p.apply(r?n:this,arguments)}return l}function Qo(e){return function(t){t=j(t);var n=Jt(t)?et(t):o,r=n?n[0]:t.charAt(0),s=n?St(n,1).join(""):t.slice(1);return r[e]()+s}}function en(e){return function(t){return si(Ya(Za(t).replace(Jl,"")),e,"")}}function In(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Qt(e.prototype),r=e.apply(n,t);return ue(r)?r:n}}function sh(e,t,n){var r=In(e);function s(){for(var l=arguments.length,p=E(l),m=l,_=tn(s);m--;)p[m]=arguments[m];var T=l<3&&p[0]!==_&&p[l-1]!==_?[]:yt(p,_);if(l-=T.length,l<n)return ra(e,t,mr,s.placeholder,o,p,T,o,o,n-l);var y=this&&this!==Te&&this instanceof s?r:e;return Be(y,this,p)}return s}function jo(e){return function(t,n,r){var s=ne(t);if(!Le(t)){var l=N(n,3);t=we(t),n=function(m){return l(s[m],m,s)}}var p=e(t,n,r);return p>-1?s[l?t[p]:p]:o}}function ea(e){return vt(function(t){var n=t.length,r=n,s=qe.prototype.thru;for(e&&t.reverse();r--;){var l=t[r];if(typeof l!="function")throw new Ke(f);if(s&&!p&&Ar(l)=="wrapper")var p=new qe([],!0)}for(r=p?r:n;++r<n;){l=t[r];var m=Ar(l),_=m=="wrapper"?Ui(l):o;_&&zi(_[0])&&_[1]==(he|X|fe|$)&&!_[4].length&&_[9]==1?p=p[Ar(_[0])].apply(p,_[3]):p=l.length==1&&zi(l)?p[m]():p.thru(l)}return function(){var T=arguments,y=T[0];if(p&&T.length==1&&k(y))return p.plant(y).value();for(var O=0,S=n?t[O].apply(this,T):y;++O<n;)S=t[O].call(this,S);return S}})}function mr(e,t,n,r,s,l,p,m,_,T){var y=t&he,O=t&x,S=t&G,F=t&(X|ce),B=t&oe,z=S?o:In(e);function D(){for(var q=arguments.length,Z=E(q),We=q;We--;)Z[We]=arguments[We];if(F)var Pe=tn(D),ke=vc(Z,Pe);if(r&&(Z=Vo(Z,r,s,F)),l&&(Z=Zo(Z,l,p,F)),q-=ke,F&&q<T){var ve=yt(Z,Pe);return ra(e,t,mr,D.placeholder,n,Z,ve,m,_,T-q)}var rt=O?n:this,Et=S?rt[e]:e;return q=Z.length,m?Z=Ch(Z,m):B&&q>1&&Z.reverse(),y&&_<q&&(Z.length=_),this&&this!==Te&&this instanceof D&&(Et=z||In(Et)),Et.apply(rt,Z)}return D}function ta(e,t){return function(n,r){return xf(n,e,t(r),{})}}function br(e,t){return function(n,r){var s;if(n===o&&r===o)return t;if(n!==o&&(s=n),r!==o){if(s===o)return r;typeof n=="string"||typeof r=="string"?(n=Ge(n),r=Ge(r)):(n=Wo(n),r=Wo(r)),s=e(n,r)}return s}}function Ni(e){return vt(function(t){return t=ae(t,De(N())),K(function(n){var r=this;return e(t,function(s){return Be(s,r,n)})})})}function _r(e,t){t=t===o?" ":Ge(t);var n=t.length;if(n<2)return n?Ii(t,e):t;var r=Ii(t,sr(e/Vt(t)));return Jt(t)?St(et(r),0,e).join(""):r.slice(0,e)}function oh(e,t,n,r){var s=t&x,l=In(e);function p(){for(var m=-1,_=arguments.length,T=-1,y=r.length,O=E(y+_),S=this&&this!==Te&&this instanceof p?l:e;++T<y;)O[T]=r[T];for(;_--;)O[T++]=arguments[++m];return Be(S,s?n:this,O)}return p}function na(e){return function(t,n,r){return r&&typeof r!="number"&&Ie(t,n,r)&&(n=r=o),t=_t(t),n===o?(n=t,t=0):n=_t(n),r=r===o?t<n?1:-1:_t(r),Kf(t,n,r,e)}}function Er(e){return function(t,n){return typeof t=="string"&&typeof n=="string"||(t=Ye(t),n=Ye(n)),e(t,n)}}function ra(e,t,n,r,s,l,p,m,_,T){var y=t&X,O=y?p:o,S=y?o:p,F=y?l:o,B=y?o:l;t|=y?fe:ee,t&=~(y?ee:fe),t&V||(t&=~(x|G));var z=[e,t,s,F,O,B,S,m,_,T],D=n.apply(o,z);return zi(e)&&ga(D,z),D.placeholder=r,va(D,e,t)}function Bi(e){var t=Ee[e];return function(n,r){if(n=Ye(n),r=r==null?0:Ce(H(r),292),r&&vo(n)){var s=(j(n)+"e").split("e"),l=t(s[0]+"e"+(+s[1]+r));return s=(j(l)+"e").split("e"),+(s[0]+"e"+(+s[1]-r))}return t(n)}}var ah=Yt&&1/Zn(new Yt([,-0]))[1]==Lt?function(e){return new Yt(e)}:is;function ia(e){return function(t){var n=Me(t);return n==Qe?hi(t):n==je?wc(t):gc(t,e(t))}}function gt(e,t,n,r,s,l,p,m){var _=t&G;if(!_&&typeof e!="function")throw new Ke(f);var T=r?r.length:0;if(T||(t&=~(fe|ee),r=s=o),p=p===o?p:Ae(H(p),0),m=m===o?m:H(m),T-=s?s.length:0,t&ee){var y=r,O=s;r=s=o}var S=_?o:Ui(e),F=[e,t,n,r,s,y,O,l,p,m];if(S&&Th(F,S),e=F[0],t=F[1],n=F[2],r=F[3],s=F[4],m=F[9]=F[9]===o?_?0:e.length:Ae(F[9]-T,0),!m&&t&(X|ce)&&(t&=~(X|ce)),!t||t==x)var B=ih(e,t,n);else t==X||t==ce?B=sh(e,t,m):(t==fe||t==(x|fe))&&!s.length?B=oh(e,t,n,r):B=mr.apply(o,F);var z=S?Go:ga;return va(z(B,F),e,t)}function sa(e,t,n,r){return e===o||nt(e,Zt[n])&&!te.call(r,n)?t:e}function oa(e,t,n,r,s,l){return ue(e)&&ue(t)&&(l.set(t,e),dr(e,t,o,oa,l),l.delete(t)),e}function uh(e){return Rn(e)?o:e}function aa(e,t,n,r,s,l){var p=n&C,m=e.length,_=t.length;if(m!=_&&!(p&&_>m))return!1;var T=l.get(e),y=l.get(t);if(T&&y)return T==t&&y==e;var O=-1,S=!0,F=n&R?new Bt:o;for(l.set(e,t),l.set(t,e);++O<m;){var B=e[O],z=t[O];if(r)var D=p?r(z,B,O,t,e,l):r(B,z,O,e,t,l);if(D!==o){if(D)continue;S=!1;break}if(F){if(!oi(t,function(q,Z){if(!mn(F,Z)&&(B===q||s(B,q,n,r,l)))return F.push(Z)})){S=!1;break}}else if(!(B===z||s(B,z,n,r,l))){S=!1;break}}return l.delete(e),l.delete(t),S}function lh(e,t,n,r,s,l,p){switch(n){case $t:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case vn:return!(e.byteLength!=t.byteLength||!l(new tr(e),new tr(t)));case cn:case fn:case hn:return nt(+e,+t);case kn:return e.name==t.name&&e.message==t.message;case dn:case pn:return e==t+"";case Qe:var m=hi;case je:var _=r&C;if(m||(m=Zn),e.size!=t.size&&!_)return!1;var T=p.get(e);if(T)return T==t;r|=R,p.set(e,t);var y=aa(m(e),m(t),r,s,l,p);return p.delete(e),y;case zn:if(Tn)return Tn.call(e)==Tn.call(t)}return!1}function ch(e,t,n,r,s,l){var p=n&C,m=Di(e),_=m.length,T=Di(t),y=T.length;if(_!=y&&!p)return!1;for(var O=_;O--;){var S=m[O];if(!(p?S in t:te.call(t,S)))return!1}var F=l.get(e),B=l.get(t);if(F&&B)return F==t&&B==e;var z=!0;l.set(e,t),l.set(t,e);for(var D=p;++O<_;){S=m[O];var q=e[S],Z=t[S];if(r)var We=p?r(Z,q,S,t,e,l):r(q,Z,S,e,t,l);if(!(We===o?q===Z||s(q,Z,n,r,l):We)){z=!1;break}D||(D=S=="constructor")}if(z&&!D){var Pe=e.constructor,ke=t.constructor;Pe!=ke&&"constructor"in e&&"constructor"in t&&!(typeof Pe=="function"&&Pe instanceof Pe&&typeof ke=="function"&&ke instanceof ke)&&(z=!1)}return l.delete(e),l.delete(t),z}function vt(e){return Ki(da(e,o,Ta),e+"")}function Di(e){return Oo(e,we,ki)}function Gi(e){return Oo(e,xe,ua)}var Ui=ar?function(e){return ar.get(e)}:is;function Ar(e){for(var t=e.name+"",n=Xt[t],r=te.call(Xt,t)?n.length:0;r--;){var s=n[r],l=s.func;if(l==null||l==e)return s.name}return t}function tn(e){var t=te.call(u,"placeholder")?u:e;return t.placeholder}function N(){var e=u.iteratee||ns;return e=e===ns?So:e,arguments.length?e(arguments[0],arguments[1]):e}function Tr(e,t){var n=e.__data__;return bh(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Wi(e){for(var t=we(e),n=t.length;n--;){var r=t[n],s=e[r];t[n]=[r,s,fa(s)]}return t}function Ut(e,t){var n=Ec(e,t);return Po(n)?n:o}function fh(e){var t=te.call(e,Ft),n=e[Ft];try{e[Ft]=o;var r=!0}catch(l){}var s=jn.call(e);return r&&(t?e[Ft]=n:delete e[Ft]),s}var ki=pi?function(e){return e==null?[]:(e=ne(e),Tt(pi(e),function(t){return po.call(e,t)}))}:ss,ua=pi?function(e){for(var t=[];e;)wt(t,ki(e)),e=nr(e);return t}:ss,Me=Oe;(gi&&Me(new gi(new ArrayBuffer(1)))!=$t||_n&&Me(new _n)!=Qe||vi&&Me(vi.resolve())!=ws||Yt&&Me(new Yt)!=je||En&&Me(new En)!=gn)&&(Me=function(e){var t=Oe(e),n=t==ft?e.constructor:o,r=n?Wt(n):"";if(r)switch(r){case qc:return $t;case Jc:return Qe;case Vc:return ws;case Zc:return je;case Yc:return gn}return t});function hh(e,t,n){for(var r=-1,s=n.length;++r<s;){var l=n[r],p=l.size;switch(l.type){case"drop":e+=p;break;case"dropRight":t-=p;break;case"take":t=Ce(t,e+p);break;case"takeRight":e=Ae(e,t-p);break}}return{start:e,end:t}}function dh(e){var t=e.match(bl);return t?t[1].split(_l):[]}function la(e,t,n){t=Pt(t,e);for(var r=-1,s=t.length,l=!1;++r<s;){var p=at(t[r]);if(!(l=e!=null&&n(e,p)))break;e=e[p]}return l||++r!=s?l:(s=e==null?0:e.length,!!s&&Pr(s)&&mt(p,s)&&(k(e)||kt(e)))}function ph(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&te.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function ca(e){return typeof e.constructor=="function"&&!Pn(e)?Qt(nr(e)):{}}function gh(e,t,n){var r=e.constructor;switch(t){case vn:return Fi(e);case cn:case fn:return new r(+e);case $t:return Qf(e,n);case Wr:case kr:case Hr:case zr:case $r:case Kr:case qr:case Jr:case Vr:return qo(e,n);case Qe:return new r;case hn:case pn:return new r(e);case dn:return jf(e);case je:return new r;case zn:return eh(e)}}function vh(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ml,`{
/* [wrapped with `+t+`] */
`)}function mh(e){return k(e)||kt(e)||!!(go&&e&&e[go])}function mt(e,t){var n=typeof e;return t=t==null?At:t,!!t&&(n=="number"||n!="symbol"&&Il.test(e))&&e>-1&&e%1==0&&e<t}function Ie(e,t,n){if(!ue(n))return!1;var r=typeof t;return(r=="number"?Le(n)&&mt(t,n.length):r=="string"&&t in n)?nt(n[t],e):!1}function Hi(e,t){if(k(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Ue(e)?!0:dl.test(e)||!hl.test(e)||t!=null&&e in ne(t)}function bh(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function zi(e){var t=Ar(e),n=u[t];if(typeof n!="function"||!(t in J.prototype))return!1;if(e===n)return!0;var r=Ui(n);return!!r&&e===r[0]}function _h(e){return!!co&&co in e}var Eh=Xn?bt:os;function Pn(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Zt;return e===n}function fa(e){return e===e&&!ue(e)}function ha(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==o||e in ne(n))}}function Ah(e){var t=Or(e,function(r){return n.size===c&&n.clear(),r}),n=t.cache;return t}function Th(e,t){var n=e[1],r=t[1],s=n|r,l=s<(x|G|he),p=r==he&&n==X||r==he&&n==$&&e[7].length<=t[8]||r==(he|$)&&t[7].length<=t[8]&&n==X;if(!(l||p))return e;r&x&&(e[2]=t[2],s|=n&x?0:V);var m=t[3];if(m){var _=e[3];e[3]=_?Vo(_,m,t[4]):m,e[4]=_?yt(e[3],h):t[4]}return m=t[5],m&&(_=e[5],e[5]=_?Zo(_,m,t[6]):m,e[6]=_?yt(e[5],h):t[6]),m=t[7],m&&(e[7]=m),r&he&&(e[8]=e[8]==null?t[8]:Ce(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=s,e}function wh(e){var t=[];if(e!=null)for(var n in ne(e))t.push(n);return t}function yh(e){return jn.call(e)}function da(e,t,n){return t=Ae(t===o?e.length-1:t,0),function(){for(var r=arguments,s=-1,l=Ae(r.length-t,0),p=E(l);++s<l;)p[s]=r[t+s];s=-1;for(var m=E(t+1);++s<t;)m[s]=r[s];return m[t]=n(p),Be(e,this,m)}}function pa(e,t){return t.length<2?e:Gt(e,Ve(t,0,-1))}function Ch(e,t){for(var n=e.length,r=Ce(t.length,n),s=Re(e);r--;){var l=t[r];e[r]=mt(l,n)?s[l]:o}return e}function $i(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var ga=ma(Go),Sn=Uc||function(e,t){return Te.setTimeout(e,t)},Ki=ma(Vf);function va(e,t,n){var r=t+"";return Ki(e,vh(r,Mh(dh(r),n)))}function ma(e){var t=0,n=0;return function(){var r=zc(),s=Gn-(r-n);if(n=r,s>0){if(++t>=ct)return arguments[0]}else t=0;return e.apply(o,arguments)}}function wr(e,t){var n=-1,r=e.length,s=r-1;for(t=t===o?r:t;++n<t;){var l=Oi(n,s),p=e[l];e[l]=e[n],e[n]=p}return e.length=t,e}var ba=Ah(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(pl,function(n,r,s,l){t.push(s?l.replace(Tl,"$1"):r||n)}),t});function at(e){if(typeof e=="string"||Ue(e))return e;var t=e+"";return t=="0"&&1/e==-Lt?"-0":t}function Wt(e){if(e!=null){try{return Qn.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Mh(e,t){return $e(Qu,function(n){var r="_."+n[0];t&n[1]&&!Jn(e,r)&&e.push(r)}),e.sort()}function _a(e){if(e instanceof J)return e.clone();var t=new qe(e.__wrapped__,e.__chain__);return t.__actions__=Re(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function Oh(e,t,n){(n?Ie(e,t,n):t===o)?t=1:t=Ae(H(t),0);var r=e==null?0:e.length;if(!r||t<1)return[];for(var s=0,l=0,p=E(sr(r/t));s<r;)p[l++]=Ve(e,s,s+=t);return p}function Ih(e){for(var t=-1,n=e==null?0:e.length,r=0,s=[];++t<n;){var l=e[t];l&&(s[r++]=l)}return s}function Ph(){var e=arguments.length;if(!e)return[];for(var t=E(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return wt(k(n)?Re(n):[n],ye(t,1))}var Sh=K(function(e,t){return ge(e)?yn(e,ye(t,1,ge,!0)):[]}),Rh=K(function(e,t){var n=Ze(t);return ge(n)&&(n=o),ge(e)?yn(e,ye(t,1,ge,!0),N(n,2)):[]}),Lh=K(function(e,t){var n=Ze(t);return ge(n)&&(n=o),ge(e)?yn(e,ye(t,1,ge,!0),o,n):[]});function xh(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===o?1:H(t),Ve(e,t<0?0:t,r)):[]}function Fh(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===o?1:H(t),t=r-t,Ve(e,0,t<0?0:t)):[]}function Nh(e,t){return e&&e.length?gr(e,N(t,3),!0,!0):[]}function Bh(e,t){return e&&e.length?gr(e,N(t,3),!0):[]}function Dh(e,t,n,r){var s=e==null?0:e.length;return s?(n&&typeof n!="number"&&Ie(e,t,n)&&(n=0,r=s),Pf(e,t,n,r)):[]}function Ea(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var s=n==null?0:H(n);return s<0&&(s=Ae(r+s,0)),Vn(e,N(t,3),s)}function Aa(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var s=r-1;return n!==o&&(s=H(n),s=n<0?Ae(r+s,0):Ce(s,r-1)),Vn(e,N(t,3),s,!0)}function Ta(e){var t=e==null?0:e.length;return t?ye(e,1):[]}function Gh(e){var t=e==null?0:e.length;return t?ye(e,Lt):[]}function Uh(e,t){var n=e==null?0:e.length;return n?(t=t===o?1:H(t),ye(e,t)):[]}function Wh(e){for(var t=-1,n=e==null?0:e.length,r={};++t<n;){var s=e[t];r[s[0]]=s[1]}return r}function wa(e){return e&&e.length?e[0]:o}function kh(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var s=n==null?0:H(n);return s<0&&(s=Ae(r+s,0)),qt(e,t,s)}function Hh(e){var t=e==null?0:e.length;return t?Ve(e,0,-1):[]}var zh=K(function(e){var t=ae(e,Li);return t.length&&t[0]===e[0]?Ti(t):[]}),$h=K(function(e){var t=Ze(e),n=ae(e,Li);return t===Ze(n)?t=o:n.pop(),n.length&&n[0]===e[0]?Ti(n,N(t,2)):[]}),Kh=K(function(e){var t=Ze(e),n=ae(e,Li);return t=typeof t=="function"?t:o,t&&n.pop(),n.length&&n[0]===e[0]?Ti(n,o,t):[]});function qh(e,t){return e==null?"":kc.call(e,t)}function Ze(e){var t=e==null?0:e.length;return t?e[t-1]:o}function Jh(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var s=r;return n!==o&&(s=H(n),s=s<0?Ae(r+s,0):Ce(s,r-1)),t===t?Cc(e,t,s):Vn(e,no,s,!0)}function Vh(e,t){return e&&e.length?Fo(e,H(t)):o}var Zh=K(ya);function ya(e,t){return e&&e.length&&t&&t.length?Mi(e,t):e}function Yh(e,t,n){return e&&e.length&&t&&t.length?Mi(e,t,N(n,2)):e}function Xh(e,t,n){return e&&e.length&&t&&t.length?Mi(e,t,o,n):e}var Qh=vt(function(e,t){var n=e==null?0:e.length,r=bi(e,t);return Do(e,ae(t,function(s){return mt(s,n)?+s:s}).sort(Jo)),r});function jh(e,t){var n=[];if(!(e&&e.length))return n;var r=-1,s=[],l=e.length;for(t=N(t,3);++r<l;){var p=e[r];t(p,r,e)&&(n.push(p),s.push(r))}return Do(e,s),n}function qi(e){return e==null?e:Kc.call(e)}function ed(e,t,n){var r=e==null?0:e.length;return r?(n&&typeof n!="number"&&Ie(e,t,n)?(t=0,n=r):(t=t==null?0:H(t),n=n===o?r:H(n)),Ve(e,t,n)):[]}function td(e,t){return pr(e,t)}function nd(e,t,n){return Pi(e,t,N(n,2))}function rd(e,t){var n=e==null?0:e.length;if(n){var r=pr(e,t);if(r<n&&nt(e[r],t))return r}return-1}function id(e,t){return pr(e,t,!0)}function sd(e,t,n){return Pi(e,t,N(n,2),!0)}function od(e,t){var n=e==null?0:e.length;if(n){var r=pr(e,t,!0)-1;if(nt(e[r],t))return r}return-1}function ad(e){return e&&e.length?Uo(e):[]}function ud(e,t){return e&&e.length?Uo(e,N(t,2)):[]}function ld(e){var t=e==null?0:e.length;return t?Ve(e,1,t):[]}function cd(e,t,n){return e&&e.length?(t=n||t===o?1:H(t),Ve(e,0,t<0?0:t)):[]}function fd(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===o?1:H(t),t=r-t,Ve(e,t<0?0:t,r)):[]}function hd(e,t){return e&&e.length?gr(e,N(t,3),!1,!0):[]}function dd(e,t){return e&&e.length?gr(e,N(t,3)):[]}var pd=K(function(e){return It(ye(e,1,ge,!0))}),gd=K(function(e){var t=Ze(e);return ge(t)&&(t=o),It(ye(e,1,ge,!0),N(t,2))}),vd=K(function(e){var t=Ze(e);return t=typeof t=="function"?t:o,It(ye(e,1,ge,!0),o,t)});function md(e){return e&&e.length?It(e):[]}function bd(e,t){return e&&e.length?It(e,N(t,2)):[]}function _d(e,t){return t=typeof t=="function"?t:o,e&&e.length?It(e,o,t):[]}function Ji(e){if(!(e&&e.length))return[];var t=0;return e=Tt(e,function(n){if(ge(n))return t=Ae(n.length,t),!0}),ci(t,function(n){return ae(e,ai(n))})}function Ca(e,t){if(!(e&&e.length))return[];var n=Ji(e);return t==null?n:ae(n,function(r){return Be(t,o,r)})}var Ed=K(function(e,t){return ge(e)?yn(e,t):[]}),Ad=K(function(e){return Ri(Tt(e,ge))}),Td=K(function(e){var t=Ze(e);return ge(t)&&(t=o),Ri(Tt(e,ge),N(t,2))}),wd=K(function(e){var t=Ze(e);return t=typeof t=="function"?t:o,Ri(Tt(e,ge),o,t)}),yd=K(Ji);function Cd(e,t){return zo(e||[],t||[],wn)}function Md(e,t){return zo(e||[],t||[],On)}var Od=K(function(e){var t=e.length,n=t>1?e[t-1]:o;return n=typeof n=="function"?(e.pop(),n):o,Ca(e,n)});function Ma(e){var t=u(e);return t.__chain__=!0,t}function Id(e,t){return t(e),e}function yr(e,t){return t(e)}var Pd=vt(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,s=function(l){return bi(l,e)};return t>1||this.__actions__.length||!(r instanceof J)||!mt(n)?this.thru(s):(r=r.slice(n,+n+(t?1:0)),r.__actions__.push({func:yr,args:[s],thisArg:o}),new qe(r,this.__chain__).thru(function(l){return t&&!l.length&&l.push(o),l}))});function Sd(){return Ma(this)}function Rd(){return new qe(this.value(),this.__chain__)}function Ld(){this.__values__===o&&(this.__values__=Wa(this.value()));var e=this.__index__>=this.__values__.length,t=e?o:this.__values__[this.__index__++];return{done:e,value:t}}function xd(){return this}function Fd(e){for(var t,n=this;n instanceof lr;){var r=_a(n);r.__index__=0,r.__values__=o,t?s.__wrapped__=r:t=r;var s=r;n=n.__wrapped__}return s.__wrapped__=e,t}function Nd(){var e=this.__wrapped__;if(e instanceof J){var t=e;return this.__actions__.length&&(t=new J(this)),t=t.reverse(),t.__actions__.push({func:yr,args:[qi],thisArg:o}),new qe(t,this.__chain__)}return this.thru(qi)}function Bd(){return Ho(this.__wrapped__,this.__actions__)}var Dd=vr(function(e,t,n){te.call(e,n)?++e[n]:pt(e,n,1)});function Gd(e,t,n){var r=k(e)?eo:If;return n&&Ie(e,t,n)&&(t=o),r(e,N(t,3))}function Ud(e,t){var n=k(e)?Tt:Co;return n(e,N(t,3))}var Wd=jo(Ea),kd=jo(Aa);function Hd(e,t){return ye(Cr(e,t),1)}function zd(e,t){return ye(Cr(e,t),Lt)}function $d(e,t,n){return n=n===o?1:H(n),ye(Cr(e,t),n)}function Oa(e,t){var n=k(e)?$e:Ot;return n(e,N(t,3))}function Ia(e,t){var n=k(e)?uc:yo;return n(e,N(t,3))}var Kd=vr(function(e,t,n){te.call(e,n)?e[n].push(t):pt(e,n,[t])});function qd(e,t,n,r){e=Le(e)?e:rn(e),n=n&&!r?H(n):0;var s=e.length;return n<0&&(n=Ae(s+n,0)),Sr(e)?n<=s&&e.indexOf(t,n)>-1:!!s&&qt(e,t,n)>-1}var Jd=K(function(e,t,n){var r=-1,s=typeof t=="function",l=Le(e)?E(e.length):[];return Ot(e,function(p){l[++r]=s?Be(t,p,n):Cn(p,t,n)}),l}),Vd=vr(function(e,t,n){pt(e,n,t)});function Cr(e,t){var n=k(e)?ae:Ro;return n(e,N(t,3))}function Zd(e,t,n,r){return e==null?[]:(k(t)||(t=t==null?[]:[t]),n=r?o:n,k(n)||(n=n==null?[]:[n]),No(e,t,n))}var Yd=vr(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});function Xd(e,t,n){var r=k(e)?si:io,s=arguments.length<3;return r(e,N(t,4),n,s,Ot)}function Qd(e,t,n){var r=k(e)?lc:io,s=arguments.length<3;return r(e,N(t,4),n,s,yo)}function jd(e,t){var n=k(e)?Tt:Co;return n(e,Ir(N(t,3)))}function ep(e){var t=k(e)?Eo:qf;return t(e)}function tp(e,t,n){(n?Ie(e,t,n):t===o)?t=1:t=H(t);var r=k(e)?wf:Jf;return r(e,t)}function np(e){var t=k(e)?yf:Zf;return t(e)}function rp(e){if(e==null)return 0;if(Le(e))return Sr(e)?Vt(e):e.length;var t=Me(e);return t==Qe||t==je?e.size:yi(e).length}function ip(e,t,n){var r=k(e)?oi:Yf;return n&&Ie(e,t,n)&&(t=o),r(e,N(t,3))}var sp=K(function(e,t){if(e==null)return[];var n=t.length;return n>1&&Ie(e,t[0],t[1])?t=[]:n>2&&Ie(t[0],t[1],t[2])&&(t=[t[0]]),No(e,ye(t,1),[])}),Mr=Gc||function(){return Te.Date.now()};function op(e,t){if(typeof t!="function")throw new Ke(f);return e=H(e),function(){if(--e<1)return t.apply(this,arguments)}}function Pa(e,t,n){return t=n?o:t,t=e&&t==null?e.length:t,gt(e,he,o,o,o,o,t)}function Sa(e,t){var n;if(typeof t!="function")throw new Ke(f);return e=H(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=o),n}}var Vi=K(function(e,t,n){var r=x;if(n.length){var s=yt(n,tn(Vi));r|=fe}return gt(e,r,t,n,s)}),Ra=K(function(e,t,n){var r=x|G;if(n.length){var s=yt(n,tn(Ra));r|=fe}return gt(t,r,e,n,s)});function La(e,t,n){t=n?o:t;var r=gt(e,X,o,o,o,o,o,t);return r.placeholder=La.placeholder,r}function xa(e,t,n){t=n?o:t;var r=gt(e,ce,o,o,o,o,o,t);return r.placeholder=xa.placeholder,r}function Fa(e,t,n){var r,s,l,p,m,_,T=0,y=!1,O=!1,S=!0;if(typeof e!="function")throw new Ke(f);t=Ye(t)||0,ue(n)&&(y=!!n.leading,O="maxWait"in n,l=O?Ae(Ye(n.maxWait)||0,t):l,S="trailing"in n?!!n.trailing:S);function F(ve){var rt=r,Et=s;return r=s=o,T=ve,p=e.apply(Et,rt),p}function B(ve){return T=ve,m=Sn(q,t),y?F(ve):p}function z(ve){var rt=ve-_,Et=ve-T,ja=t-rt;return O?Ce(ja,l-Et):ja}function D(ve){var rt=ve-_,Et=ve-T;return _===o||rt>=t||rt<0||O&&Et>=l}function q(){var ve=Mr();if(D(ve))return Z(ve);m=Sn(q,z(ve))}function Z(ve){return m=o,S&&r?F(ve):(r=s=o,p)}function We(){m!==o&&$o(m),T=0,r=_=s=m=o}function Pe(){return m===o?p:Z(Mr())}function ke(){var ve=Mr(),rt=D(ve);if(r=arguments,s=this,_=ve,rt){if(m===o)return B(_);if(O)return $o(m),m=Sn(q,t),F(_)}return m===o&&(m=Sn(q,t)),p}return ke.cancel=We,ke.flush=Pe,ke}var ap=K(function(e,t){return wo(e,1,t)}),up=K(function(e,t,n){return wo(e,Ye(t)||0,n)});function lp(e){return gt(e,oe)}function Or(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new Ke(f);var n=function(){var r=arguments,s=t?t.apply(this,r):r[0],l=n.cache;if(l.has(s))return l.get(s);var p=e.apply(this,r);return n.cache=l.set(s,p)||l,p};return n.cache=new(Or.Cache||dt),n}Or.Cache=dt;function Ir(e){if(typeof e!="function")throw new Ke(f);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function cp(e){return Sa(2,e)}var fp=Xf(function(e,t){t=t.length==1&&k(t[0])?ae(t[0],De(N())):ae(ye(t,1),De(N()));var n=t.length;return K(function(r){for(var s=-1,l=Ce(r.length,n);++s<l;)r[s]=t[s].call(this,r[s]);return Be(e,this,r)})}),Zi=K(function(e,t){var n=yt(t,tn(Zi));return gt(e,fe,o,t,n)}),Na=K(function(e,t){var n=yt(t,tn(Na));return gt(e,ee,o,t,n)}),hp=vt(function(e,t){return gt(e,$,o,o,o,t)});function dp(e,t){if(typeof e!="function")throw new Ke(f);return t=t===o?t:H(t),K(e,t)}function pp(e,t){if(typeof e!="function")throw new Ke(f);return t=t==null?0:Ae(H(t),0),K(function(n){var r=n[t],s=St(n,0,t);return r&&wt(s,r),Be(e,this,s)})}function gp(e,t,n){var r=!0,s=!0;if(typeof e!="function")throw new Ke(f);return ue(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),Fa(e,t,{leading:r,maxWait:t,trailing:s})}function vp(e){return Pa(e,1)}function mp(e,t){return Zi(xi(t),e)}function bp(){if(!arguments.length)return[];var e=arguments[0];return k(e)?e:[e]}function _p(e){return Je(e,M)}function Ep(e,t){return t=typeof t=="function"?t:o,Je(e,M,t)}function Ap(e){return Je(e,v|M)}function Tp(e,t){return t=typeof t=="function"?t:o,Je(e,v|M,t)}function wp(e,t){return t==null||To(e,t,we(t))}function nt(e,t){return e===t||e!==e&&t!==t}var yp=Er(Ai),Cp=Er(function(e,t){return e>=t}),kt=Io(function(){return arguments}())?Io:function(e){return pe(e)&&te.call(e,"callee")&&!po.call(e,"callee")},k=E.isArray,Mp=Vs?De(Vs):Ff;function Le(e){return e!=null&&Pr(e.length)&&!bt(e)}function ge(e){return pe(e)&&Le(e)}function Op(e){return e===!0||e===!1||pe(e)&&Oe(e)==cn}var Rt=Wc||os,Ip=Zs?De(Zs):Nf;function Pp(e){return pe(e)&&e.nodeType===1&&!Rn(e)}function Sp(e){if(e==null)return!0;if(Le(e)&&(k(e)||typeof e=="string"||typeof e.splice=="function"||Rt(e)||nn(e)||kt(e)))return!e.length;var t=Me(e);if(t==Qe||t==je)return!e.size;if(Pn(e))return!yi(e).length;for(var n in e)if(te.call(e,n))return!1;return!0}function Rp(e,t){return Mn(e,t)}function Lp(e,t,n){n=typeof n=="function"?n:o;var r=n?n(e,t):o;return r===o?Mn(e,t,o,n):!!r}function Yi(e){if(!pe(e))return!1;var t=Oe(e);return t==kn||t==el||typeof e.message=="string"&&typeof e.name=="string"&&!Rn(e)}function xp(e){return typeof e=="number"&&vo(e)}function bt(e){if(!ue(e))return!1;var t=Oe(e);return t==Hn||t==Ts||t==ju||t==nl}function Ba(e){return typeof e=="number"&&e==H(e)}function Pr(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=At}function ue(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function pe(e){return e!=null&&typeof e=="object"}var Da=Ys?De(Ys):Df;function Fp(e,t){return e===t||wi(e,t,Wi(t))}function Np(e,t,n){return n=typeof n=="function"?n:o,wi(e,t,Wi(t),n)}function Bp(e){return Ga(e)&&e!=+e}function Dp(e){if(Eh(e))throw new W(d);return Po(e)}function Gp(e){return e===null}function Up(e){return e==null}function Ga(e){return typeof e=="number"||pe(e)&&Oe(e)==hn}function Rn(e){if(!pe(e)||Oe(e)!=ft)return!1;var t=nr(e);if(t===null)return!0;var n=te.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Qn.call(n)==Fc}var Xi=Xs?De(Xs):Gf;function Wp(e){return Ba(e)&&e>=-At&&e<=At}var Ua=Qs?De(Qs):Uf;function Sr(e){return typeof e=="string"||!k(e)&&pe(e)&&Oe(e)==pn}function Ue(e){return typeof e=="symbol"||pe(e)&&Oe(e)==zn}var nn=js?De(js):Wf;function kp(e){return e===o}function Hp(e){return pe(e)&&Me(e)==gn}function zp(e){return pe(e)&&Oe(e)==il}var $p=Er(Ci),Kp=Er(function(e,t){return e<=t});function Wa(e){if(!e)return[];if(Le(e))return Sr(e)?et(e):Re(e);if(bn&&e[bn])return Tc(e[bn]());var t=Me(e),n=t==Qe?hi:t==je?Zn:rn;return n(e)}function _t(e){if(!e)return e===0?e:0;if(e=Ye(e),e===Lt||e===-Lt){var t=e<0?-1:1;return t*Zu}return e===e?e:0}function H(e){var t=_t(e),n=t%1;return t===t?n?t-n:t:0}function ka(e){return e?Dt(H(e),0,it):0}function Ye(e){if(typeof e=="number")return e;if(Ue(e))return Un;if(ue(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ue(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=so(e);var n=Cl.test(e);return n||Ol.test(e)?sc(e.slice(2),n?2:8):yl.test(e)?Un:+e}function Ha(e){return ot(e,xe(e))}function qp(e){return e?Dt(H(e),-At,At):e===0?e:0}function j(e){return e==null?"":Ge(e)}var Jp=jt(function(e,t){if(Pn(t)||Le(t)){ot(t,we(t),e);return}for(var n in t)te.call(t,n)&&wn(e,n,t[n])}),za=jt(function(e,t){ot(t,xe(t),e)}),Rr=jt(function(e,t,n,r){ot(t,xe(t),e,r)}),Vp=jt(function(e,t,n,r){ot(t,we(t),e,r)}),Zp=vt(bi);function Yp(e,t){var n=Qt(e);return t==null?n:Ao(n,t)}var Xp=K(function(e,t){e=ne(e);var n=-1,r=t.length,s=r>2?t[2]:o;for(s&&Ie(t[0],t[1],s)&&(r=1);++n<r;)for(var l=t[n],p=xe(l),m=-1,_=p.length;++m<_;){var T=p[m],y=e[T];(y===o||nt(y,Zt[T])&&!te.call(e,T))&&(e[T]=l[T])}return e}),Qp=K(function(e){return e.push(o,oa),Be($a,o,e)});function jp(e,t){return to(e,N(t,3),st)}function eg(e,t){return to(e,N(t,3),Ei)}function tg(e,t){return e==null?e:_i(e,N(t,3),xe)}function ng(e,t){return e==null?e:Mo(e,N(t,3),xe)}function rg(e,t){return e&&st(e,N(t,3))}function ig(e,t){return e&&Ei(e,N(t,3))}function sg(e){return e==null?[]:hr(e,we(e))}function og(e){return e==null?[]:hr(e,xe(e))}function Qi(e,t,n){var r=e==null?o:Gt(e,t);return r===o?n:r}function ag(e,t){return e!=null&&la(e,t,Sf)}function ji(e,t){return e!=null&&la(e,t,Rf)}var ug=ta(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=jn.call(t)),e[t]=n},ts(Fe)),lg=ta(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=jn.call(t)),te.call(e,t)?e[t].push(n):e[t]=[n]},N),cg=K(Cn);function we(e){return Le(e)?_o(e):yi(e)}function xe(e){return Le(e)?_o(e,!0):kf(e)}function fg(e,t){var n={};return t=N(t,3),st(e,function(r,s,l){pt(n,t(r,s,l),r)}),n}function hg(e,t){var n={};return t=N(t,3),st(e,function(r,s,l){pt(n,s,t(r,s,l))}),n}var dg=jt(function(e,t,n){dr(e,t,n)}),$a=jt(function(e,t,n,r){dr(e,t,n,r)}),pg=vt(function(e,t){var n={};if(e==null)return n;var r=!1;t=ae(t,function(l){return l=Pt(l,e),r||(r=l.length>1),l}),ot(e,Gi(e),n),r&&(n=Je(n,v|P|M,uh));for(var s=t.length;s--;)Si(n,t[s]);return n});function gg(e,t){return Ka(e,Ir(N(t)))}var vg=vt(function(e,t){return e==null?{}:zf(e,t)});function Ka(e,t){if(e==null)return{};var n=ae(Gi(e),function(r){return[r]});return t=N(t),Bo(e,n,function(r,s){return t(r,s[0])})}function mg(e,t,n){t=Pt(t,e);var r=-1,s=t.length;for(s||(s=1,e=o);++r<s;){var l=e==null?o:e[at(t[r])];l===o&&(r=s,l=n),e=bt(l)?l.call(e):l}return e}function bg(e,t,n){return e==null?e:On(e,t,n)}function _g(e,t,n,r){return r=typeof r=="function"?r:o,e==null?e:On(e,t,n,r)}var qa=ia(we),Ja=ia(xe);function Eg(e,t,n){var r=k(e),s=r||Rt(e)||nn(e);if(t=N(t,4),n==null){var l=e&&e.constructor;s?n=r?new l:[]:ue(e)?n=bt(l)?Qt(nr(e)):{}:n={}}return(s?$e:st)(e,function(p,m,_){return t(n,p,m,_)}),n}function Ag(e,t){return e==null?!0:Si(e,t)}function Tg(e,t,n){return e==null?e:ko(e,t,xi(n))}function wg(e,t,n,r){return r=typeof r=="function"?r:o,e==null?e:ko(e,t,xi(n),r)}function rn(e){return e==null?[]:fi(e,we(e))}function yg(e){return e==null?[]:fi(e,xe(e))}function Cg(e,t,n){return n===o&&(n=t,t=o),n!==o&&(n=Ye(n),n=n===n?n:0),t!==o&&(t=Ye(t),t=t===t?t:0),Dt(Ye(e),t,n)}function Mg(e,t,n){return t=_t(t),n===o?(n=t,t=0):n=_t(n),e=Ye(e),Lf(e,t,n)}function Og(e,t,n){if(n&&typeof n!="boolean"&&Ie(e,t,n)&&(t=n=o),n===o&&(typeof t=="boolean"?(n=t,t=o):typeof e=="boolean"&&(n=e,e=o)),e===o&&t===o?(e=0,t=1):(e=_t(e),t===o?(t=e,e=0):t=_t(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var s=mo();return Ce(e+s*(t-e+ic("1e-"+((s+"").length-1))),t)}return Oi(e,t)}var Ig=en(function(e,t,n){return t=t.toLowerCase(),e+(n?Va(t):t)});function Va(e){return es(j(e).toLowerCase())}function Za(e){return e=j(e),e&&e.replace(Pl,mc).replace(Vl,"")}function Pg(e,t,n){e=j(e),t=Ge(t);var r=e.length;n=n===o?r:Dt(H(n),0,r);var s=n;return n-=t.length,n>=0&&e.slice(n,s)==t}function Sg(e){return e=j(e),e&&ll.test(e)?e.replace(Cs,bc):e}function Rg(e){return e=j(e),e&&gl.test(e)?e.replace(Zr,"\\$&"):e}var Lg=en(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),xg=en(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Fg=Qo("toLowerCase");function Ng(e,t,n){e=j(e),t=H(t);var r=t?Vt(e):0;if(!t||r>=t)return e;var s=(t-r)/2;return _r(or(s),n)+e+_r(sr(s),n)}function Bg(e,t,n){e=j(e),t=H(t);var r=t?Vt(e):0;return t&&r<t?e+_r(t-r,n):e}function Dg(e,t,n){e=j(e),t=H(t);var r=t?Vt(e):0;return t&&r<t?_r(t-r,n)+e:e}function Gg(e,t,n){return n||t==null?t=0:t&&(t=+t),$c(j(e).replace(Yr,""),t||0)}function Ug(e,t,n){return(n?Ie(e,t,n):t===o)?t=1:t=H(t),Ii(j(e),t)}function Wg(){var e=arguments,t=j(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var kg=en(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});function Hg(e,t,n){return n&&typeof n!="number"&&Ie(e,t,n)&&(t=n=o),n=n===o?it:n>>>0,n?(e=j(e),e&&(typeof t=="string"||t!=null&&!Xi(t))&&(t=Ge(t),!t&&Jt(e))?St(et(e),0,n):e.split(t,n)):[]}var zg=en(function(e,t,n){return e+(n?" ":"")+es(t)});function $g(e,t,n){return e=j(e),n=n==null?0:Dt(H(n),0,e.length),t=Ge(t),e.slice(n,n+t.length)==t}function Kg(e,t,n){var r=u.templateSettings;n&&Ie(e,t,n)&&(t=o),e=j(e),t=Rr({},t,r,sa);var s=Rr({},t.imports,r.imports,sa),l=we(s),p=fi(s,l),m,_,T=0,y=t.interpolate||$n,O="__p += '",S=di((t.escape||$n).source+"|"+y.source+"|"+(y===Ms?wl:$n).source+"|"+(t.evaluate||$n).source+"|$","g"),F="//# sourceURL="+(te.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++jl+"]")+`
`;e.replace(S,function(D,q,Z,We,Pe,ke){return Z||(Z=We),O+=e.slice(T,ke).replace(Sl,_c),q&&(m=!0,O+=`' +
__e(`+q+`) +
'`),Pe&&(_=!0,O+=`';
`+Pe+`;
__p += '`),Z&&(O+=`' +
((__t = (`+Z+`)) == null ? '' : __t) +
'`),T=ke+D.length,D}),O+=`';
`;var B=te.call(t,"variable")&&t.variable;if(!B)O=`with (obj) {
`+O+`
}
`;else if(Al.test(B))throw new W(g);O=(_?O.replace(sl,""):O).replace(ol,"$1").replace(al,"$1;"),O="function("+(B||"obj")+`) {
`+(B?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(m?", __e = _.escape":"")+(_?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+O+`return __p
}`;var z=Xa(function(){return Q(l,F+"return "+O).apply(o,p)});if(z.source=O,Yi(z))throw z;return z}function qg(e){return j(e).toLowerCase()}function Jg(e){return j(e).toUpperCase()}function Vg(e,t,n){if(e=j(e),e&&(n||t===o))return so(e);if(!e||!(t=Ge(t)))return e;var r=et(e),s=et(t),l=oo(r,s),p=ao(r,s)+1;return St(r,l,p).join("")}function Zg(e,t,n){if(e=j(e),e&&(n||t===o))return e.slice(0,lo(e)+1);if(!e||!(t=Ge(t)))return e;var r=et(e),s=ao(r,et(t))+1;return St(r,0,s).join("")}function Yg(e,t,n){if(e=j(e),e&&(n||t===o))return e.replace(Yr,"");if(!e||!(t=Ge(t)))return e;var r=et(e),s=oo(r,et(t));return St(r,s).join("")}function Xg(e,t){var n=_e,r=de;if(ue(t)){var s="separator"in t?t.separator:s;n="length"in t?H(t.length):n,r="omission"in t?Ge(t.omission):r}e=j(e);var l=e.length;if(Jt(e)){var p=et(e);l=p.length}if(n>=l)return e;var m=n-Vt(r);if(m<1)return r;var _=p?St(p,0,m).join(""):e.slice(0,m);if(s===o)return _+r;if(p&&(m+=_.length-m),Xi(s)){if(e.slice(m).search(s)){var T,y=_;for(s.global||(s=di(s.source,j(Os.exec(s))+"g")),s.lastIndex=0;T=s.exec(y);)var O=T.index;_=_.slice(0,O===o?m:O)}}else if(e.indexOf(Ge(s),m)!=m){var S=_.lastIndexOf(s);S>-1&&(_=_.slice(0,S))}return _+r}function Qg(e){return e=j(e),e&&ul.test(e)?e.replace(ys,Mc):e}var jg=en(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),es=Qo("toUpperCase");function Ya(e,t,n){return e=j(e),t=n?o:t,t===o?Ac(e)?Pc(e):hc(e):e.match(t)||[]}var Xa=K(function(e,t){try{return Be(e,o,t)}catch(n){return Yi(n)?n:new W(n)}}),ev=vt(function(e,t){return $e(t,function(n){n=at(n),pt(e,n,Vi(e[n],e))}),e});function tv(e){var t=e==null?0:e.length,n=N();return e=t?ae(e,function(r){if(typeof r[1]!="function")throw new Ke(f);return[n(r[0]),r[1]]}):[],K(function(r){for(var s=-1;++s<t;){var l=e[s];if(Be(l[0],this,r))return Be(l[1],this,r)}})}function nv(e){return Of(Je(e,v))}function ts(e){return function(){return e}}function rv(e,t){return e==null||e!==e?t:e}var iv=ea(),sv=ea(!0);function Fe(e){return e}function ns(e){return So(typeof e=="function"?e:Je(e,v))}function ov(e){return Lo(Je(e,v))}function av(e,t){return xo(e,Je(t,v))}var uv=K(function(e,t){return function(n){return Cn(n,e,t)}}),lv=K(function(e,t){return function(n){return Cn(e,n,t)}});function rs(e,t,n){var r=we(t),s=hr(t,r);n==null&&!(ue(t)&&(s.length||!r.length))&&(n=t,t=e,e=this,s=hr(t,we(t)));var l=!(ue(n)&&"chain"in n)||!!n.chain,p=bt(e);return $e(s,function(m){var _=t[m];e[m]=_,p&&(e.prototype[m]=function(){var T=this.__chain__;if(l||T){var y=e(this.__wrapped__),O=y.__actions__=Re(this.__actions__);return O.push({func:_,args:arguments,thisArg:e}),y.__chain__=T,y}return _.apply(e,wt([this.value()],arguments))})}),e}function cv(){return Te._===this&&(Te._=Nc),this}function is(){}function fv(e){return e=H(e),K(function(t){return Fo(t,e)})}var hv=Ni(ae),dv=Ni(eo),pv=Ni(oi);function Qa(e){return Hi(e)?ai(at(e)):$f(e)}function gv(e){return function(t){return e==null?o:Gt(e,t)}}var vv=na(),mv=na(!0);function ss(){return[]}function os(){return!1}function bv(){return{}}function _v(){return""}function Ev(){return!0}function Av(e,t){if(e=H(e),e<1||e>At)return[];var n=it,r=Ce(e,it);t=N(t),e-=it;for(var s=ci(r,t);++n<e;)t(n);return s}function Tv(e){return k(e)?ae(e,at):Ue(e)?[e]:Re(ba(j(e)))}function wv(e){var t=++xc;return j(e)+t}var yv=br(function(e,t){return e+t},0),Cv=Bi("ceil"),Mv=br(function(e,t){return e/t},1),Ov=Bi("floor");function Iv(e){return e&&e.length?fr(e,Fe,Ai):o}function Pv(e,t){return e&&e.length?fr(e,N(t,2),Ai):o}function Sv(e){return ro(e,Fe)}function Rv(e,t){return ro(e,N(t,2))}function Lv(e){return e&&e.length?fr(e,Fe,Ci):o}function xv(e,t){return e&&e.length?fr(e,N(t,2),Ci):o}var Fv=br(function(e,t){return e*t},1),Nv=Bi("round"),Bv=br(function(e,t){return e-t},0);function Dv(e){return e&&e.length?li(e,Fe):0}function Gv(e,t){return e&&e.length?li(e,N(t,2)):0}return u.after=op,u.ary=Pa,u.assign=Jp,u.assignIn=za,u.assignInWith=Rr,u.assignWith=Vp,u.at=Zp,u.before=Sa,u.bind=Vi,u.bindAll=ev,u.bindKey=Ra,u.castArray=bp,u.chain=Ma,u.chunk=Oh,u.compact=Ih,u.concat=Ph,u.cond=tv,u.conforms=nv,u.constant=ts,u.countBy=Dd,u.create=Yp,u.curry=La,u.curryRight=xa,u.debounce=Fa,u.defaults=Xp,u.defaultsDeep=Qp,u.defer=ap,u.delay=up,u.difference=Sh,u.differenceBy=Rh,u.differenceWith=Lh,u.drop=xh,u.dropRight=Fh,u.dropRightWhile=Nh,u.dropWhile=Bh,u.fill=Dh,u.filter=Ud,u.flatMap=Hd,u.flatMapDeep=zd,u.flatMapDepth=$d,u.flatten=Ta,u.flattenDeep=Gh,u.flattenDepth=Uh,u.flip=lp,u.flow=iv,u.flowRight=sv,u.fromPairs=Wh,u.functions=sg,u.functionsIn=og,u.groupBy=Kd,u.initial=Hh,u.intersection=zh,u.intersectionBy=$h,u.intersectionWith=Kh,u.invert=ug,u.invertBy=lg,u.invokeMap=Jd,u.iteratee=ns,u.keyBy=Vd,u.keys=we,u.keysIn=xe,u.map=Cr,u.mapKeys=fg,u.mapValues=hg,u.matches=ov,u.matchesProperty=av,u.memoize=Or,u.merge=dg,u.mergeWith=$a,u.method=uv,u.methodOf=lv,u.mixin=rs,u.negate=Ir,u.nthArg=fv,u.omit=pg,u.omitBy=gg,u.once=cp,u.orderBy=Zd,u.over=hv,u.overArgs=fp,u.overEvery=dv,u.overSome=pv,u.partial=Zi,u.partialRight=Na,u.partition=Yd,u.pick=vg,u.pickBy=Ka,u.property=Qa,u.propertyOf=gv,u.pull=Zh,u.pullAll=ya,u.pullAllBy=Yh,u.pullAllWith=Xh,u.pullAt=Qh,u.range=vv,u.rangeRight=mv,u.rearg=hp,u.reject=jd,u.remove=jh,u.rest=dp,u.reverse=qi,u.sampleSize=tp,u.set=bg,u.setWith=_g,u.shuffle=np,u.slice=ed,u.sortBy=sp,u.sortedUniq=ad,u.sortedUniqBy=ud,u.split=Hg,u.spread=pp,u.tail=ld,u.take=cd,u.takeRight=fd,u.takeRightWhile=hd,u.takeWhile=dd,u.tap=Id,u.throttle=gp,u.thru=yr,u.toArray=Wa,u.toPairs=qa,u.toPairsIn=Ja,u.toPath=Tv,u.toPlainObject=Ha,u.transform=Eg,u.unary=vp,u.union=pd,u.unionBy=gd,u.unionWith=vd,u.uniq=md,u.uniqBy=bd,u.uniqWith=_d,u.unset=Ag,u.unzip=Ji,u.unzipWith=Ca,u.update=Tg,u.updateWith=wg,u.values=rn,u.valuesIn=yg,u.without=Ed,u.words=Ya,u.wrap=mp,u.xor=Ad,u.xorBy=Td,u.xorWith=wd,u.zip=yd,u.zipObject=Cd,u.zipObjectDeep=Md,u.zipWith=Od,u.entries=qa,u.entriesIn=Ja,u.extend=za,u.extendWith=Rr,rs(u,u),u.add=yv,u.attempt=Xa,u.camelCase=Ig,u.capitalize=Va,u.ceil=Cv,u.clamp=Cg,u.clone=_p,u.cloneDeep=Ap,u.cloneDeepWith=Tp,u.cloneWith=Ep,u.conformsTo=wp,u.deburr=Za,u.defaultTo=rv,u.divide=Mv,u.endsWith=Pg,u.eq=nt,u.escape=Sg,u.escapeRegExp=Rg,u.every=Gd,u.find=Wd,u.findIndex=Ea,u.findKey=jp,u.findLast=kd,u.findLastIndex=Aa,u.findLastKey=eg,u.floor=Ov,u.forEach=Oa,u.forEachRight=Ia,u.forIn=tg,u.forInRight=ng,u.forOwn=rg,u.forOwnRight=ig,u.get=Qi,u.gt=yp,u.gte=Cp,u.has=ag,u.hasIn=ji,u.head=wa,u.identity=Fe,u.includes=qd,u.indexOf=kh,u.inRange=Mg,u.invoke=cg,u.isArguments=kt,u.isArray=k,u.isArrayBuffer=Mp,u.isArrayLike=Le,u.isArrayLikeObject=ge,u.isBoolean=Op,u.isBuffer=Rt,u.isDate=Ip,u.isElement=Pp,u.isEmpty=Sp,u.isEqual=Rp,u.isEqualWith=Lp,u.isError=Yi,u.isFinite=xp,u.isFunction=bt,u.isInteger=Ba,u.isLength=Pr,u.isMap=Da,u.isMatch=Fp,u.isMatchWith=Np,u.isNaN=Bp,u.isNative=Dp,u.isNil=Up,u.isNull=Gp,u.isNumber=Ga,u.isObject=ue,u.isObjectLike=pe,u.isPlainObject=Rn,u.isRegExp=Xi,u.isSafeInteger=Wp,u.isSet=Ua,u.isString=Sr,u.isSymbol=Ue,u.isTypedArray=nn,u.isUndefined=kp,u.isWeakMap=Hp,u.isWeakSet=zp,u.join=qh,u.kebabCase=Lg,u.last=Ze,u.lastIndexOf=Jh,u.lowerCase=xg,u.lowerFirst=Fg,u.lt=$p,u.lte=Kp,u.max=Iv,u.maxBy=Pv,u.mean=Sv,u.meanBy=Rv,u.min=Lv,u.minBy=xv,u.stubArray=ss,u.stubFalse=os,u.stubObject=bv,u.stubString=_v,u.stubTrue=Ev,u.multiply=Fv,u.nth=Vh,u.noConflict=cv,u.noop=is,u.now=Mr,u.pad=Ng,u.padEnd=Bg,u.padStart=Dg,u.parseInt=Gg,u.random=Og,u.reduce=Xd,u.reduceRight=Qd,u.repeat=Ug,u.replace=Wg,u.result=mg,u.round=Nv,u.runInContext=b,u.sample=ep,u.size=rp,u.snakeCase=kg,u.some=ip,u.sortedIndex=td,u.sortedIndexBy=nd,u.sortedIndexOf=rd,u.sortedLastIndex=id,u.sortedLastIndexBy=sd,u.sortedLastIndexOf=od,u.startCase=zg,u.startsWith=$g,u.subtract=Bv,u.sum=Dv,u.sumBy=Gv,u.template=Kg,u.times=Av,u.toFinite=_t,u.toInteger=H,u.toLength=ka,u.toLower=qg,u.toNumber=Ye,u.toSafeInteger=qp,u.toString=j,u.toUpper=Jg,u.trim=Vg,u.trimEnd=Zg,u.trimStart=Yg,u.truncate=Xg,u.unescape=Qg,u.uniqueId=wv,u.upperCase=jg,u.upperFirst=es,u.each=Oa,u.eachRight=Ia,u.first=wa,rs(u,function(){var e={};return st(u,function(t,n){te.call(u.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),u.VERSION=a,$e(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){u[e].placeholder=u}),$e(["drop","take"],function(e,t){J.prototype[e]=function(n){n=n===o?1:Ae(H(n),0);var r=this.__filtered__&&!t?new J(this):this.clone();return r.__filtered__?r.__takeCount__=Ce(n,r.__takeCount__):r.__views__.push({size:Ce(n,it),type:e+(r.__dir__<0?"Right":"")}),r},J.prototype[e+"Right"]=function(n){return this.reverse()[e](n).reverse()}}),$e(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==As||n==Vu;J.prototype[e]=function(s){var l=this.clone();return l.__iteratees__.push({iteratee:N(s,3),type:n}),l.__filtered__=l.__filtered__||r,l}}),$e(["head","last"],function(e,t){var n="take"+(t?"Right":"");J.prototype[e]=function(){return this[n](1).value()[0]}}),$e(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");J.prototype[e]=function(){return this.__filtered__?new J(this):this[n](1)}}),J.prototype.compact=function(){return this.filter(Fe)},J.prototype.find=function(e){return this.filter(e).head()},J.prototype.findLast=function(e){return this.reverse().find(e)},J.prototype.invokeMap=K(function(e,t){return typeof e=="function"?new J(this):this.map(function(n){return Cn(n,e,t)})}),J.prototype.reject=function(e){return this.filter(Ir(N(e)))},J.prototype.slice=function(e,t){e=H(e);var n=this;return n.__filtered__&&(e>0||t<0)?new J(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==o&&(t=H(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)},J.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},J.prototype.toArray=function(){return this.take(it)},st(J.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),s=u[r?"take"+(t=="last"?"Right":""):t],l=r||/^find/.test(t);!s||(u.prototype[t]=function(){var p=this.__wrapped__,m=r?[1]:arguments,_=p instanceof J,T=m[0],y=_||k(p),O=function(q){var Z=s.apply(u,wt([q],m));return r&&S?Z[0]:Z};y&&n&&typeof T=="function"&&T.length!=1&&(_=y=!1);var S=this.__chain__,F=!!this.__actions__.length,B=l&&!S,z=_&&!F;if(!l&&y){p=z?p:new J(this);var D=e.apply(p,m);return D.__actions__.push({func:yr,args:[O],thisArg:o}),new qe(D,S)}return B&&z?e.apply(this,m):(D=this.thru(O),B?r?D.value()[0]:D.value():D)})}),$e(["pop","push","shift","sort","splice","unshift"],function(e){var t=Yn[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);u.prototype[e]=function(){var s=arguments;if(r&&!this.__chain__){var l=this.value();return t.apply(k(l)?l:[],s)}return this[n](function(p){return t.apply(k(p)?p:[],s)})}}),st(J.prototype,function(e,t){var n=u[t];if(n){var r=n.name+"";te.call(Xt,r)||(Xt[r]=[]),Xt[r].push({name:t,func:n})}}),Xt[mr(o,G).name]=[{name:"wrapper",func:o}],J.prototype.clone=Xc,J.prototype.reverse=Qc,J.prototype.value=jc,u.prototype.at=Pd,u.prototype.chain=Sd,u.prototype.commit=Rd,u.prototype.next=Ld,u.prototype.plant=Fd,u.prototype.reverse=Nd,u.prototype.toJSON=u.prototype.valueOf=u.prototype.value=Bd,u.prototype.first=u.prototype.head,bn&&(u.prototype[bn]=xd),u},Ct=Sc();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(Te._=Ct,define(function(){return Ct})):xt?((xt.exports=Ct)._=Ct,ni._=Ct):Te._=Ct}).call(ln)});var Ku=be((Bn,vs)=>{I();(function(o,a){typeof Bn=="object"&&typeof vs=="object"?vs.exports=a():typeof define=="function"&&define.amd?define([],a):typeof Bn=="object"?Bn.bowser=a():o.bowser=a()})(Bn,function(){return function(o){var a={};function i(d){if(a[d])return a[d].exports;var f=a[d]={i:d,l:!1,exports:{}};return o[d].call(f.exports,f,f.exports,i),f.l=!0,f.exports}return i.m=o,i.c=a,i.d=function(d,f,g){i.o(d,f)||Object.defineProperty(d,f,{enumerable:!0,get:g})},i.r=function(d){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},i.t=function(d,f){if(1&f&&(d=i(d)),8&f||4&f&&typeof d=="object"&&d&&d.__esModule)return d;var g=Object.create(null);if(i.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:d}),2&f&&typeof d!="string")for(var w in d)i.d(g,w,function(c){return d[c]}.bind(null,w));return g},i.n=function(d){var f=d&&d.__esModule?function(){return d.default}:function(){return d};return i.d(f,"a",f),f},i.o=function(d,f){return Object.prototype.hasOwnProperty.call(d,f)},i.p="",i(i.s=90)}({17:function(o,a,i){"use strict";a.__esModule=!0,a.default=void 0;var d=i(18),f=function(){function g(){}return g.getFirstMatch=function(w,c){var h=c.match(w);return h&&h.length>0&&h[1]||""},g.getSecondMatch=function(w,c){var h=c.match(w);return h&&h.length>1&&h[2]||""},g.matchAndReturnConst=function(w,c,h){if(w.test(c))return h},g.getWindowsVersionName=function(w){switch(w){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},g.getMacOSVersionName=function(w){var c=w.split(".").splice(0,2).map(function(h){return parseInt(h,10)||0});if(c.push(0),c[0]===10)switch(c[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},g.getAndroidVersionName=function(w){var c=w.split(".").splice(0,2).map(function(h){return parseInt(h,10)||0});if(c.push(0),!(c[0]===1&&c[1]<5))return c[0]===1&&c[1]<6?"Cupcake":c[0]===1&&c[1]>=6?"Donut":c[0]===2&&c[1]<2?"Eclair":c[0]===2&&c[1]===2?"Froyo":c[0]===2&&c[1]>2?"Gingerbread":c[0]===3?"Honeycomb":c[0]===4&&c[1]<1?"Ice Cream Sandwich":c[0]===4&&c[1]<4?"Jelly Bean":c[0]===4&&c[1]>=4?"KitKat":c[0]===5?"Lollipop":c[0]===6?"Marshmallow":c[0]===7?"Nougat":c[0]===8?"Oreo":c[0]===9?"Pie":void 0},g.getVersionPrecision=function(w){return w.split(".").length},g.compareVersions=function(w,c,h){h===void 0&&(h=!1);var v=g.getVersionPrecision(w),P=g.getVersionPrecision(c),M=Math.max(v,P),C=0,R=g.map([w,c],function(x){var G=M-g.getVersionPrecision(x),V=x+new Array(G+1).join(".0");return g.map(V.split("."),function(X){return new Array(20-X.length).join("0")+X}).reverse()});for(h&&(C=M-Math.min(v,P)),M-=1;M>=C;){if(R[0][M]>R[1][M])return 1;if(R[0][M]===R[1][M]){if(M===C)return 0;M-=1}else if(R[0][M]<R[1][M])return-1}},g.map=function(w,c){var h,v=[];if(Array.prototype.map)return Array.prototype.map.call(w,c);for(h=0;h<w.length;h+=1)v.push(c(w[h]));return v},g.find=function(w,c){var h,v;if(Array.prototype.find)return Array.prototype.find.call(w,c);for(h=0,v=w.length;h<v;h+=1){var P=w[h];if(c(P,h))return P}},g.assign=function(w){for(var c,h,v=w,P=arguments.length,M=new Array(P>1?P-1:0),C=1;C<P;C++)M[C-1]=arguments[C];if(Object.assign)return Object.assign.apply(Object,[w].concat(M));var R=function(){var x=M[c];typeof x=="object"&&x!==null&&Object.keys(x).forEach(function(G){v[G]=x[G]})};for(c=0,h=M.length;c<h;c+=1)R();return w},g.getBrowserAlias=function(w){return d.BROWSER_ALIASES_MAP[w]},g.getBrowserTypeByAlias=function(w){return d.BROWSER_MAP[w]||""},g}();a.default=f,o.exports=a.default},18:function(o,a,i){"use strict";a.__esModule=!0,a.ENGINE_MAP=a.OS_MAP=a.PLATFORMS_MAP=a.BROWSER_MAP=a.BROWSER_ALIASES_MAP=void 0,a.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},a.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},a.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},a.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},a.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(o,a,i){"use strict";a.__esModule=!0,a.default=void 0;var d,f=(d=i(91))&&d.__esModule?d:{default:d},g=i(18);function w(h,v){for(var P=0;P<v.length;P++){var M=v[P];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(h,M.key,M)}}var c=function(){function h(){}var v,P,M;return h.getParser=function(C,R){if(R===void 0&&(R=!1),typeof C!="string")throw new Error("UserAgent should be a string");return new f.default(C,R)},h.parse=function(C){return new f.default(C).getResult()},v=h,M=[{key:"BROWSER_MAP",get:function(){return g.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return g.ENGINE_MAP}},{key:"OS_MAP",get:function(){return g.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return g.PLATFORMS_MAP}}],(P=null)&&w(v.prototype,P),M&&w(v,M),h}();a.default=c,o.exports=a.default},91:function(o,a,i){"use strict";a.__esModule=!0,a.default=void 0;var d=h(i(92)),f=h(i(93)),g=h(i(94)),w=h(i(95)),c=h(i(17));function h(P){return P&&P.__esModule?P:{default:P}}var v=function(){function P(C,R){if(R===void 0&&(R=!1),C==null||C==="")throw new Error("UserAgent parameter can't be empty");this._ua=C,this.parsedResult={},R!==!0&&this.parse()}var M=P.prototype;return M.getUA=function(){return this._ua},M.test=function(C){return C.test(this._ua)},M.parseBrowser=function(){var C=this;this.parsedResult.browser={};var R=c.default.find(d.default,function(x){if(typeof x.test=="function")return x.test(C);if(x.test instanceof Array)return x.test.some(function(G){return C.test(G)});throw new Error("Browser's test function is not valid")});return R&&(this.parsedResult.browser=R.describe(this.getUA())),this.parsedResult.browser},M.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},M.getBrowserName=function(C){return C?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},M.getBrowserVersion=function(){return this.getBrowser().version},M.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},M.parseOS=function(){var C=this;this.parsedResult.os={};var R=c.default.find(f.default,function(x){if(typeof x.test=="function")return x.test(C);if(x.test instanceof Array)return x.test.some(function(G){return C.test(G)});throw new Error("Browser's test function is not valid")});return R&&(this.parsedResult.os=R.describe(this.getUA())),this.parsedResult.os},M.getOSName=function(C){var R=this.getOS().name;return C?String(R).toLowerCase()||"":R||""},M.getOSVersion=function(){return this.getOS().version},M.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},M.getPlatformType=function(C){C===void 0&&(C=!1);var R=this.getPlatform().type;return C?String(R).toLowerCase()||"":R||""},M.parsePlatform=function(){var C=this;this.parsedResult.platform={};var R=c.default.find(g.default,function(x){if(typeof x.test=="function")return x.test(C);if(x.test instanceof Array)return x.test.some(function(G){return C.test(G)});throw new Error("Browser's test function is not valid")});return R&&(this.parsedResult.platform=R.describe(this.getUA())),this.parsedResult.platform},M.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},M.getEngineName=function(C){return C?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},M.parseEngine=function(){var C=this;this.parsedResult.engine={};var R=c.default.find(w.default,function(x){if(typeof x.test=="function")return x.test(C);if(x.test instanceof Array)return x.test.some(function(G){return C.test(G)});throw new Error("Browser's test function is not valid")});return R&&(this.parsedResult.engine=R.describe(this.getUA())),this.parsedResult.engine},M.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},M.getResult=function(){return c.default.assign({},this.parsedResult)},M.satisfies=function(C){var R=this,x={},G=0,V={},X=0;if(Object.keys(C).forEach(function(de){var ct=C[de];typeof ct=="string"?(V[de]=ct,X+=1):typeof ct=="object"&&(x[de]=ct,G+=1)}),G>0){var ce=Object.keys(x),fe=c.default.find(ce,function(de){return R.isOS(de)});if(fe){var ee=this.satisfies(x[fe]);if(ee!==void 0)return ee}var he=c.default.find(ce,function(de){return R.isPlatform(de)});if(he){var $=this.satisfies(x[he]);if($!==void 0)return $}}if(X>0){var oe=Object.keys(V),_e=c.default.find(oe,function(de){return R.isBrowser(de,!0)});if(_e!==void 0)return this.compareVersion(V[_e])}},M.isBrowser=function(C,R){R===void 0&&(R=!1);var x=this.getBrowserName().toLowerCase(),G=C.toLowerCase(),V=c.default.getBrowserTypeByAlias(G);return R&&V&&(G=V.toLowerCase()),G===x},M.compareVersion=function(C){var R=[0],x=C,G=!1,V=this.getBrowserVersion();if(typeof V=="string")return C[0]===">"||C[0]==="<"?(x=C.substr(1),C[1]==="="?(G=!0,x=C.substr(2)):R=[],C[0]===">"?R.push(1):R.push(-1)):C[0]==="="?x=C.substr(1):C[0]==="~"&&(G=!0,x=C.substr(1)),R.indexOf(c.default.compareVersions(V,x,G))>-1},M.isOS=function(C){return this.getOSName(!0)===String(C).toLowerCase()},M.isPlatform=function(C){return this.getPlatformType(!0)===String(C).toLowerCase()},M.isEngine=function(C){return this.getEngineName(!0)===String(C).toLowerCase()},M.is=function(C,R){return R===void 0&&(R=!1),this.isBrowser(C,R)||this.isOS(C)||this.isPlatform(C)},M.some=function(C){var R=this;return C===void 0&&(C=[]),C.some(function(x){return R.is(x)})},P}();a.default=v,o.exports=a.default},92:function(o,a,i){"use strict";a.__esModule=!0,a.default=void 0;var d,f=(d=i(17))&&d.__esModule?d:{default:d},g=/version\/(\d+(\.?_?\d+)+)/i,w=[{test:[/googlebot/i],describe:function(c){var h={name:"Googlebot"},v=f.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,c)||f.default.getFirstMatch(g,c);return v&&(h.version=v),h}},{test:[/opera/i],describe:function(c){var h={name:"Opera"},v=f.default.getFirstMatch(g,c)||f.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,c);return v&&(h.version=v),h}},{test:[/opr\/|opios/i],describe:function(c){var h={name:"Opera"},v=f.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,c)||f.default.getFirstMatch(g,c);return v&&(h.version=v),h}},{test:[/SamsungBrowser/i],describe:function(c){var h={name:"Samsung Internet for Android"},v=f.default.getFirstMatch(g,c)||f.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,c);return v&&(h.version=v),h}},{test:[/Whale/i],describe:function(c){var h={name:"NAVER Whale Browser"},v=f.default.getFirstMatch(g,c)||f.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,c);return v&&(h.version=v),h}},{test:[/MZBrowser/i],describe:function(c){var h={name:"MZ Browser"},v=f.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,c)||f.default.getFirstMatch(g,c);return v&&(h.version=v),h}},{test:[/focus/i],describe:function(c){var h={name:"Focus"},v=f.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,c)||f.default.getFirstMatch(g,c);return v&&(h.version=v),h}},{test:[/swing/i],describe:function(c){var h={name:"Swing"},v=f.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,c)||f.default.getFirstMatch(g,c);return v&&(h.version=v),h}},{test:[/coast/i],describe:function(c){var h={name:"Opera Coast"},v=f.default.getFirstMatch(g,c)||f.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,c);return v&&(h.version=v),h}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(c){var h={name:"Opera Touch"},v=f.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,c)||f.default.getFirstMatch(g,c);return v&&(h.version=v),h}},{test:[/yabrowser/i],describe:function(c){var h={name:"Yandex Browser"},v=f.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,c)||f.default.getFirstMatch(g,c);return v&&(h.version=v),h}},{test:[/ucbrowser/i],describe:function(c){var h={name:"UC Browser"},v=f.default.getFirstMatch(g,c)||f.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,c);return v&&(h.version=v),h}},{test:[/Maxthon|mxios/i],describe:function(c){var h={name:"Maxthon"},v=f.default.getFirstMatch(g,c)||f.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,c);return v&&(h.version=v),h}},{test:[/epiphany/i],describe:function(c){var h={name:"Epiphany"},v=f.default.getFirstMatch(g,c)||f.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,c);return v&&(h.version=v),h}},{test:[/puffin/i],describe:function(c){var h={name:"Puffin"},v=f.default.getFirstMatch(g,c)||f.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,c);return v&&(h.version=v),h}},{test:[/sleipnir/i],describe:function(c){var h={name:"Sleipnir"},v=f.default.getFirstMatch(g,c)||f.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,c);return v&&(h.version=v),h}},{test:[/k-meleon/i],describe:function(c){var h={name:"K-Meleon"},v=f.default.getFirstMatch(g,c)||f.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,c);return v&&(h.version=v),h}},{test:[/micromessenger/i],describe:function(c){var h={name:"WeChat"},v=f.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,c)||f.default.getFirstMatch(g,c);return v&&(h.version=v),h}},{test:[/qqbrowser/i],describe:function(c){var h={name:/qqbrowserlite/i.test(c)?"QQ Browser Lite":"QQ Browser"},v=f.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,c)||f.default.getFirstMatch(g,c);return v&&(h.version=v),h}},{test:[/msie|trident/i],describe:function(c){var h={name:"Internet Explorer"},v=f.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,c);return v&&(h.version=v),h}},{test:[/\sedg\//i],describe:function(c){var h={name:"Microsoft Edge"},v=f.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,c);return v&&(h.version=v),h}},{test:[/edg([ea]|ios)/i],describe:function(c){var h={name:"Microsoft Edge"},v=f.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,c);return v&&(h.version=v),h}},{test:[/vivaldi/i],describe:function(c){var h={name:"Vivaldi"},v=f.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,c);return v&&(h.version=v),h}},{test:[/seamonkey/i],describe:function(c){var h={name:"SeaMonkey"},v=f.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,c);return v&&(h.version=v),h}},{test:[/sailfish/i],describe:function(c){var h={name:"Sailfish"},v=f.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,c);return v&&(h.version=v),h}},{test:[/silk/i],describe:function(c){var h={name:"Amazon Silk"},v=f.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,c);return v&&(h.version=v),h}},{test:[/phantom/i],describe:function(c){var h={name:"PhantomJS"},v=f.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,c);return v&&(h.version=v),h}},{test:[/slimerjs/i],describe:function(c){var h={name:"SlimerJS"},v=f.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,c);return v&&(h.version=v),h}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(c){var h={name:"BlackBerry"},v=f.default.getFirstMatch(g,c)||f.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,c);return v&&(h.version=v),h}},{test:[/(web|hpw)[o0]s/i],describe:function(c){var h={name:"WebOS Browser"},v=f.default.getFirstMatch(g,c)||f.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,c);return v&&(h.version=v),h}},{test:[/bada/i],describe:function(c){var h={name:"Bada"},v=f.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,c);return v&&(h.version=v),h}},{test:[/tizen/i],describe:function(c){var h={name:"Tizen"},v=f.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,c)||f.default.getFirstMatch(g,c);return v&&(h.version=v),h}},{test:[/qupzilla/i],describe:function(c){var h={name:"QupZilla"},v=f.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,c)||f.default.getFirstMatch(g,c);return v&&(h.version=v),h}},{test:[/firefox|iceweasel|fxios/i],describe:function(c){var h={name:"Firefox"},v=f.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,c);return v&&(h.version=v),h}},{test:[/electron/i],describe:function(c){var h={name:"Electron"},v=f.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,c);return v&&(h.version=v),h}},{test:[/MiuiBrowser/i],describe:function(c){var h={name:"Miui"},v=f.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,c);return v&&(h.version=v),h}},{test:[/chromium/i],describe:function(c){var h={name:"Chromium"},v=f.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,c)||f.default.getFirstMatch(g,c);return v&&(h.version=v),h}},{test:[/chrome|crios|crmo/i],describe:function(c){var h={name:"Chrome"},v=f.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,c);return v&&(h.version=v),h}},{test:[/GSA/i],describe:function(c){var h={name:"Google Search"},v=f.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,c);return v&&(h.version=v),h}},{test:function(c){var h=!c.test(/like android/i),v=c.test(/android/i);return h&&v},describe:function(c){var h={name:"Android Browser"},v=f.default.getFirstMatch(g,c);return v&&(h.version=v),h}},{test:[/playstation 4/i],describe:function(c){var h={name:"PlayStation 4"},v=f.default.getFirstMatch(g,c);return v&&(h.version=v),h}},{test:[/safari|applewebkit/i],describe:function(c){var h={name:"Safari"},v=f.default.getFirstMatch(g,c);return v&&(h.version=v),h}},{test:[/.*/i],describe:function(c){var h=c.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:f.default.getFirstMatch(h,c),version:f.default.getSecondMatch(h,c)}}}];a.default=w,o.exports=a.default},93:function(o,a,i){"use strict";a.__esModule=!0,a.default=void 0;var d,f=(d=i(17))&&d.__esModule?d:{default:d},g=i(18),w=[{test:[/Roku\/DVP/],describe:function(c){var h=f.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,c);return{name:g.OS_MAP.Roku,version:h}}},{test:[/windows phone/i],describe:function(c){var h=f.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,c);return{name:g.OS_MAP.WindowsPhone,version:h}}},{test:[/windows /i],describe:function(c){var h=f.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,c),v=f.default.getWindowsVersionName(h);return{name:g.OS_MAP.Windows,version:h,versionName:v}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(c){var h={name:g.OS_MAP.iOS},v=f.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,c);return v&&(h.version=v),h}},{test:[/macintosh/i],describe:function(c){var h=f.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,c).replace(/[_\s]/g,"."),v=f.default.getMacOSVersionName(h),P={name:g.OS_MAP.MacOS,version:h};return v&&(P.versionName=v),P}},{test:[/(ipod|iphone|ipad)/i],describe:function(c){var h=f.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,c).replace(/[_\s]/g,".");return{name:g.OS_MAP.iOS,version:h}}},{test:function(c){var h=!c.test(/like android/i),v=c.test(/android/i);return h&&v},describe:function(c){var h=f.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,c),v=f.default.getAndroidVersionName(h),P={name:g.OS_MAP.Android,version:h};return v&&(P.versionName=v),P}},{test:[/(web|hpw)[o0]s/i],describe:function(c){var h=f.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,c),v={name:g.OS_MAP.WebOS};return h&&h.length&&(v.version=h),v}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(c){var h=f.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,c)||f.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,c)||f.default.getFirstMatch(/\bbb(\d+)/i,c);return{name:g.OS_MAP.BlackBerry,version:h}}},{test:[/bada/i],describe:function(c){var h=f.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,c);return{name:g.OS_MAP.Bada,version:h}}},{test:[/tizen/i],describe:function(c){var h=f.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,c);return{name:g.OS_MAP.Tizen,version:h}}},{test:[/linux/i],describe:function(){return{name:g.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:g.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(c){var h=f.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,c);return{name:g.OS_MAP.PlayStation4,version:h}}}];a.default=w,o.exports=a.default},94:function(o,a,i){"use strict";a.__esModule=!0,a.default=void 0;var d,f=(d=i(17))&&d.__esModule?d:{default:d},g=i(18),w=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(c){var h=f.default.getFirstMatch(/(can-l01)/i,c)&&"Nova",v={type:g.PLATFORMS_MAP.mobile,vendor:"Huawei"};return h&&(v.model=h),v}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:g.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:g.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:g.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:g.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:g.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:g.PLATFORMS_MAP.tablet}}},{test:function(c){var h=c.test(/ipod|iphone/i),v=c.test(/like (ipod|iphone)/i);return h&&!v},describe:function(c){var h=f.default.getFirstMatch(/(ipod|iphone)/i,c);return{type:g.PLATFORMS_MAP.mobile,vendor:"Apple",model:h}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:g.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:g.PLATFORMS_MAP.mobile}}},{test:function(c){return c.getBrowserName(!0)==="blackberry"},describe:function(){return{type:g.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(c){return c.getBrowserName(!0)==="bada"},describe:function(){return{type:g.PLATFORMS_MAP.mobile}}},{test:function(c){return c.getBrowserName()==="windows phone"},describe:function(){return{type:g.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(c){var h=Number(String(c.getOSVersion()).split(".")[0]);return c.getOSName(!0)==="android"&&h>=3},describe:function(){return{type:g.PLATFORMS_MAP.tablet}}},{test:function(c){return c.getOSName(!0)==="android"},describe:function(){return{type:g.PLATFORMS_MAP.mobile}}},{test:function(c){return c.getOSName(!0)==="macos"},describe:function(){return{type:g.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(c){return c.getOSName(!0)==="windows"},describe:function(){return{type:g.PLATFORMS_MAP.desktop}}},{test:function(c){return c.getOSName(!0)==="linux"},describe:function(){return{type:g.PLATFORMS_MAP.desktop}}},{test:function(c){return c.getOSName(!0)==="playstation 4"},describe:function(){return{type:g.PLATFORMS_MAP.tv}}},{test:function(c){return c.getOSName(!0)==="roku"},describe:function(){return{type:g.PLATFORMS_MAP.tv}}}];a.default=w,o.exports=a.default},95:function(o,a,i){"use strict";a.__esModule=!0,a.default=void 0;var d,f=(d=i(17))&&d.__esModule?d:{default:d},g=i(18),w=[{test:function(c){return c.getBrowserName(!0)==="microsoft edge"},describe:function(c){if(/\sedg\//i.test(c))return{name:g.ENGINE_MAP.Blink};var h=f.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,c);return{name:g.ENGINE_MAP.EdgeHTML,version:h}}},{test:[/trident/i],describe:function(c){var h={name:g.ENGINE_MAP.Trident},v=f.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,c);return v&&(h.version=v),h}},{test:function(c){return c.test(/presto/i)},describe:function(c){var h={name:g.ENGINE_MAP.Presto},v=f.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,c);return v&&(h.version=v),h}},{test:function(c){var h=c.test(/gecko/i),v=c.test(/like gecko/i);return h&&!v},describe:function(c){var h={name:g.ENGINE_MAP.Gecko},v=f.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,c);return v&&(h.version=v),h}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:g.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(c){var h={name:g.ENGINE_MAP.WebKit},v=f.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,c);return v&&(h.version=v),h}}];a.default=w,o.exports=a.default}})})});I();I();I();I();var Se=(f,g,w,...c)=>le(void 0,[f,g,w,...c],function*(o,a,i,d={}){let h=yield fetch(o,{method:a,headers:Ne({"Content-Type":"application/json"},d),body:i?JSON.stringify(i):null});if(!h.ok)throw h;try{return yield h.json()}catch(v){return h.ok}});I();var uu=Ln(au()),me=class{constructor(a){this.debug=(0,uu.default)(a)}log(a,...i){this.debug(a,...i)}};I();I();var zu=Ln(Hu());var se=class{constructor(a={}){this.subscribe=a=>{this.callbacks.push(a)};this.unsubscribe=a=>{this.callbacks=this.callbacks.filter(i=>i!==a)};this.publish=(...a)=>{!this.callbacks||this.callbacks.forEach(i=>{this.callListener(i,a).catch(d=>{this.logger.log("superviz-sdk:observer-helper:publish:error",`
            Failed to execute callback on publish value.
            Callback: ${i}
            Event: ${JSON.stringify(a)}
            Error: ${d}
          `)})})};this.reset=()=>{this.callbacks=[]};this.destroy=()=>{delete this.logger,delete this.callbacks};this.callListener=(a,i)=>new Promise((d,f)=>{try{let g=a(...i);d(g)}catch(g){f(g)}});let{logger:i,throttleTime:d}=a;this.logger=i!=null?i:new me("@superviz/sdk/observer-helper"),this.throttle=d,this.callbacks=[],this.throttle&&(this.publish=(0,zu.default)(this.publish,this.throttle))}};var Fn=class{constructor(){this.observers={};this.subscribe=(a,i)=>{this.logger.log(`subscribed to ${a} event`),this.observers[a]||(this.observers[a]=new se({logger:this.logger})),this.observers[a].subscribe(i)};this.unsubscribe=(a,i)=>{this.logger.log(`unsubscribed from ${a} event`),this.observers[a]&&(this.observers[a].reset(),delete this.observers[a])};this.publish=(a,i)=>{a in this.observers&&this.observers[a].publish(i)}}};I();I();I();var $u=Ln(fs()),hs=class{setConfig(a){this.configuration=a}get(a,i){if(!this.configuration)throw new Error("configs is not available");return(0,$u.get)(this.configuration,a,i)}},Y=new hs;var Xe=class{static createUrl(a,i,d={}){let f=new URL(i,a);return Object.keys(d).forEach(g=>f.searchParams.append(g,d[g])),f.toString()}static validateApiKey(a,i){let d="/user/checkapikey",f=this.createUrl(a,d);return Se(f,"POST",{apiKey:i})}static fetchConfig(a,i){let d="/immersive-config",f=this.createUrl(a,d);return Se(f,"POST",{apiKey:i})}static fetchLimits(a,i){return le(this,null,function*(){let d="/user/check_limits",f=this.createUrl(a,d);return(yield Se(f,"GET","",{apikey:i})).usage})}static fetchWaterMark(a,i){return le(this,null,function*(){let d="/user/watermark",f=this.createUrl(a,d),{message:g}=yield Se(f,"POST",{apiKey:i});return g})}static createAnnotations(a,i,d){return le(this,null,function*(){let f="/annotations",g=this.createUrl(a,f);return Se(g,"POST",Ne({},d),{apikey:i})})}static updateComment(a,i,d,f){return le(this,null,function*(){let g=`/comments/${d}`,w=this.createUrl(a,g);return Se(w,"PUT",{text:f},{apikey:i})})}static createComment(a,i,d){return le(this,null,function*(){let f="/comments",g=this.createUrl(a,f);return Se(g,"POST",Ne({},d),{apikey:i})})}static fetchAnnotation(a,i,d){return le(this,null,function*(){let f="/annotations",g=this.createUrl(a,f,{roomId:d.roomId,url:d.url});return Se(g,"GET",void 0,{apikey:i})})}static resolveAnnotation(a,i,d){return le(this,null,function*(){let f=`/annotations/resolve/${d}`,g=this.createUrl(a,f);return Se(g,"POST",{},{apikey:i})})}static deleteComment(a,i,d){return le(this,null,function*(){let f=`/comments/${d}`,g=this.createUrl(a,f);return Se(g,"DELETE",{},{apikey:i})})}static deleteAnnotation(a,i,d){return le(this,null,function*(){let f=`/annotations/${d}`,g=this.createUrl(a,f);return Se(g,"DELETE",{},{apikey:i})})}static createOrUpdateParticipant(a,i){return le(this,null,function*(){let d=Y.get("apiUrl"),f="/participants",g=this.createUrl(d,f);return Se(g,"POST",Ne({},i),{apikey:a})})}static sendActivity(a,i,d,f){return le(this,null,function*(){let g="/activity",w=Y.get("apiUrl"),c=Y.get("roomId"),h=Y.get("apiKey"),v=this.createUrl(w,g);return Se(v,"POST",{groupId:i,groupName:d,meetingId:c,product:f,userId:a},{apikey:h})})}};I();I();var ut=class extends Fn{constructor(){super(...arguments);this.isAttached=!1;this.attach=i=>{if(Object.values(i).includes(null)||Object.values(i).includes(void 0)){let h=`${this.name} @ attach - params are required`;throw this.logger.log(h),new Error(h)}let{realtime:d,localParticipant:f,group:g,config:w,eventBus:c}=i;if(Y.setConfig(w),this.realtime=d,this.localParticipant=f,this.group=g,this.eventBus=c,this.isAttached=!0,!this.realtime.isJoinedRoom){this.logger.log(`${this.name} @ attach - not joined yet`),setTimeout(()=>{this.logger.log(`${this.name} @ attach - retrying`),this.attach(i)},1e3);return}this.logger.log(`${this.name} @ attached`),this.start()};this.detach=()=>{if(!this.isAttached){this.logger.log(`${this.name} @ detach - component is not attached}`);return}this.logger.log("detached"),this.destroy(),this.realtime=void 0,this.localParticipant=void 0,this.isAttached=!1,Object.keys(this.observers).forEach(i=>this.unsubscribe(i))}}};I();var ds=class extends ut{constructor(i){super();this.sidebarOpen=!1;this.onFixedPin=i=>{document.body.dispatchEvent(new CustomEvent("prepare-to-create-annotation",{detail:Ne({},i),composed:!0,bubbles:!0}))};this.toggleAnnotationSidebar=()=>{this.element.toggleAttribute("open"),this.sidebarOpen=this.element.hasAttribute("open"),this.pinAdapter.setActive(this.sidebarOpen),document.body.dispatchEvent(new CustomEvent("prepare-to-create-annotation",{detail:void 0,composed:!0,bubbles:!0}))};this.createAnnotation=d=>le(this,[d],function*({detail:i}){try{let{position:f,text:g}=i,{url:w}=this,c=yield Xe.createAnnotations(Y.get("apiUrl"),Y.get("apiKey"),{roomId:Y.get("roomId"),position:JSON.stringify(f),url:w,userId:this.localParticipant.id}),h=yield this.createComment(c.uuid,g);this.addAnnotation(sn(Ne({},c),{comments:[h]})),this.pinAdapter.removeAnnotationPin("temporary-pin"),document.body.dispatchEvent(new CustomEvent("select-annotation",{detail:{uuid:c.uuid},composed:!0,bubbles:!0}))}catch(f){this.logger.log("error when creating annotation",f)}});this.deleteAnnotation=d=>le(this,[d],function*({detail:i}){try{let{uuid:f}=i;yield Xe.deleteAnnotation(Y.get("apiUrl"),Y.get("apiKey"),f);let g=this.annotations.filter(w=>w.uuid!==f);this.updateAnnotationList(g),this.pinAdapter.removeAnnotationPin(f)}catch(f){this.logger.log("error when deleting annotation",f)}});this.updateComment=d=>le(this,[d],function*({detail:i}){try{let{uuid:f,text:g}=i;yield Xe.updateComment(Y.get("apiUrl"),Y.get("apiKey"),f,g);let w=this.annotations.map(c=>Object.assign({},c,{comments:c.comments.map(h=>h.uuid===f?Object.assign({},h,{text:g}):h)}));this.updateAnnotationList(w)}catch(f){this.logger.log("error when updating comment",f)}});this.resolveAnnotation=d=>le(this,[d],function*({detail:i}){try{let{uuid:f}=i,{resolved:g}=yield Xe.resolveAnnotation(Y.get("apiUrl"),Y.get("apiKey"),f),w=this.annotations.map(c=>c.uuid===f?Object.assign({},c,{resolved:g}):c);if(this.updateAnnotationList(w),g){this.pinAdapter.removeAnnotationPin(f);return}this.pinAdapter.updateAnnotations(this.annotations)}catch(f){this.logger.log("error when resolve annotation",f)}});this.deleteComment=d=>le(this,[d],function*({detail:i}){try{let{uuid:f}=i;yield Xe.deleteComment(Y.get("apiUrl"),Y.get("apiKey"),f);let g=this.annotations.findIndex(h=>h.comments.some(v=>v.uuid===f));if(g===-1)return;let w=this.annotations[g];w.comments=w.comments.filter(h=>h.uuid!==f);let c=[...this.annotations.slice(0,g),w,...this.annotations.slice(g+1)];this.updateAnnotationList(c)}catch(f){this.logger.log("error when deleting comment",f)}});this.onAnnotationListUpdate=i=>{let{data:d,clientId:f}=i;this.localParticipant.id!==f&&(this.annotations=d,this.element.updateAnnotations(this.annotations),this.pinAdapter.updateAnnotations(this.annotations))};this.name="comments",this.logger=new me("@superviz/sdk/comments-component"),this.annotations=[],this.pinAdapter=i}start(){this.url=window.location.href,this.element=document.createElement("superviz-comments"),this.element.setAttribute("comments",JSON.stringify([])),document.body.appendChild(this.element),this.button=document.createElement("superviz-comments-button"),document.body.appendChild(this.button),this.fetchAnnotations(),this.waterMarkState(),this.addListeners()}destroy(){this.destroyListeners(),document.body.removeChild(this.element),this.element=void 0,this.pinAdapter.destroy()}addListeners(){this.button.addEventListener("toggle",this.toggleAnnotationSidebar),this.element.addEventListener("toggle",this.toggleAnnotationSidebar),this.element.addEventListener("create-annotation",this.createAnnotation),this.element.addEventListener("resolve-annotation",this.resolveAnnotation),this.element.addEventListener("delete-annotation",this.deleteAnnotation),this.element.addEventListener("create-comment",({detail:i})=>{this.createComment(i.uuid,i.text,!0)}),this.element.addEventListener("update-comment",this.updateComment),this.element.addEventListener("delete-comment",this.deleteComment),this.realtime.commentsObserver.subscribe(this.onAnnotationListUpdate),this.pinAdapter.onPinFixedObserver.subscribe(this.onFixedPin)}destroyListeners(){this.button.removeEventListener("toggle",this.toggleAnnotationSidebar),this.element.removeEventListener("toggle",this.toggleAnnotationSidebar),this.element.removeEventListener("create-annotation",this.createAnnotation),this.element.removeEventListener("resolve-annotation",this.resolveAnnotation),this.element.removeEventListener("create-comment",({detail:i})=>{this.createComment(i.uuid,i.text,!0)}),this.element.removeEventListener("update-comment",this.updateComment),this.element.removeEventListener("delete-comment",this.deleteComment),this.realtime.commentsObserver.unsubscribe(this.onAnnotationListUpdate),this.pinAdapter.onPinFixedObserver.unsubscribe(this.onFixedPin)}createComment(i,d,f=!1){return le(this,null,function*(){try{let g=yield Xe.createComment(Y.get("apiUrl"),Y.get("apiKey"),{annotationId:i,userId:this.localParticipant.id,text:d});return f&&this.addComment(i,g),g}catch(g){this.logger.log("error when creating comment",g)}})}addAnnotation(i){let d=[i,...this.annotations];this.element.updateAnnotations(d),this.pinAdapter.updateAnnotations(d),this.updateAnnotationList(d)}updateAnnotationList(i){this.annotations=i,this.realtime.updateComments(i)}addComment(i,d){let f=this.annotations.findIndex(c=>c.uuid===i);if(f===-1)return;let g=this.annotations[f];g.comments=[...g.comments,d];let w=[...this.annotations.slice(0,f),g,...this.annotations.slice(f+1)];this.updateAnnotationList(w),this.element.updateAnnotations(w)}fetchAnnotations(){return le(this,null,function*(){try{let i=yield Xe.fetchAnnotation(Y.get("apiUrl"),Y.get("apiKey"),{roomId:Y.get("roomId"),url:this.url});this.annotations=i,this.element.updateAnnotations(this.annotations),this.pinAdapter.updateAnnotations(this.annotations)}catch(i){this.logger.log("error when fetching annotations",i)}})}waterMarkState(){return le(this,null,function*(){try{let i=yield Xe.fetchWaterMark(Y.get("apiUrl"),Y.get("apiKey")),d=["all","powered-by","powered-by"].includes(i);this.element.waterMarkStatus(d)}catch(i){this.logger.log("error when fetching waterMark",i)}})}};I();I();var gs=class{constructor(a){this.divWrapperReplacementInterval=null;this.annotationSelected=({detail:a})=>{let{uuid:i}=a;if(!i)return;this.pins.forEach(f=>{if(f.id==="superviz-temporary-pin"){this.removeAnnotationPin("temporary-pin");return}f.removeAttribute("active")}),document.body.dispatchEvent(new CustomEvent("close-temporary-annotation"));let d=this.pins.get(i);!d||d.setAttribute("active","")};this.onClick=a=>{let{x:i,y:d}=a,f=this.divWrapper.getBoundingClientRect(),g=i-f.x,w=d-f.y;this.onPinFixedObserver.publish({x:g,y:w,type:"canvas"}),this.createTemporaryPin({x:g,y:w,type:"canvas"})};this.onMouseMove=a=>{let{x:i,y:d}=a;this.mouseElement||(this.mouseElement=this.createMouseElement()),this.mouseElement.setAttribute("position",JSON.stringify({x:i,y:d}))};this.onMouseLeave=()=>{this.mouseElement&&(this.mouseElement.remove(),this.mouseElement=null),this.canvas.style.cursor="default"};this.onMouseEnter=()=>{this.mouseElement||(this.mouseElement=this.createMouseElement())};if(this.logger=new me("@superviz/sdk/comments-component/canvas-pin-adapter"),this.canvasId=a,this.canvas=document.getElementById(a),this.isActive=!1,this.pins=new Map,!this.canvas){let i=`Canvas with id ${a} not found`;throw this.logger.log(i),new Error(i)}document.body.style.position="relative",this.onPinFixedObserver=new se({logger:this.logger}),this.divWrapper=this.createDivWrapper(),this.annotations=[]}destroy(){this.removeListeners(),this.mouseElement=null,this.divWrapperReplacementInterval&&(clearInterval(this.divWrapperReplacementInterval),this.divWrapperReplacementInterval=null)}setActive(a){if(this.isActive=a,this.canvas.style.cursor=a?"none":"default",this.isActive){this.addListeners(),this.renderAnnotationsPins();return}this.removeAnnotationsPins(),this.removeListeners()}updateAnnotations(a){this.logger.log("updateAnnotations",a),this.annotations=a,this.isActive&&this.renderAnnotationsPins()}removeAnnotationPin(a){let i=this.pins.get(a);!i||(i.remove(),this.pins.delete(a))}createTemporaryPin(a){let i=document.getElementById("superviz-temporary-pin");i||(i=document.createElement("superviz-comments-annotation-pin"),i.id="superviz-temporary-pin",i.setAttribute("type","add"),i.setAttribute("annotation",JSON.stringify({})),i.setAttributeNode(document.createAttribute("active")),i.style.pointerEvents="auto"),i.setAttribute("position",JSON.stringify(a)),this.divWrapper.appendChild(i),this.pins.set("temporary-pin",i)}addListeners(){this.canvas.addEventListener("click",this.onClick),this.canvas.addEventListener("mousemove",this.onMouseMove),this.canvas.addEventListener("mouseout",this.onMouseLeave),this.canvas.addEventListener("mouseenter",this.onMouseEnter),document.body.addEventListener("select-annotation",this.annotationSelected)}removeListeners(){this.canvas.removeEventListener("click",this.onClick),this.canvas.removeEventListener("mousemove",this.onMouseMove),this.canvas.removeEventListener("mouseout",this.onMouseLeave),this.canvas.removeEventListener("mouseenter",this.onMouseEnter),document.body.removeEventListener("select-annotation",this.annotationSelected)}createMouseElement(){let a=document.createElement("superviz-comments-annotation-pin");return a.setAttribute("type","add"),a.setAttribute("annotation",JSON.stringify({})),a.setAttribute("position",JSON.stringify({x:0,y:0})),document.body.appendChild(a),this.canvas.style.cursor="none",a}createDivWrapper(){let a=this.canvas.getBoundingClientRect(),i=document.createElement("div");return this.canvas.parentElement.style.position="relative",i.style.position="fixed",i.style.top=`${a.top}px`,i.style.left=`${a.left}px`,i.style.width=`${a.width}px`,i.style.height=`${a.height}px`,i.style.pointerEvents="none",i.style.overflow="hidden",this.divWrapperReplacementInterval||(this.divWrapperReplacementInterval=setInterval(()=>{let d=this.canvas.getBoundingClientRect();i.style.top=`${d.top}px`,i.style.left=`${d.left}px`,i.style.width=`${d.width}px`,i.style.height=`${d.height}px`},1)),this.canvas.parentElement.appendChild(i),i}renderAnnotationsPins(){this.annotations.forEach(a=>{let i=JSON.parse(a.position);if(i.type!=="canvas"||a.resolved||this.pins.has(a.uuid))return;let{x:d,y:f}=i,g=document.createElement("superviz-comments-annotation-pin");g.setAttribute("type","show"),g.setAttribute("annotation",JSON.stringify(a)),g.setAttribute("position",JSON.stringify({x:d,y:f})),g.style.pointerEvents="auto",this.divWrapper.appendChild(g),this.pins.set(a.uuid,g)})}removeAnnotationsPins(){this.pins.forEach(a=>{a.remove()}),this.pins.clear()}};I();var ms=Ln(fs());I();I();var lt=Ln(Ku()),Nr=class{constructor(){this.browser=lt.default.getParser(navigator.userAgent)}get clientStats(){return this.browser.getResult()}get isFirefox(){return this.browser.isBrowser(lt.default.BROWSER_MAP.firefox)}get isSafari(){return this.browser.isBrowser(lt.default.BROWSER_MAP.safari)}get isChrome(){return this.browser.isBrowser(lt.default.BROWSER_MAP.chrome)}get isIE(){return this.browser.isBrowser(lt.default.BROWSER_MAP.ie)}get isEdge(){return this.browser.isBrowser(lt.default.BROWSER_MAP.edge)}get isMobileDevice(){return(this.browser.is(lt.default.PLATFORMS_MAP.mobile)||this.browser.is(lt.default.PLATFORMS_MAP.tablet))&&!navigator.userAgent.match(/iPad/i)}get isTabletDevice(){return this.browser.is(lt.default.PLATFORMS_MAP.tablet)}get isAndroid(){return this.isMobileDevice&&!!navigator.userAgent.match(/Android/i)}get isIpad(){return!!navigator.userAgent.match(/iPad/i)}get isIphone(){return this.isMobileDevice&&!!navigator.userAgent.match(/iPhone/i)}get isAppleMobileDevice(){return this.isIpad||this.isIphone}};I();var Br=class{constructor(){this.updateMeetingConnectionStatus=a=>{this.oldConnectionStatus=this.connectionStatus,this.connectionStatus=a,this.connectionStatusObserver.publish(a),this.logger.log("CONNECTION STATUS CHANGE",a)};this.onUpdateBrowserOnlineStatus=a=>{let{type:i}=a;if(i==="online"){this.updateMeetingConnectionStatus(1);return}this.updateMeetingConnectionStatus(4)};this.logger=new me("@superviz/sdk/connection-service"),this.connectionStatus=0,this.connectionStatusObserver=new se({logger:this.logger})}addListeners(){window.addEventListener("online",this.onUpdateBrowserOnlineStatus),window.addEventListener("offline",this.onUpdateBrowserOnlineStatus)}removeListeners(){window.removeEventListener("online",this.onUpdateBrowserOnlineStatus),window.removeEventListener("offline",this.onUpdateBrowserOnlineStatus)}};I();I();var Dr=class{build(a,i,d,f={},g={}){let w=document.querySelector(`#${a}`),c=new URL(i);if(this.wrapperId||this.element)throw new Error("Tried to initialize two frames with the same FrameBricklayer instance");this.element=document.createElement("iframe"),Object.entries(f).forEach(([h,v])=>{c.searchParams.set(h,v)}),Object.entries(g).forEach(([h,v])=>{this.element.setAttribute(h,v)}),this.element.src=c.toString(),this.element.id=d,w.appendChild(this.element),this.wrapperId=a}destroy(){if(!this.wrapperId)throw new Error("Tried to destroy a frame before it was initialized");let a=document.querySelector(`#${this.wrapperId}`);!!a&&!!a.querySelector(`#${this.element.id}`)&&a.removeChild(this.element),this.wrapperId=null,this.element=null}};I();var Gr=class{constructor(a){this.observers={};this.sourceBlockList=["vue-devtools-proxy","vue-devtools-backend"];this.originBlockList=["https://sketchfab.com"];this.publish=(a,i={})=>{this.logger.log("MessageBridge","Posting message to frame",a,i),this.contentWindow.postMessage({type:a,data:i},this.allowedOrigins)};this.listen=(a,i)=>{this.observers[a]||(this.observers[a]=new se({logger:this.logger})),this.observers[a].subscribe(i)};this.onReceiveMessage=a=>{let{type:i,data:d,source:f}=a.data;if(this.sourceBlockList.includes(f)||this.originBlockList.includes(a.origin))return;let g=!!i,w=!this.domains.length||this.domains.includes(a.origin),c=this.observers.hasOwnProperty(i);if(this.logger.log("MessageBridge",`Message received -
        TYPE: ${a.type}
        ORIGIN: ${a.origin}
        DATA: ${JSON.stringify(a.data)} `),!g||!w||!c){this.logger.log("MessageBridge","Message discarded");return}this.observers[i].publish(d)};let{contentWindow:i,domains:d=[],allowedOrigins:f="*",sourceBlockList:g=[],logger:w}=a;if(this.logger=w,this.domains=d,this.allowedOrigins=f,this.sourceBlockList.push(...g),typeof window=="undefined")throw new Error("MessageBridge: window is undefined");this.contentWindow=i,window.addEventListener("message",this.onReceiveMessage)}destroy(){Object.entries(this.observers).forEach(([a,i])=>{i.reset(),delete this.observers[a]}),window.removeEventListener("message",this.onReceiveMessage),delete this.logger,delete this.allowedOrigins,delete this.contentWindow,delete this.domains,delete this.observers,delete this.sourceBlockList}};var qu="sv-video-frame",Dn=class{constructor(a){this.logger=new me("@superviz/sdk/video-conference-manager");this.frameStateObserver=new se({logger:this.logger});this.frameSizeObserver=new se({logger:this.logger});this.waitingForHostObserver=new se({logger:this.logger});this.realtimeEventsObserver=new se({logger:this.logger});this.sameAccountErrorObserver=new se({logger:this.logger});this.devicesObserver=new se({logger:this.logger});this.meetingStateObserver=new se({logger:this.logger});this.meetingConnectionObserver=new se({logger:this.logger});this.participantJoinedObserver=new se({logger:this.logger});this.participantLeftObserver=new se({logger:this.logger});this.participantListObserver=new se({logger:this.logger});this.frameState=0;this.layoutModalsAndCamerasConfig=(a,i)=>{let d=a,f=i,g=["left","right","bottom","top"].includes(f),w=["left","right","center"].includes(d);return g||(f="right"),w||(d="right"),this.browserService.isMobileDevice?(f="bottom",{layoutPosition:d,camerasPosition:f}):(d==="left"&&f==="right"&&(d="right"),d==="right"&&f==="left"&&(d="left"),{layoutPosition:d,camerasPosition:f})};this.onFrameLoad=()=>{this.messageBridge=new Gr({logger:this.logger,contentWindow:this.bricklayer.element.contentWindow}),this.addMessagesListeners(),this.updateFrameState(2),this.updateFrameLocale(),this.updateMeetingAvatars(),this.onWindowResize(),this.setCustomColors()};this.setFrameOffset=a=>{let i=a!=null?a:{};["top","bottom","left","right"].forEach(d=>{Object.keys(i).includes(d)||(i[d]=0)}),this.frameOffset=i};this.setCustomColors=()=>{!this.customColors||this.messageBridge.publish("frame.color-list-update",this.customColors)};this.setFrameStyle=a=>{let i=document.createElement("style"),{bottom:d,left:f,right:g,top:w}=this.frameOffset;if(i.innerHTML=`
      :root {
        --superviz-offset-top: ${w}px;
        --superviz-offset-right: ${g}px;
        --superviz-offset-left: ${f}px;
        --superviz-offset-bottom: ${d}px;
      }     
    `,document.head.appendChild(i),this.browserService.isMobileDevice){this.bricklayer.element.classList.add("sv-video-frame--bottom");return}this.bricklayer.element.classList.add(`sv-video-frame--${a}`)};this.onFrameDimensionsUpdate=({width:a,height:i})=>{let d=document.getElementById(qu),{bottom:f,right:g,left:w,top:c}=this.frameOffset,h=this.isWaterMarkEnabled?40:0,v=`${a}px`,P=`${i+h}px`;(a>=window.innerWidth||this.isHorizontalCameraEnabled)&&(v=`calc(100% - ${g}px - ${w}px)`),i>=window.innerHeight&&(P=`calc(100% - ${c}px - ${f}px)`),d.style.width=v,d.style.height=P,this.frameSizeObserver.publish({width:d.offsetWidth,height:d.offsetHeight})};this.onWindowResize=()=>{let{top:a,bottom:i,right:d,left:f}=this.frameOffset,{innerHeight:g,innerWidth:w}=window,c=g-a-i,h=w-d-f;!this.messageBridge||this.messageBridge.publish("frame.parent-window-size-update",{height:c,width:h})};this.updateFrameLocale=()=>{var g,w;if(!this.frameLocale||!((g=this.frameLocale)!=null&&g.language)&&((w=this.frameLocale)==null?void 0:w.locales))return;let{language:a,locales:i}=this.frameLocale,d=i.map(c=>c==null?void 0:c.language),f=["en",...d];if(a&&!f.includes(a))throw new Error("The default language is not available in the language listing.");this.messageBridge.publish("frame.locales-update",this.frameLocale)};this.updateMeetingAvatars=()=>{this.messageBridge.publish("frame.avatar-list-update",this.meetingAvatars)};this.onParticipantJoined=a=>{this.participantJoinedObserver.publish(a)};this.onParticipantLeft=a=>{this.participantLeftObserver.publish(a)};this.onMeetingHostChange=a=>{this.realtimeEventsObserver.publish({event:"realtime.host-change",data:a})};this.onMeetingKickParticipant=a=>{this.realtimeEventsObserver.publish({event:"meeting.kick-participant",data:a})};this.onFollowParticipantDidChange=a=>{this.realtimeEventsObserver.publish({event:"realtime.follow-participant",data:a})};this.onGoToDidChange=a=>{this.realtimeEventsObserver.publish({event:"realtime.go-to-participant",data:a})};this.onGather=()=>{this.realtimeEventsObserver.publish({event:"realtime.gather",data:!0})};this.onGridModeChange=a=>{this.realtimeEventsObserver.publish({event:"realtime.grid-mode-change",data:a})};this.onDrawingChange=a=>{this.realtimeEventsObserver.publish({event:"realtime.drawing-change",data:a})};this.onTranscriptChange=a=>{this.realtimeEventsObserver.publish({event:"realtime.transcript-change",data:a})};this.onSameAccountError=a=>{this.sameAccountErrorObserver.publish(a)};this.onDevicesChange=a=>{this.devicesObserver.publish(a)};this.meetingStateUpdate=a=>{this.meetingStateObserver.publish(a)};this.onConnectionStatusChange=a=>{this.meetingConnectionObserver.publish(a)};this.onWaitingForHostDidChange=a=>{this.waitingForHostObserver.publish(a)};this.onParticipantListUpdate=a=>{this.participantListObserver.publish(a)};var _e,de,ct,Gn;let{language:i,canUseCams:d,canUseChat:f,canUseScreenshare:g,canUseDefaultAvatars:w,canUseFollow:c,canUseGoTo:h,canUseGather:v,browserService:P,offset:M,canUseDefaultToolbar:C,locales:R,avatars:x,customColors:G,waterMark:V,layoutPosition:X,camerasPosition:ce,skipMeetingSettings:fe,devices:ee,layoutMode:he}=a;this.browserService=P;let $=this.layoutModalsAndCamerasConfig(X,ce),oe=document.createElement("div");this.frameConfig={apiKey:Y.get("apiKey"),apiUrl:Y.get("apiUrl"),ablyKey:Y.get("ablyKey"),debug:Y.get("debug"),canUseFollow:c,canUseGoTo:h,canUseCams:d,canUseChat:f,canUseGather:v,canUseScreenshare:g,canUseDefaultAvatars:w,camerasPosition:(_e=$.camerasPosition)!=null?_e:"right",canUseDefaultToolbar:C,roomId:Y.get("roomId"),devices:{audioInput:(de=ee==null?void 0:ee.audioInput)!=null?de:!0,audioOutput:(ct=ee==null?void 0:ee.audioOutput)!=null?ct:!0,videoInput:(Gn=ee==null?void 0:ee.videoInput)!=null?Gn:!0},waterMark:V,layoutMode:he,skipMeetingSettings:fe,layoutPosition:$.layoutPosition},this.customColors=G,oe.classList.add("sv_video_wrapper"),oe.id="sv-video-wrapper",document.body.appendChild(oe),this.updateFrameState(1),this.bricklayer=new Dr,this.bricklayer.build(oe.id,Y.get("conferenceLayerUrl"),qu,void 0,{allow:"camera *;microphone *; display-capture *;"}),this.setFrameOffset(M),this.setFrameStyle($.camerasPosition),this.bricklayer.element.addEventListener("load",this.onFrameLoad),this.frameLocale={language:i,locales:R},this.meetingAvatars=x,window.addEventListener("resize",this.onWindowResize),window.addEventListener("orientationchange",this.onWindowResize)}get isWaterMarkEnabled(){return this.browserService.isMobileDevice?!1:["all","powered-by"].includes(this.frameConfig.waterMark)}get isHorizontalCameraEnabled(){return this.browserService.isMobileDevice?!1:["top","bottom"].includes(this.frameConfig.camerasPosition)}addMessagesListeners(){this.messageBridge.listen("meeting.waiting-for-host",this.onWaitingForHostDidChange),this.messageBridge.listen("meeting.participant-joined",this.onParticipantJoined),this.messageBridge.listen("meeting.participant-list-update",this.onParticipantListUpdate),this.messageBridge.listen("meeting.participant-left",this.onParticipantLeft),this.messageBridge.listen("meeting.host-change",this.onMeetingHostChange),this.messageBridge.listen("meeting.kick-participant",this.onMeetingKickParticipant),this.messageBridge.listen("meeting.same-participant-error",this.onSameAccountError),this.messageBridge.listen("meeting.state-update",this.meetingStateUpdate),this.messageBridge.listen("meeting.connection-status-change",this.onConnectionStatusChange),this.messageBridge.listen("meeting.devices-change",this.onDevicesChange),this.messageBridge.listen("realtime.grid-mode-change",this.onGridModeChange),this.messageBridge.listen("realtime.drawing-change",this.onDrawingChange),this.messageBridge.listen("realtime.transcript-change",this.onTranscriptChange),this.messageBridge.listen("frame.dimensions-update",this.onFrameDimensionsUpdate),this.messageBridge.listen("realtime.follow-participant",this.onFollowParticipantDidChange),this.messageBridge.listen("realtime.go-to-participant",this.onGoToDidChange),this.messageBridge.listen("realtime.gather",this.onGather)}updateFrameState(a){a!==this.frameState&&(this.frameState=a,this.frameStateObserver.publish(this.frameState));let i={[1]:6,[2]:7,[0]:8};this.meetingStateUpdate(i[a])}start(a){this.messageBridge.publish("meeting.start",sn(Ne({},a),{config:this.frameConfig}))}leave(){this.messageBridge.publish("meeting.leave"),this.destroy()}destroy(){var a,i;(a=this.messageBridge)==null||a.destroy(),(i=this.bricklayer)==null||i.destroy(),this.frameSizeObserver.destroy(),this.realtimeEventsObserver.destroy(),this.sameAccountErrorObserver.destroy(),this.devicesObserver.destroy(),this.meetingStateObserver.destroy(),this.meetingConnectionObserver.destroy(),this.participantJoinedObserver.destroy(),this.participantLeftObserver.destroy(),this.bricklayer=null,this.frameState=null}publishMessageToFrame(a,i){this.messageBridge.publish(a,i)}};var bs=class extends ut{constructor(i){super();this.participantToFrameList=[];this.participantsOnMeeting=[];this.startVideo=()=>{var i,d,f,g,w,c,h,v,P,M,C,R,x,G,V,X,ce,fe,ee,he,$,oe,_e,de;this.videoConfig={language:(i=this.params)==null?void 0:i.language,canUseChat:!((d=this.params)!=null&&d.chatOff),canUseCams:!((f=this.params)!=null&&f.camsOff),canUseScreenshare:!((g=this.params)!=null&&g.screenshareOff),canUseDefaultAvatars:!!((w=this.params)!=null&&w.defaultAvatars)&&!((h=(c=this.localParticipant)==null?void 0:c.avatar)!=null&&h.model3DUrl),canUseGather:!!((v=this.params)!=null&&v.enableGather),canUseFollow:!!((P=this.params)!=null&&P.enableFollow),canUseGoTo:!!((M=this.params)!=null&&M.enableGoTo),canUseDefaultToolbar:(R=(C=this.params)==null?void 0:C.defaultToolbar)!=null?R:!0,camerasPosition:(x=this.params)==null?void 0:x.camerasPosition,devices:(G=this.params)==null?void 0:G.devices,skipMeetingSettings:(V=this.params)==null?void 0:V.skipMeetingSettings,browserService:this.browserService,offset:(X=this.params)==null?void 0:X.offset,locales:(fe=(ce=this.params)==null?void 0:ce.locales)!=null?fe:[],avatars:(he=(ee=this.params)==null?void 0:ee.avatars)!=null?he:[],customColors:($=this.params)==null?void 0:$.customColors,layoutPosition:(oe=this.params)==null?void 0:oe.layoutPosition,layoutMode:(de=(_e=this.params)==null?void 0:_e.layoutMode)!=null?de:"list"},this.logger.log("video component @ start video",this.videoConfig),this.videoManager=new Dn(this.videoConfig),this.subscribeToVideoEvents()};this.subscribeToVideoEvents=()=>{this.logger.log("video component @ subscribe to video events"),this.videoManager.meetingConnectionObserver.subscribe(this.connectionService.updateMeetingConnectionStatus),this.videoManager.participantListObserver.subscribe(this.onParticipantListUpdate),this.videoManager.waitingForHostObserver.subscribe(this.onWaitingForHost),this.videoManager.frameSizeObserver.subscribe(this.onFrameSizeDidChange),this.videoManager.meetingStateObserver.subscribe(this.onMeetingStateChange),this.videoManager.frameStateObserver.subscribe(this.onFrameStateChange),this.videoManager.realtimeEventsObserver.subscribe(this.onRealtimeEventFromFrame),this.videoManager.participantJoinedObserver.subscribe(this.onParticipantJoined),this.videoManager.participantLeftObserver.subscribe(this.onParticipantLeft),this.videoManager.sameAccountErrorObserver.subscribe(this.onSameAccountError),this.videoManager.devicesObserver.subscribe(this.onDevicesChange)};this.unsubscribeFromVideoEvents=()=>{this.logger.log("video component @ unsubscribe from video events"),this.videoManager.meetingConnectionObserver.unsubscribe(this.connectionService.updateMeetingConnectionStatus),this.videoManager.participantListObserver.unsubscribe(this.onParticipantListUpdate),this.videoManager.waitingForHostObserver.unsubscribe(this.onWaitingForHost),this.videoManager.frameSizeObserver.unsubscribe(this.onFrameSizeDidChange),this.videoManager.meetingStateObserver.unsubscribe(this.onMeetingStateChange),this.videoManager.frameStateObserver.unsubscribe(this.onFrameStateChange),this.videoManager.realtimeEventsObserver.unsubscribe(this.onRealtimeEventFromFrame),this.videoManager.participantJoinedObserver.unsubscribe(this.onParticipantJoined),this.videoManager.participantLeftObserver.unsubscribe(this.onParticipantLeft),this.videoManager.sameAccountErrorObserver.unsubscribe(this.onSameAccountError),this.videoManager.devicesObserver.unsubscribe(this.onDevicesChange)};this.suscribeToRealtimeEvents=()=>{this.logger.log("video component @ subscribe to realtime events"),this.realtime.kickAllParticipantsObserver.subscribe(this.onKickAllParticipantsDidChange),this.realtime.kickParticipantObserver.subscribe(this.onKickLocalParticipant),this.realtime.participantJoinedObserver.subscribe(this.onParticipantJoinedOnRealtime),this.realtime.participantLeaveObserver.subscribe(this.onParticipantLeftOnRealtime),this.realtime.roomInfoUpdatedObserver.subscribe(this.onRoomInfoUpdated),this.realtime.participantsObserver.subscribe(this.onRealtimeParticipantsDidChange),this.realtime.hostObserver.subscribe(this.onHostParticipantDidChange)};this.unsubscribeFromRealtimeEvents=()=>{this.logger.log("video component @ unsubscribe from realtime events"),this.realtime.kickAllParticipantsObserver.unsubscribe(this.onKickAllParticipantsDidChange),this.realtime.participantJoinedObserver.unsubscribe(this.onParticipantJoinedOnRealtime),this.realtime.participantLeaveObserver.unsubscribe(this.onParticipantLeftOnRealtime),this.realtime.roomInfoUpdatedObserver.unsubscribe(this.onRoomInfoUpdated),this.realtime.participantsObserver.unsubscribe(this.onRealtimeParticipantsDidChange),this.realtime.hostObserver.unsubscribe(this.onHostParticipantDidChange)};this.createParticipantFromAblyPresence=i=>{var d;return{id:i.clientId,color:this.realtime.getSlotColor((d=i.data)==null?void 0:d.slotIndex).color,avatar:i.data.avatar,type:i.data.type,name:i.data.name,isHost:this.realtime.hostClientId===i.clientId}};this.onFrameSizeDidChange=i=>{this.publish("frame.dimensions-update",i)};this.onWaitingForHost=i=>{this.publish("meeting.waiting-for-host",i)};this.onConnectionStatusChange=i=>{this.logger.log("video component @ on connection status change",i);let d=[2,4,3,6];d.includes(i)&&this.realtime.freezeSync(!0),d.includes(this.connectionService.oldConnectionStatus)&&!d.includes(i)&&this.realtime.freezeSync(!1),this.publish("meeting.connection-status-change",i)};this.onMeetingStateChange=i=>{this.logger.log("video component @ on meeting state change",i),this.publish("meeting.state-update",i)};this.onSameAccountError=i=>{this.publish("meeting.same-participant-error",i),this.internalRemoveComponent()};this.onDevicesChange=i=>{this.publish("meeting.devices-change",i)};this.onFrameStateChange=i=>{this.logger.log("video component @ on frame state change",i),i===2&&this.videoManager.start({group:this.group,participant:this.localParticipant,roomId:Y.get("roomId")})};this.onRealtimeEventFromFrame=({event:i,data:d})=>{this.logger.log("video component @ on realtime event from frame",i,d);let f={["realtime.host-change"]:g=>this.realtime.setHost(g),["realtime.gather"]:g=>this.realtime.setGather(g),["realtime.grid-mode-change"]:g=>this.realtime.setGridMode(g),["realtime.drawing-change"]:g=>{this.realtime.setDrawing(g)},["realtime.follow-participant"]:g=>{this.realtime.setFollowParticipant(g)},["meeting.kick-participant"]:g=>{this.realtime.setKickParticipant(g)},["realtime.transcript-change"]:g=>{this.realtime.setTranscript(g)},["realtime.go-to-participant"]:g=>{this.eventBus.publish("realtime.go-to-participant",g)}}[i](d);this.publish(i,d)};this.onParticipantJoined=i=>{if(this.logger.log("video component @ on participant joined",i),this.localParticipant=i,this.publish("meeting.participant-joined",i),this.publish("my-participant.joined",i),this.videoConfig.canUseDefaultAvatars){this.realtime.updateMyProperties({avatar:i.avatar,name:i.name});return}this.realtime.updateMyProperties({name:i.name})};this.onParticipantLeft=i=>{this.logger.log("video component @ on participant left",this.localParticipant),this.publish("my-participant.left",this.localParticipant),this.internalRemoveComponent()};this.onParticipantListUpdate=i=>{this.logger.log("video component @ on participant list update",i),!(0,ms.isEqual)(this.participantsOnMeeting,i)&&(this.publish("meeting.participant-list-update",i),this.participantsOnMeeting.length!==i.length&&this.publish("meeting.amount-of-participants-update",i.length),this.participantsOnMeeting=i)};this.onKickAllParticipantsDidChange=i=>{this.logger.log("video component @ on kick all participants did change",i),this.publish("meeting.kick-all-participants",i),this.internalRemoveComponent()};this.onKickLocalParticipant=()=>{this.logger.log("video component @ on kick local participant"),this.publish("meeting.kick-participant",this.localParticipant),this.internalRemoveComponent()};this.onRoomInfoUpdated=i=>{this.logger.log("video component @ on room info updated",i);let{isGridModeEnable:d,followParticipantId:f,gather:g,drawing:w,transcript:c}=i;this.videoManager.publishMessageToFrame("realtime.grid-mode-change",d),this.videoManager.publishMessageToFrame("realtime.drawing-change",w),this.videoManager.publishMessageToFrame("realtime.follow-participant",f),this.videoManager.publishMessageToFrame("realtime.transcript-change",c),this.realtime.hostClientId===this.localParticipant.id&&g&&this.realtime.setGather(!1)};this.onRealtimeParticipantsDidChange=i=>{this.logger.log("video component @ on participants did change",i);let d=Object.values(i).map(f=>({timestamp:f.timestamp,connectionId:f.connectionId,participantId:f.clientId,color:this.realtime.getSlotColor(f.data.slotIndex).name,name:f.data.name,isHost:this.realtime.hostClientId===f.clientId,avatar:f.data.avatar,type:f.data.type}));(0,ms.isEqual)(this.participantToFrameList,d)||this.videoManager.publishMessageToFrame("realtime.participant-list-update",d),this.participantToFrameList=d};this.onHostParticipantDidChange=i=>{this.logger.log("video component @ on host participant did change",i),this.videoManager.publishMessageToFrame("realtime.host-change",i==null?void 0:i.newHostParticipantId)};this.onParticipantJoinedOnRealtime=i=>{this.logger.log("video component @ on participant joined on realtime",i),this.publish("meeting.participant-joined",this.createParticipantFromAblyPresence(i))};this.onParticipantLeftOnRealtime=i=>{this.logger.log("video component @ on participant left on realtime",i),this.publish("meeting.participant-left",this.createParticipantFromAblyPresence(i))};this.params=i,this.name="videoConference",this.logger=new me(`@superviz/sdk/${"videoConference"}`),this.browserService=new Nr,this.connectionService=new Br,this.connectionService.addListeners(),this.connectionService.connectionStatusObserver.subscribe(this.onConnectionStatusChange)}toggleMeetingSetup(){return this.videoManager.publishMessageToFrame("meeting-controls.toggle-setup")}toggleMicrophone(){return this.videoManager.publishMessageToFrame("meeting-controls.toggle-microphone")}toggleCam(){this.videoManager.publishMessageToFrame("meeting-controls.toggle-cam")}toggleScreenShare(){return this.videoManager.publishMessageToFrame("meeting-controls.toggle-screenshare")}toggleChat(){return this.videoManager.publishMessageToFrame("meeting-controls.toggle-chat")}toggleTranscript(){return this.videoManager.publishMessageToFrame("meeting-controls.toggle-transcript")}hangUp(){this.videoManager.publishMessageToFrame("hang-up")}start(){var i;this.logger.log("video component @ start"),this.publish("meeting.start"),this.realtime.setKickParticipantsOnHostLeave(!((i=this.params)!=null&&i.allowGuests)),this.suscribeToRealtimeEvents(),this.startVideo()}destroy(){this.logger.log("video component @ destroy"),this.publish("destroy"),this.unsubscribeFromRealtimeEvents(),this.unsubscribeFromVideoEvents(),this.videoManager.leave(),this.connectionService.removeListeners()}internalRemoveComponent(){this.logger.log("video component @ internal remove component");let{data:i}=this.realtime.participant,d=i.activeComponents.filter(f=>f!=="videoConference");this.realtime.updateMyProperties({activeComponents:d}),this.detach()}};I();var _s=class extends ut{constructor(i){super();this.divWrapperReplacementInterval=null;this.subscribeToRealtimeEvents=()=>{this.logger.log("presence-mouse component @ subscribe to realtime events"),this.realtime.presenceMouseParticipantLeaveObserver.subscribe(this.onParticipantLeftOnRealtime),this.realtime.presenceMouseObserver.subscribe(this.onParticipantsDidChange)};this.unsubscribeFromRealtimeEvents=()=>{this.logger.log("presence-mouse component @ unsubscribe from realtime events"),this.realtime.presenceMouseParticipantLeaveObserver.unsubscribe(this.onParticipantLeftOnRealtime),this.realtime.presenceMouseObserver.unsubscribe(this.onParticipantsDidChange)};this.onMyParticipantMouseMove=i=>{let d=this.divWrapper.getBoundingClientRect();this.realtime.updatePresenceMouse(sn(Ne({},this.localParticipant),{mousePositionX:i.x-d.x,mousePositionY:i.y-d.y,originalWidth:d.width,originalHeight:d.height,containerId:this.containerId,visible:!0}))};this.onParticipantsDidChange=i=>{this.logger.log("presence-mouse component @ on participants did change",i),Object.values(i).forEach(d=>{var w;let f=(d==null?void 0:d.mousePositionX)&&this.presenceMouseElement,g=(d==null?void 0:d.id)===((w=this.localParticipant)==null?void 0:w.id);if(!(d!=null&&d.visible)){this.presenceMouseElement.removePresenceMouseParticipant(d.id);return}!g&&f&&this.presenceMouseElement.updatePresenceMouseParticipant(d)})};this.onMyParticipantMouseOut=()=>{this.realtime.updatePresenceMouse(Ne({visible:!1},this.localParticipant))};this.onParticipantLeftOnRealtime=i=>{this.presenceMouseElement.removePresenceMouseParticipant(i.id)};if(this.name="presence",this.logger=new me(`@superviz/sdk/${"presence"}`),this.containerId=i,this.container=document.getElementById(i),!this.container){let d=`Container with id ${i} not found`;throw this.logger.log(d),new Error(d)}this.divWrapper=this.createDivWrapper()}start(){this.logger.log("presence-mouse component @ start"),this.presenceMouseElement=document.createElement("superviz-presence-mouse"),this.divWrapper.appendChild(this.presenceMouseElement),this.container.addEventListener("mousemove",this.onMyParticipantMouseMove),this.container.addEventListener("mouseout",this.onMyParticipantMouseOut),this.subscribeToRealtimeEvents(),this.realtime.enterPresenceMouseChannel(this.localParticipant)}destroy(){this.logger.log("presence-mouse component @ destroy"),this.realtime.leavePresenceMouseChannel(),this.unsubscribeFromRealtimeEvents(),this.container.removeEventListener("mousemove",this.onMyParticipantMouseMove),this.container.removeEventListener("mouseout",this.onMyParticipantMouseOut),this.divWrapper.removeChild(this.presenceMouseElement),this.divWrapperReplacementInterval&&(clearInterval(this.divWrapperReplacementInterval),this.divWrapperReplacementInterval=null)}createDivWrapper(){let i=this.container.getBoundingClientRect(),d=document.createElement("div");return this.container.parentElement.style.position="relative",d.style.position="fixed",d.style.top=`${i.top}px`,d.style.left=`${i.left}px`,d.style.width=`${i.width}px`,d.style.height=`${i.height}px`,d.style.pointerEvents="none",this.container.parentElement.appendChild(d),this.divWrapperReplacementInterval||(this.divWrapperReplacementInterval=setInterval(()=>{let f=this.container.getBoundingClientRect();d.style.top=`${f.top}px`,d.style.left=`${f.left}px`,d.style.width=`${f.width}px`,d.style.height=`${f.height}px`},1)),d}};I();I();var Ur=class{constructor(a){this.observers=new Map;this.subscribe=(a,i)=>{this.logger.log("pubsub service @ subscribe",{event:a,callback:i}),this.observers.has(a)||this.observers.set(a,new se),this.observers.get(a).subscribe(i)};this.unsubscribe=(a,i)=>{this.logger.log("pubsub service @ unsubscribe",{event:a,callback:i}),this.observers.has(a)&&(this.observers.get(a).reset(),this.observers.delete(a))};this.publish=(a,i)=>{this.logger.log("pubsub service @ publish",{event:a,data:i}),this.realtime.setSyncProperty(a,i)};this.publishEventToClient=(a,i)=>{this.logger.log("pubsub service @ publishEventToClient",{event:a,data:i}),this.observers.has(a)&&this.observers.get(a).publish(i)};this.destroy=()=>{this.logger.log("pubsub service @ destroy"),this.realtime.syncPropertiesObserver.unsubscribe(this.onSyncPropertiesChange),this.observers.forEach(a=>a.destroy()),this.observers.clear()};this.onSyncPropertiesChange=a=>{this.logger.log("pubsub service @ onSyncPropertiesChange",{properties:a}),Object.entries(a).forEach(([i,d])=>{this.publishEventToClient(i,d)})};this.logger=new me("@superviz/sdk/pubsub"),this.realtime=a,this.realtime.syncPropertiesObserver.subscribe(this.onSyncPropertiesChange),this.logger.log("PubSub created")}fetchHistory(a){return this.realtime.fetchSyncClientProperty(a)}};var Es=class extends ut{constructor(){super();this.publish=(i,d)=>{this.pubsub.publish(i,d)};this.subscribe=(i,d)=>{this.pubsub.subscribe(i,d)};this.unsubscribe=(i,d)=>{this.pubsub.unsubscribe(i,d)};this.name="realtime",this.logger=new me("@superviz/sdk/realtime-component")}destroy(){this.logger.log("destroyed"),this.pubsub.destroy()}start(){this.logger.log("started"),this.pubsub=new Ur(this.realtime)}fetchHistory(i){return this.pubsub.fetchHistory(i)}};export{gs as CanvasPin,ds as Comments,_s as MousePointers,Es as Realtime,bs as VideoComponent};
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
