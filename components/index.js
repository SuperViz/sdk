var Dv=Object.create;var is=Object.defineProperty,Gv=Object.defineProperties,Uv=Object.getOwnPropertyDescriptor,Wv=Object.getOwnPropertyDescriptors,kv=Object.getOwnPropertyNames,Za=Object.getOwnPropertySymbols,Hv=Object.getPrototypeOf,Xa=Object.prototype.hasOwnProperty,zv=Object.prototype.propertyIsEnumerable;var Ya=(o,a,s)=>a in o?is(o,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[a]=s,at=(o,a)=>{for(var s in a||(a={}))Xa.call(a,s)&&Ya(o,s,a[s]);if(Za)for(var s of Za(a))zv.call(a,s)&&Ya(o,s,a[s]);return o},Pr=(o,a)=>Gv(o,Wv(a));var Kv=(o,a)=>()=>(o&&(a=o(o=0)),a);var ve=(o,a)=>()=>(a||o((a={exports:{}}).exports,a),a.exports);var qv=(o,a,s,m)=>{if(a&&typeof a=="object"||typeof a=="function")for(let f of kv(a))!Xa.call(o,f)&&f!==s&&is(o,f,{get:()=>a[f],enumerable:!(m=Uv(a,f))||m.enumerable});return o};var Ln=(o,a,s)=>(s=o!=null?Dv(Hv(o)):{},qv(a||!o||!o.__esModule?is(s,"default",{value:o,enumerable:!0}):s,o));var de=(o,a,s)=>new Promise((m,f)=>{var g=h=>{try{l(s.next(h))}catch(p){f(p)}},w=h=>{try{l(s.throw(h))}catch(p){f(p)}},l=h=>h.done?m(h.value):Promise.resolve(h.value).then(g,w);l((s=s.apply(o,a)).next())});var k,M=Kv(()=>{k={}});var ja=ve((sb,Qa)=>{M();var sn=1e3,on=sn*60,an=on*60,Ht=an*24,Jv=Ht*7,Vv=Ht*365.25;Qa.exports=function(o,a){a=a||{};var s=typeof o;if(s==="string"&&o.length>0)return Zv(o);if(s==="number"&&isFinite(o))return a.long?Xv(o):Yv(o);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(o))};function Zv(o){if(o=String(o),!(o.length>100)){var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(o);if(!!a){var s=parseFloat(a[1]),m=(a[2]||"ms").toLowerCase();switch(m){case"years":case"year":case"yrs":case"yr":case"y":return s*Vv;case"weeks":case"week":case"w":return s*Jv;case"days":case"day":case"d":return s*Ht;case"hours":case"hour":case"hrs":case"hr":case"h":return s*an;case"minutes":case"minute":case"mins":case"min":case"m":return s*on;case"seconds":case"second":case"secs":case"sec":case"s":return s*sn;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}function Yv(o){var a=Math.abs(o);return a>=Ht?Math.round(o/Ht)+"d":a>=an?Math.round(o/an)+"h":a>=on?Math.round(o/on)+"m":a>=sn?Math.round(o/sn)+"s":o+"ms"}function Xv(o){var a=Math.abs(o);return a>=Ht?Sr(o,a,Ht,"day"):a>=an?Sr(o,a,an,"hour"):a>=on?Sr(o,a,on,"minute"):a>=sn?Sr(o,a,sn,"second"):o+" ms"}function Sr(o,a,s,m){var f=a>=s*1.5;return Math.round(o/s)+" "+m+(f?"s":"")}});var tu=ve((ob,eu)=>{M();function Qv(o){s.debug=s,s.default=s,s.coerce=h,s.disable=g,s.enable=f,s.enabled=w,s.humanize=ja(),s.destroy=p,Object.keys(o).forEach(P=>{s[P]=o[P]}),s.names=[],s.skips=[],s.formatters={};function a(P){let I=0;for(let y=0;y<P.length;y++)I=(I<<5)-I+P.charCodeAt(y),I|=0;return s.colors[Math.abs(I)%s.colors.length]}s.selectColor=a;function s(P){let I,y=null,L,x;function G(...V){if(!G.enabled)return;let Y=G,ce=Number(new Date),le=ce-(I||ce);Y.diff=le,Y.prev=I,Y.curr=ce,I=ce,V[0]=s.coerce(V[0]),typeof V[0]!="string"&&V.unshift("%O");let ee=0;V[0]=V[0].replace(/%([a-zA-Z%])/g,(z,fe)=>{if(z==="%%")return"%";ee++;let Ce=s.formatters[fe];if(typeof Ce=="function"){let me=V[ee];z=Ce.call(Y,me),V.splice(ee,1),ee--}return z}),s.formatArgs.call(Y,V),(Y.log||s.log).apply(Y,V)}return G.namespace=P,G.useColors=s.useColors(),G.color=s.selectColor(P),G.extend=m,G.destroy=s.destroy,Object.defineProperty(G,"enabled",{enumerable:!0,configurable:!1,get:()=>y!==null?y:(L!==s.namespaces&&(L=s.namespaces,x=s.enabled(P)),x),set:V=>{y=V}}),typeof s.init=="function"&&s.init(G),G}function m(P,I){let y=s(this.namespace+(typeof I=="undefined"?":":I)+P);return y.log=this.log,y}function f(P){s.save(P),s.namespaces=P,s.names=[],s.skips=[];let I,y=(typeof P=="string"?P:"").split(/[\s,]+/),L=y.length;for(I=0;I<L;I++)!y[I]||(P=y[I].replace(/\*/g,".*?"),P[0]==="-"?s.skips.push(new RegExp("^"+P.slice(1)+"$")):s.names.push(new RegExp("^"+P+"$")))}function g(){let P=[...s.names.map(l),...s.skips.map(l).map(I=>"-"+I)].join(",");return s.enable(""),P}function w(P){if(P[P.length-1]==="*")return!0;let I,y;for(I=0,y=s.skips.length;I<y;I++)if(s.skips[I].test(P))return!1;for(I=0,y=s.names.length;I<y;I++)if(s.names[I].test(P))return!0;return!1}function l(P){return P.toString().substring(2,P.toString().length-2).replace(/\.\*\?$/,"*")}function h(P){return P instanceof Error?P.stack||P.message:P}function p(){}return s.enable(s.load()),s}eu.exports=Qv});var nu=ve((ke,Lr)=>{M();ke.formatArgs=em;ke.save=tm;ke.load=nm;ke.useColors=jv;ke.storage=rm();ke.destroy=(()=>{let o=!1;return()=>{o||(o=!0)}})();ke.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function jv(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function em(o){if(o[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+o[0]+(this.useColors?"%c ":" ")+"+"+Lr.exports.humanize(this.diff),!this.useColors)return;let a="color: "+this.color;o.splice(1,0,a,"color: inherit");let s=0,m=0;o[0].replace(/%[a-zA-Z%]/g,f=>{f!=="%%"&&(s++,f==="%c"&&(m=s))}),o.splice(m,0,a)}ke.log=console.debug||console.log||(()=>{});function tm(o){try{o?ke.storage.setItem("debug",o):ke.storage.removeItem("debug")}catch(a){}}function nm(){let o;try{o=ke.storage.getItem("debug")}catch(a){}return!o&&typeof process!="undefined"&&"env"in process&&(o=k.DEBUG),o}function rm(){try{return localStorage}catch(o){}}Lr.exports=tu()(ke);var{formatters:im}=Lr.exports;im.j=function(o){try{return JSON.stringify(o)}catch(a){return"[UnexpectedJSONParseError]: "+a.message}}});var Rr=ve((ub,iu)=>{M();function sm(o){var a=typeof o;return o!=null&&(a=="object"||a=="function")}iu.exports=sm});var ou=ve((cb,su)=>{M();var om=typeof global=="object"&&global&&global.Object===Object&&global;su.exports=om});var ss=ve((lb,au)=>{M();var am=ou(),um=typeof self=="object"&&self&&self.Object===Object&&self,cm=am||um||Function("return this")();au.exports=cm});var cu=ve((fb,uu)=>{M();var lm=ss(),fm=function(){return lm.Date.now()};uu.exports=fm});var fu=ve((hb,lu)=>{M();var hm=/\s/;function dm(o){for(var a=o.length;a--&&hm.test(o.charAt(a)););return a}lu.exports=dm});var du=ve((db,hu)=>{M();var gm=fu(),pm=/^\s+/;function vm(o){return o&&o.slice(0,gm(o)+1).replace(pm,"")}hu.exports=vm});var os=ve((gb,gu)=>{M();var mm=ss(),bm=mm.Symbol;gu.exports=bm});var bu=ve((pb,mu)=>{M();var pu=os(),vu=Object.prototype,_m=vu.hasOwnProperty,Am=vu.toString,Rn=pu?pu.toStringTag:void 0;function Em(o){var a=_m.call(o,Rn),s=o[Rn];try{o[Rn]=void 0;var m=!0}catch(g){}var f=Am.call(o);return m&&(a?o[Rn]=s:delete o[Rn]),f}mu.exports=Em});var Au=ve((vb,_u)=>{M();var Tm=Object.prototype,wm=Tm.toString;function Cm(o){return wm.call(o)}_u.exports=Cm});var Cu=ve((mb,wu)=>{M();var Eu=os(),ym=bu(),Im=Au(),Om="[object Null]",Mm="[object Undefined]",Tu=Eu?Eu.toStringTag:void 0;function Pm(o){return o==null?o===void 0?Mm:Om:Tu&&Tu in Object(o)?ym(o):Im(o)}wu.exports=Pm});var Iu=ve((bb,yu)=>{M();function Sm(o){return o!=null&&typeof o=="object"}yu.exports=Sm});var Mu=ve((_b,Ou)=>{M();var Lm=Cu(),Rm=Iu(),xm="[object Symbol]";function Fm(o){return typeof o=="symbol"||Rm(o)&&Lm(o)==xm}Ou.exports=Fm});var Ru=ve((Ab,Lu)=>{M();var Nm=du(),Pu=Rr(),Bm=Mu(),Su=0/0,Dm=/^[-+]0x[0-9a-f]+$/i,Gm=/^0b[01]+$/i,Um=/^0o[0-7]+$/i,Wm=parseInt;function km(o){if(typeof o=="number")return o;if(Bm(o))return Su;if(Pu(o)){var a=typeof o.valueOf=="function"?o.valueOf():o;o=Pu(a)?a+"":a}if(typeof o!="string")return o===0?o:+o;o=Nm(o);var s=Gm.test(o);return s||Um.test(o)?Wm(o.slice(2),s?2:8):Dm.test(o)?Su:+o}Lu.exports=km});var Nu=ve((Eb,Fu)=>{M();var Hm=Rr(),as=cu(),xu=Ru(),zm="Expected a function",Km=Math.max,qm=Math.min;function $m(o,a,s){var m,f,g,w,l,h,p=0,P=!1,I=!1,y=!0;if(typeof o!="function")throw new TypeError(zm);a=xu(a)||0,Hm(s)&&(P=!!s.leading,I="maxWait"in s,g=I?Km(xu(s.maxWait)||0,a):g,y="trailing"in s?!!s.trailing:y);function L(z){var fe=m,Ce=f;return m=f=void 0,p=z,w=o.apply(Ce,fe),w}function x(z){return p=z,l=setTimeout(Y,a),P?L(z):w}function G(z){var fe=z-h,Ce=z-p,me=a-fe;return I?qm(me,g-Ce):me}function V(z){var fe=z-h,Ce=z-p;return h===void 0||fe>=a||fe<0||I&&Ce>=g}function Y(){var z=as();if(V(z))return ce(z);l=setTimeout(Y,G(z))}function ce(z){return l=void 0,y&&m?L(z):(m=f=void 0,w)}function le(){l!==void 0&&clearTimeout(l),p=0,m=h=f=l=void 0}function ee(){return l===void 0?w:ce(as())}function se(){var z=as(),fe=V(z);if(m=arguments,f=this,h=z,fe){if(l===void 0)return x(h);if(I)return clearTimeout(l),l=setTimeout(Y,a),L(h)}return l===void 0&&(l=setTimeout(Y,a)),w}return se.cancel=le,se.flush=ee,se}Fu.exports=$m});var Du=ve((Tb,Bu)=>{M();var Jm=Nu(),Vm=Rr(),Zm="Expected a function";function Ym(o,a,s){var m=!0,f=!0;if(typeof o!="function")throw new TypeError(Zm);return Vm(s)&&(m="leading"in s?!!s.leading:m,f="trailing"in s?!!s.trailing:f),Jm(o,a,{leading:m,maxWait:a,trailing:f})}Bu.exports=Ym});var us=ve((un,xn)=>{M();(function(){var o,a="4.17.21",s=200,m="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",f="Expected a function",g="Invalid `variable` option passed into `_.template`",w="__lodash_hash_undefined__",l=500,h="__lodash_placeholder__",p=1,P=2,I=4,y=1,L=2,x=1,G=2,V=4,Y=8,ce=16,le=32,ee=64,se=128,z=256,fe=512,Ce=30,me="...",ct=800,Ku=16,vs=1,qu=2,$u=3,Rt=1/0,At=9007199254740991,Ju=17976931348623157e292,Bn=0/0,rt=4294967295,Vu=rt-1,Zu=rt>>>1,Yu=[["ary",se],["bind",x],["bindKey",G],["curry",Y],["curryRight",ce],["flip",fe],["partial",le],["partialRight",ee],["rearg",z]],zt="[object Arguments]",Dn="[object Array]",Xu="[object AsyncFunction]",cn="[object Boolean]",ln="[object Date]",Qu="[object DOMException]",Gn="[object Error]",Un="[object Function]",ms="[object GeneratorFunction]",Xe="[object Map]",fn="[object Number]",ju="[object Null]",lt="[object Object]",bs="[object Promise]",ec="[object Proxy]",hn="[object RegExp]",Qe="[object Set]",dn="[object String]",Wn="[object Symbol]",tc="[object Undefined]",gn="[object WeakMap]",nc="[object WeakSet]",pn="[object ArrayBuffer]",Kt="[object DataView]",Dr="[object Float32Array]",Gr="[object Float64Array]",Ur="[object Int8Array]",Wr="[object Int16Array]",kr="[object Int32Array]",Hr="[object Uint8Array]",zr="[object Uint8ClampedArray]",Kr="[object Uint16Array]",qr="[object Uint32Array]",rc=/\b__p \+= '';/g,ic=/\b(__p \+=) '' \+/g,sc=/(__e\(.*?\)|\b__t\)) \+\n'';/g,_s=/&(?:amp|lt|gt|quot|#39);/g,As=/[&<>"']/g,oc=RegExp(_s.source),ac=RegExp(As.source),uc=/<%-([\s\S]+?)%>/g,cc=/<%([\s\S]+?)%>/g,Es=/<%=([\s\S]+?)%>/g,lc=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,fc=/^\w*$/,hc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,$r=/[\\^$.*+?()[\]{}|]/g,dc=RegExp($r.source),Jr=/^\s+/,gc=/\s/,pc=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,vc=/\{\n\/\* \[wrapped with (.+)\] \*/,mc=/,? & /,bc=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,_c=/[()=,{}\[\]\/\s]/,Ac=/\\(\\)?/g,Ec=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ts=/\w*$/,Tc=/^[-+]0x[0-9a-f]+$/i,wc=/^0b[01]+$/i,Cc=/^\[object .+?Constructor\]$/,yc=/^0o[0-7]+$/i,Ic=/^(?:0|[1-9]\d*)$/,Oc=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,kn=/($^)/,Mc=/['\n\r\u2028\u2029\\]/g,Hn="\\ud800-\\udfff",Pc="\\u0300-\\u036f",Sc="\\ufe20-\\ufe2f",Lc="\\u20d0-\\u20ff",ws=Pc+Sc+Lc,Cs="\\u2700-\\u27bf",ys="a-z\\xdf-\\xf6\\xf8-\\xff",Rc="\\xac\\xb1\\xd7\\xf7",xc="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Fc="\\u2000-\\u206f",Nc=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Is="A-Z\\xc0-\\xd6\\xd8-\\xde",Os="\\ufe0e\\ufe0f",Ms=Rc+xc+Fc+Nc,Vr="['\u2019]",Bc="["+Hn+"]",Ps="["+Ms+"]",zn="["+ws+"]",Ss="\\d+",Dc="["+Cs+"]",Ls="["+ys+"]",Rs="[^"+Hn+Ms+Ss+Cs+ys+Is+"]",Zr="\\ud83c[\\udffb-\\udfff]",Gc="(?:"+zn+"|"+Zr+")",xs="[^"+Hn+"]",Yr="(?:\\ud83c[\\udde6-\\uddff]){2}",Xr="[\\ud800-\\udbff][\\udc00-\\udfff]",qt="["+Is+"]",Fs="\\u200d",Ns="(?:"+Ls+"|"+Rs+")",Uc="(?:"+qt+"|"+Rs+")",Bs="(?:"+Vr+"(?:d|ll|m|re|s|t|ve))?",Ds="(?:"+Vr+"(?:D|LL|M|RE|S|T|VE))?",Gs=Gc+"?",Us="["+Os+"]?",Wc="(?:"+Fs+"(?:"+[xs,Yr,Xr].join("|")+")"+Us+Gs+")*",kc="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Hc="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Ws=Us+Gs+Wc,zc="(?:"+[Dc,Yr,Xr].join("|")+")"+Ws,Kc="(?:"+[xs+zn+"?",zn,Yr,Xr,Bc].join("|")+")",qc=RegExp(Vr,"g"),$c=RegExp(zn,"g"),Qr=RegExp(Zr+"(?="+Zr+")|"+Kc+Ws,"g"),Jc=RegExp([qt+"?"+Ls+"+"+Bs+"(?="+[Ps,qt,"$"].join("|")+")",Uc+"+"+Ds+"(?="+[Ps,qt+Ns,"$"].join("|")+")",qt+"?"+Ns+"+"+Bs,qt+"+"+Ds,Hc,kc,Ss,zc].join("|"),"g"),Vc=RegExp("["+Fs+Hn+ws+Os+"]"),Zc=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Yc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Xc=-1,ie={};ie[Dr]=ie[Gr]=ie[Ur]=ie[Wr]=ie[kr]=ie[Hr]=ie[zr]=ie[Kr]=ie[qr]=!0,ie[zt]=ie[Dn]=ie[pn]=ie[cn]=ie[Kt]=ie[ln]=ie[Gn]=ie[Un]=ie[Xe]=ie[fn]=ie[lt]=ie[hn]=ie[Qe]=ie[dn]=ie[gn]=!1;var re={};re[zt]=re[Dn]=re[pn]=re[Kt]=re[cn]=re[ln]=re[Dr]=re[Gr]=re[Ur]=re[Wr]=re[kr]=re[Xe]=re[fn]=re[lt]=re[hn]=re[Qe]=re[dn]=re[Wn]=re[Hr]=re[zr]=re[Kr]=re[qr]=!0,re[Gn]=re[Un]=re[gn]=!1;var Qc={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},jc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},el={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},tl={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},nl=parseFloat,rl=parseInt,ks=typeof global=="object"&&global&&global.Object===Object&&global,il=typeof self=="object"&&self&&self.Object===Object&&self,Ae=ks||il||Function("return this")(),jr=typeof un=="object"&&un&&!un.nodeType&&un,xt=jr&&typeof xn=="object"&&xn&&!xn.nodeType&&xn,Hs=xt&&xt.exports===jr,ei=Hs&&ks.process,He=function(){try{var b=xt&&xt.require&&xt.require("util").types;return b||ei&&ei.binding&&ei.binding("util")}catch(E){}}(),zs=He&&He.isArrayBuffer,Ks=He&&He.isDate,qs=He&&He.isMap,$s=He&&He.isRegExp,Js=He&&He.isSet,Vs=He&&He.isTypedArray;function Ne(b,E,A){switch(A.length){case 0:return b.call(E);case 1:return b.call(E,A[0]);case 2:return b.call(E,A[0],A[1]);case 3:return b.call(E,A[0],A[1],A[2])}return b.apply(E,A)}function sl(b,E,A,R){for(var U=-1,Q=b==null?0:b.length;++U<Q;){var be=b[U];E(R,be,A(be),b)}return R}function ze(b,E){for(var A=-1,R=b==null?0:b.length;++A<R&&E(b[A],A,b)!==!1;);return b}function ol(b,E){for(var A=b==null?0:b.length;A--&&E(b[A],A,b)!==!1;);return b}function Zs(b,E){for(var A=-1,R=b==null?0:b.length;++A<R;)if(!E(b[A],A,b))return!1;return!0}function Et(b,E){for(var A=-1,R=b==null?0:b.length,U=0,Q=[];++A<R;){var be=b[A];E(be,A,b)&&(Q[U++]=be)}return Q}function Kn(b,E){var A=b==null?0:b.length;return!!A&&$t(b,E,0)>-1}function ti(b,E,A){for(var R=-1,U=b==null?0:b.length;++R<U;)if(A(E,b[R]))return!0;return!1}function oe(b,E){for(var A=-1,R=b==null?0:b.length,U=Array(R);++A<R;)U[A]=E(b[A],A,b);return U}function Tt(b,E){for(var A=-1,R=E.length,U=b.length;++A<R;)b[U+A]=E[A];return b}function ni(b,E,A,R){var U=-1,Q=b==null?0:b.length;for(R&&Q&&(A=b[++U]);++U<Q;)A=E(A,b[U],U,b);return A}function al(b,E,A,R){var U=b==null?0:b.length;for(R&&U&&(A=b[--U]);U--;)A=E(A,b[U],U,b);return A}function ri(b,E){for(var A=-1,R=b==null?0:b.length;++A<R;)if(E(b[A],A,b))return!0;return!1}var ul=ii("length");function cl(b){return b.split("")}function ll(b){return b.match(bc)||[]}function Ys(b,E,A){var R;return A(b,function(U,Q,be){if(E(U,Q,be))return R=Q,!1}),R}function qn(b,E,A,R){for(var U=b.length,Q=A+(R?1:-1);R?Q--:++Q<U;)if(E(b[Q],Q,b))return Q;return-1}function $t(b,E,A){return E===E?Tl(b,E,A):qn(b,Xs,A)}function fl(b,E,A,R){for(var U=A-1,Q=b.length;++U<Q;)if(R(b[U],E))return U;return-1}function Xs(b){return b!==b}function Qs(b,E){var A=b==null?0:b.length;return A?oi(b,E)/A:Bn}function ii(b){return function(E){return E==null?o:E[b]}}function si(b){return function(E){return b==null?o:b[E]}}function js(b,E,A,R,U){return U(b,function(Q,be,ne){A=R?(R=!1,Q):E(A,Q,be,ne)}),A}function hl(b,E){var A=b.length;for(b.sort(E);A--;)b[A]=b[A].value;return b}function oi(b,E){for(var A,R=-1,U=b.length;++R<U;){var Q=E(b[R]);Q!==o&&(A=A===o?Q:A+Q)}return A}function ai(b,E){for(var A=-1,R=Array(b);++A<b;)R[A]=E(A);return R}function dl(b,E){return oe(E,function(A){return[A,b[A]]})}function eo(b){return b&&b.slice(0,io(b)+1).replace(Jr,"")}function Be(b){return function(E){return b(E)}}function ui(b,E){return oe(E,function(A){return b[A]})}function vn(b,E){return b.has(E)}function to(b,E){for(var A=-1,R=b.length;++A<R&&$t(E,b[A],0)>-1;);return A}function no(b,E){for(var A=b.length;A--&&$t(E,b[A],0)>-1;);return A}function gl(b,E){for(var A=b.length,R=0;A--;)b[A]===E&&++R;return R}var pl=si(Qc),vl=si(jc);function ml(b){return"\\"+tl[b]}function bl(b,E){return b==null?o:b[E]}function Jt(b){return Vc.test(b)}function _l(b){return Zc.test(b)}function Al(b){for(var E,A=[];!(E=b.next()).done;)A.push(E.value);return A}function ci(b){var E=-1,A=Array(b.size);return b.forEach(function(R,U){A[++E]=[U,R]}),A}function ro(b,E){return function(A){return b(E(A))}}function wt(b,E){for(var A=-1,R=b.length,U=0,Q=[];++A<R;){var be=b[A];(be===E||be===h)&&(b[A]=h,Q[U++]=A)}return Q}function $n(b){var E=-1,A=Array(b.size);return b.forEach(function(R){A[++E]=R}),A}function El(b){var E=-1,A=Array(b.size);return b.forEach(function(R){A[++E]=[R,R]}),A}function Tl(b,E,A){for(var R=A-1,U=b.length;++R<U;)if(b[R]===E)return R;return-1}function wl(b,E,A){for(var R=A+1;R--;)if(b[R]===E)return R;return R}function Vt(b){return Jt(b)?yl(b):ul(b)}function je(b){return Jt(b)?Il(b):cl(b)}function io(b){for(var E=b.length;E--&&gc.test(b.charAt(E)););return E}var Cl=si(el);function yl(b){for(var E=Qr.lastIndex=0;Qr.test(b);)++E;return E}function Il(b){return b.match(Qr)||[]}function Ol(b){return b.match(Jc)||[]}var Ml=function b(E){E=E==null?Ae:Ct.defaults(Ae.Object(),E,Ct.pick(Ae,Yc));var A=E.Array,R=E.Date,U=E.Error,Q=E.Function,be=E.Math,ne=E.Object,li=E.RegExp,Pl=E.String,Ke=E.TypeError,Jn=A.prototype,Sl=Q.prototype,Zt=ne.prototype,Vn=E["__core-js_shared__"],Zn=Sl.toString,te=Zt.hasOwnProperty,Ll=0,so=function(){var e=/[^.]+$/.exec(Vn&&Vn.keys&&Vn.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Yn=Zt.toString,Rl=Zn.call(ne),xl=Ae._,Fl=li("^"+Zn.call(te).replace($r,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Xn=Hs?E.Buffer:o,yt=E.Symbol,Qn=E.Uint8Array,oo=Xn?Xn.allocUnsafe:o,jn=ro(ne.getPrototypeOf,ne),ao=ne.create,uo=Zt.propertyIsEnumerable,er=Jn.splice,co=yt?yt.isConcatSpreadable:o,mn=yt?yt.iterator:o,Ft=yt?yt.toStringTag:o,tr=function(){try{var e=Ut(ne,"defineProperty");return e({},"",{}),e}catch(t){}}(),Nl=E.clearTimeout!==Ae.clearTimeout&&E.clearTimeout,Bl=R&&R.now!==Ae.Date.now&&R.now,Dl=E.setTimeout!==Ae.setTimeout&&E.setTimeout,nr=be.ceil,rr=be.floor,fi=ne.getOwnPropertySymbols,Gl=Xn?Xn.isBuffer:o,lo=E.isFinite,Ul=Jn.join,Wl=ro(ne.keys,ne),_e=be.max,ye=be.min,kl=R.now,Hl=E.parseInt,fo=be.random,zl=Jn.reverse,hi=Ut(E,"DataView"),bn=Ut(E,"Map"),di=Ut(E,"Promise"),Yt=Ut(E,"Set"),_n=Ut(E,"WeakMap"),An=Ut(ne,"create"),ir=_n&&new _n,Xt={},Kl=Wt(hi),ql=Wt(bn),$l=Wt(di),Jl=Wt(Yt),Vl=Wt(_n),sr=yt?yt.prototype:o,En=sr?sr.valueOf:o,ho=sr?sr.toString:o;function u(e){if(he(e)&&!W(e)&&!(e instanceof J)){if(e instanceof qe)return e;if(te.call(e,"__wrapped__"))return ga(e)}return new qe(e)}var Qt=function(){function e(){}return function(t){if(!ae(t))return{};if(ao)return ao(t);e.prototype=t;var n=new e;return e.prototype=o,n}}();function or(){}function qe(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}u.templateSettings={escape:uc,evaluate:cc,interpolate:Es,variable:"",imports:{_:u}},u.prototype=or.prototype,u.prototype.constructor=u,qe.prototype=Qt(or.prototype),qe.prototype.constructor=qe;function J(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=rt,this.__views__=[]}function Zl(){var e=new J(this.__wrapped__);return e.__actions__=Se(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Se(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Se(this.__views__),e}function Yl(){if(this.__filtered__){var e=new J(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Xl(){var e=this.__wrapped__.value(),t=this.__dir__,n=W(e),r=t<0,i=n?e.length:0,c=lh(0,i,this.__views__),d=c.start,v=c.end,_=v-d,T=r?v:d-1,C=this.__iteratees__,O=C.length,S=0,F=ye(_,this.__takeCount__);if(!n||!r&&i==_&&F==_)return Do(e,this.__actions__);var B=[];e:for(;_--&&S<F;){T+=t;for(var K=-1,D=e[T];++K<O;){var $=C[K],Z=$.iteratee,Ue=$.type,Pe=Z(D);if(Ue==qu)D=Pe;else if(!Pe){if(Ue==vs)continue e;break e}}B[S++]=D}return B}J.prototype=Qt(or.prototype),J.prototype.constructor=J;function Nt(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ql(){this.__data__=An?An(null):{},this.size=0}function jl(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function ef(e){var t=this.__data__;if(An){var n=t[e];return n===w?o:n}return te.call(t,e)?t[e]:o}function tf(e){var t=this.__data__;return An?t[e]!==o:te.call(t,e)}function nf(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=An&&t===o?w:t,this}Nt.prototype.clear=Ql,Nt.prototype.delete=jl,Nt.prototype.get=ef,Nt.prototype.has=tf,Nt.prototype.set=nf;function ft(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function rf(){this.__data__=[],this.size=0}function sf(e){var t=this.__data__,n=ar(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():er.call(t,n,1),--this.size,!0}function of(e){var t=this.__data__,n=ar(t,e);return n<0?o:t[n][1]}function af(e){return ar(this.__data__,e)>-1}function uf(e,t){var n=this.__data__,r=ar(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}ft.prototype.clear=rf,ft.prototype.delete=sf,ft.prototype.get=of,ft.prototype.has=af,ft.prototype.set=uf;function ht(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function cf(){this.size=0,this.__data__={hash:new Nt,map:new(bn||ft),string:new Nt}}function lf(e){var t=_r(this,e).delete(e);return this.size-=t?1:0,t}function ff(e){return _r(this,e).get(e)}function hf(e){return _r(this,e).has(e)}function df(e,t){var n=_r(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}ht.prototype.clear=cf,ht.prototype.delete=lf,ht.prototype.get=ff,ht.prototype.has=hf,ht.prototype.set=df;function Bt(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new ht;++t<n;)this.add(e[t])}function gf(e){return this.__data__.set(e,w),this}function pf(e){return this.__data__.has(e)}Bt.prototype.add=Bt.prototype.push=gf,Bt.prototype.has=pf;function et(e){var t=this.__data__=new ft(e);this.size=t.size}function vf(){this.__data__=new ft,this.size=0}function mf(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function bf(e){return this.__data__.get(e)}function _f(e){return this.__data__.has(e)}function Af(e,t){var n=this.__data__;if(n instanceof ft){var r=n.__data__;if(!bn||r.length<s-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ht(r)}return n.set(e,t),this.size=n.size,this}et.prototype.clear=vf,et.prototype.delete=mf,et.prototype.get=bf,et.prototype.has=_f,et.prototype.set=Af;function go(e,t){var n=W(e),r=!n&&kt(e),i=!n&&!r&&St(e),c=!n&&!r&&!i&&nn(e),d=n||r||i||c,v=d?ai(e.length,Pl):[],_=v.length;for(var T in e)(t||te.call(e,T))&&!(d&&(T=="length"||i&&(T=="offset"||T=="parent")||c&&(T=="buffer"||T=="byteLength"||T=="byteOffset")||vt(T,_)))&&v.push(T);return v}function po(e){var t=e.length;return t?e[Ci(0,t-1)]:o}function Ef(e,t){return Ar(Se(e),Dt(t,0,e.length))}function Tf(e){return Ar(Se(e))}function gi(e,t,n){(n!==o&&!tt(e[t],n)||n===o&&!(t in e))&&dt(e,t,n)}function Tn(e,t,n){var r=e[t];(!(te.call(e,t)&&tt(r,n))||n===o&&!(t in e))&&dt(e,t,n)}function ar(e,t){for(var n=e.length;n--;)if(tt(e[n][0],t))return n;return-1}function wf(e,t,n,r){return It(e,function(i,c,d){t(r,i,n(i),d)}),r}function vo(e,t){return e&&st(t,Ee(t),e)}function Cf(e,t){return e&&st(t,Re(t),e)}function dt(e,t,n){t=="__proto__"&&tr?tr(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function pi(e,t){for(var n=-1,r=t.length,i=A(r),c=e==null;++n<r;)i[n]=c?o:Zi(e,t[n]);return i}function Dt(e,t,n){return e===e&&(n!==o&&(e=e<=n?e:n),t!==o&&(e=e>=t?e:t)),e}function $e(e,t,n,r,i,c){var d,v=t&p,_=t&P,T=t&I;if(n&&(d=i?n(e,r,i,c):n(e)),d!==o)return d;if(!ae(e))return e;var C=W(e);if(C){if(d=hh(e),!v)return Se(e,d)}else{var O=Ie(e),S=O==Un||O==ms;if(St(e))return Wo(e,v);if(O==lt||O==zt||S&&!i){if(d=_||S?{}:sa(e),!v)return _?th(e,Cf(d,e)):eh(e,vo(d,e))}else{if(!re[O])return i?e:{};d=dh(e,O,v)}}c||(c=new et);var F=c.get(e);if(F)return F;c.set(e,d),Fa(e)?e.forEach(function(D){d.add($e(D,t,n,D,e,c))}):Ra(e)&&e.forEach(function(D,$){d.set($,$e(D,t,n,$,e,c))});var B=T?_?Ni:Fi:_?Re:Ee,K=C?o:B(e);return ze(K||e,function(D,$){K&&($=D,D=e[$]),Tn(d,$,$e(D,t,n,$,e,c))}),d}function yf(e){var t=Ee(e);return function(n){return mo(n,e,t)}}function mo(e,t,n){var r=n.length;if(e==null)return!r;for(e=ne(e);r--;){var i=n[r],c=t[i],d=e[i];if(d===o&&!(i in e)||!c(d))return!1}return!0}function bo(e,t,n){if(typeof e!="function")throw new Ke(f);return Pn(function(){e.apply(o,n)},t)}function wn(e,t,n,r){var i=-1,c=Kn,d=!0,v=e.length,_=[],T=t.length;if(!v)return _;n&&(t=oe(t,Be(n))),r?(c=ti,d=!1):t.length>=s&&(c=vn,d=!1,t=new Bt(t));e:for(;++i<v;){var C=e[i],O=n==null?C:n(C);if(C=r||C!==0?C:0,d&&O===O){for(var S=T;S--;)if(t[S]===O)continue e;_.push(C)}else c(t,O,r)||_.push(C)}return _}var It=qo(it),_o=qo(mi,!0);function If(e,t){var n=!0;return It(e,function(r,i,c){return n=!!t(r,i,c),n}),n}function ur(e,t,n){for(var r=-1,i=e.length;++r<i;){var c=e[r],d=t(c);if(d!=null&&(v===o?d===d&&!Ge(d):n(d,v)))var v=d,_=c}return _}function Of(e,t,n,r){var i=e.length;for(n=H(n),n<0&&(n=-n>i?0:i+n),r=r===o||r>i?i:H(r),r<0&&(r+=i),r=n>r?0:Ba(r);n<r;)e[n++]=t;return e}function Ao(e,t){var n=[];return It(e,function(r,i,c){t(r,i,c)&&n.push(r)}),n}function Te(e,t,n,r,i){var c=-1,d=e.length;for(n||(n=ph),i||(i=[]);++c<d;){var v=e[c];t>0&&n(v)?t>1?Te(v,t-1,n,r,i):Tt(i,v):r||(i[i.length]=v)}return i}var vi=$o(),Eo=$o(!0);function it(e,t){return e&&vi(e,t,Ee)}function mi(e,t){return e&&Eo(e,t,Ee)}function cr(e,t){return Et(t,function(n){return mt(e[n])})}function Gt(e,t){t=Mt(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[ot(t[n++])];return n&&n==r?e:o}function To(e,t,n){var r=t(e);return W(e)?r:Tt(r,n(e))}function Oe(e){return e==null?e===o?tc:ju:Ft&&Ft in ne(e)?ch(e):Th(e)}function bi(e,t){return e>t}function Mf(e,t){return e!=null&&te.call(e,t)}function Pf(e,t){return e!=null&&t in ne(e)}function Sf(e,t,n){return e>=ye(t,n)&&e<_e(t,n)}function _i(e,t,n){for(var r=n?ti:Kn,i=e[0].length,c=e.length,d=c,v=A(c),_=1/0,T=[];d--;){var C=e[d];d&&t&&(C=oe(C,Be(t))),_=ye(C.length,_),v[d]=!n&&(t||i>=120&&C.length>=120)?new Bt(d&&C):o}C=e[0];var O=-1,S=v[0];e:for(;++O<i&&T.length<_;){var F=C[O],B=t?t(F):F;if(F=n||F!==0?F:0,!(S?vn(S,B):r(T,B,n))){for(d=c;--d;){var K=v[d];if(!(K?vn(K,B):r(e[d],B,n)))continue e}S&&S.push(B),T.push(F)}}return T}function Lf(e,t,n,r){return it(e,function(i,c,d){t(r,n(i),c,d)}),r}function Cn(e,t,n){t=Mt(t,e),e=ca(e,t);var r=e==null?e:e[ot(Ve(t))];return r==null?o:Ne(r,e,n)}function wo(e){return he(e)&&Oe(e)==zt}function Rf(e){return he(e)&&Oe(e)==pn}function xf(e){return he(e)&&Oe(e)==ln}function yn(e,t,n,r,i){return e===t?!0:e==null||t==null||!he(e)&&!he(t)?e!==e&&t!==t:Ff(e,t,n,r,yn,i)}function Ff(e,t,n,r,i,c){var d=W(e),v=W(t),_=d?Dn:Ie(e),T=v?Dn:Ie(t);_=_==zt?lt:_,T=T==zt?lt:T;var C=_==lt,O=T==lt,S=_==T;if(S&&St(e)){if(!St(t))return!1;d=!0,C=!1}if(S&&!C)return c||(c=new et),d||nn(e)?na(e,t,n,r,i,c):ah(e,t,_,n,r,i,c);if(!(n&y)){var F=C&&te.call(e,"__wrapped__"),B=O&&te.call(t,"__wrapped__");if(F||B){var K=F?e.value():e,D=B?t.value():t;return c||(c=new et),i(K,D,n,r,c)}}return S?(c||(c=new et),uh(e,t,n,r,i,c)):!1}function Nf(e){return he(e)&&Ie(e)==Xe}function Ai(e,t,n,r){var i=n.length,c=i,d=!r;if(e==null)return!c;for(e=ne(e);i--;){var v=n[i];if(d&&v[2]?v[1]!==e[v[0]]:!(v[0]in e))return!1}for(;++i<c;){v=n[i];var _=v[0],T=e[_],C=v[1];if(d&&v[2]){if(T===o&&!(_ in e))return!1}else{var O=new et;if(r)var S=r(T,C,_,e,t,O);if(!(S===o?yn(C,T,y|L,r,O):S))return!1}}return!0}function Co(e){if(!ae(e)||mh(e))return!1;var t=mt(e)?Fl:Cc;return t.test(Wt(e))}function Bf(e){return he(e)&&Oe(e)==hn}function Df(e){return he(e)&&Ie(e)==Qe}function Gf(e){return he(e)&&Ir(e.length)&&!!ie[Oe(e)]}function yo(e){return typeof e=="function"?e:e==null?xe:typeof e=="object"?W(e)?Mo(e[0],e[1]):Oo(e):Ja(e)}function Ei(e){if(!Mn(e))return Wl(e);var t=[];for(var n in ne(e))te.call(e,n)&&n!="constructor"&&t.push(n);return t}function Uf(e){if(!ae(e))return Eh(e);var t=Mn(e),n=[];for(var r in e)r=="constructor"&&(t||!te.call(e,r))||n.push(r);return n}function Ti(e,t){return e<t}function Io(e,t){var n=-1,r=Le(e)?A(e.length):[];return It(e,function(i,c,d){r[++n]=t(i,c,d)}),r}function Oo(e){var t=Di(e);return t.length==1&&t[0][2]?aa(t[0][0],t[0][1]):function(n){return n===e||Ai(n,e,t)}}function Mo(e,t){return Ui(e)&&oa(t)?aa(ot(e),t):function(n){var r=Zi(n,e);return r===o&&r===t?Yi(n,e):yn(t,r,y|L)}}function lr(e,t,n,r,i){e!==t&&vi(t,function(c,d){if(i||(i=new et),ae(c))Wf(e,t,d,n,lr,r,i);else{var v=r?r(ki(e,d),c,d+"",e,t,i):o;v===o&&(v=c),gi(e,d,v)}},Re)}function Wf(e,t,n,r,i,c,d){var v=ki(e,n),_=ki(t,n),T=d.get(_);if(T){gi(e,n,T);return}var C=c?c(v,_,n+"",e,t,d):o,O=C===o;if(O){var S=W(_),F=!S&&St(_),B=!S&&!F&&nn(_);C=_,S||F||B?W(v)?C=v:ge(v)?C=Se(v):F?(O=!1,C=Wo(_,!0)):B?(O=!1,C=ko(_,!0)):C=[]:Sn(_)||kt(_)?(C=v,kt(v)?C=Da(v):(!ae(v)||mt(v))&&(C=sa(_))):O=!1}O&&(d.set(_,C),i(C,_,r,c,d),d.delete(_)),gi(e,n,C)}function Po(e,t){var n=e.length;if(!!n)return t+=t<0?n:0,vt(t,n)?e[t]:o}function So(e,t,n){t.length?t=oe(t,function(c){return W(c)?function(d){return Gt(d,c.length===1?c[0]:c)}:c}):t=[xe];var r=-1;t=oe(t,Be(N()));var i=Io(e,function(c,d,v){var _=oe(t,function(T){return T(c)});return{criteria:_,index:++r,value:c}});return hl(i,function(c,d){return jf(c,d,n)})}function kf(e,t){return Lo(e,t,function(n,r){return Yi(e,r)})}function Lo(e,t,n){for(var r=-1,i=t.length,c={};++r<i;){var d=t[r],v=Gt(e,d);n(v,d)&&In(c,Mt(d,e),v)}return c}function Hf(e){return function(t){return Gt(t,e)}}function wi(e,t,n,r){var i=r?fl:$t,c=-1,d=t.length,v=e;for(e===t&&(t=Se(t)),n&&(v=oe(e,Be(n)));++c<d;)for(var _=0,T=t[c],C=n?n(T):T;(_=i(v,C,_,r))>-1;)v!==e&&er.call(v,_,1),er.call(e,_,1);return e}function Ro(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==c){var c=i;vt(i)?er.call(e,i,1):Oi(e,i)}}return e}function Ci(e,t){return e+rr(fo()*(t-e+1))}function zf(e,t,n,r){for(var i=-1,c=_e(nr((t-e)/(n||1)),0),d=A(c);c--;)d[r?c:++i]=e,e+=n;return d}function yi(e,t){var n="";if(!e||t<1||t>At)return n;do t%2&&(n+=e),t=rr(t/2),t&&(e+=e);while(t);return n}function q(e,t){return Hi(ua(e,t,xe),e+"")}function Kf(e){return po(rn(e))}function qf(e,t){var n=rn(e);return Ar(n,Dt(t,0,n.length))}function In(e,t,n,r){if(!ae(e))return e;t=Mt(t,e);for(var i=-1,c=t.length,d=c-1,v=e;v!=null&&++i<c;){var _=ot(t[i]),T=n;if(_==="__proto__"||_==="constructor"||_==="prototype")return e;if(i!=d){var C=v[_];T=r?r(C,_,v):o,T===o&&(T=ae(C)?C:vt(t[i+1])?[]:{})}Tn(v,_,T),v=v[_]}return e}var xo=ir?function(e,t){return ir.set(e,t),e}:xe,$f=tr?function(e,t){return tr(e,"toString",{configurable:!0,enumerable:!1,value:Qi(t),writable:!0})}:xe;function Jf(e){return Ar(rn(e))}function Je(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var c=A(i);++r<i;)c[r]=e[r+t];return c}function Vf(e,t){var n;return It(e,function(r,i,c){return n=t(r,i,c),!n}),!!n}function fr(e,t,n){var r=0,i=e==null?r:e.length;if(typeof t=="number"&&t===t&&i<=Zu){for(;r<i;){var c=r+i>>>1,d=e[c];d!==null&&!Ge(d)&&(n?d<=t:d<t)?r=c+1:i=c}return i}return Ii(e,t,xe,n)}function Ii(e,t,n,r){var i=0,c=e==null?0:e.length;if(c===0)return 0;t=n(t);for(var d=t!==t,v=t===null,_=Ge(t),T=t===o;i<c;){var C=rr((i+c)/2),O=n(e[C]),S=O!==o,F=O===null,B=O===O,K=Ge(O);if(d)var D=r||B;else T?D=B&&(r||S):v?D=B&&S&&(r||!F):_?D=B&&S&&!F&&(r||!K):F||K?D=!1:D=r?O<=t:O<t;D?i=C+1:c=C}return ye(c,Vu)}function Fo(e,t){for(var n=-1,r=e.length,i=0,c=[];++n<r;){var d=e[n],v=t?t(d):d;if(!n||!tt(v,_)){var _=v;c[i++]=d===0?0:d}}return c}function No(e){return typeof e=="number"?e:Ge(e)?Bn:+e}function De(e){if(typeof e=="string")return e;if(W(e))return oe(e,De)+"";if(Ge(e))return ho?ho.call(e):"";var t=e+"";return t=="0"&&1/e==-Rt?"-0":t}function Ot(e,t,n){var r=-1,i=Kn,c=e.length,d=!0,v=[],_=v;if(n)d=!1,i=ti;else if(c>=s){var T=t?null:sh(e);if(T)return $n(T);d=!1,i=vn,_=new Bt}else _=t?[]:v;e:for(;++r<c;){var C=e[r],O=t?t(C):C;if(C=n||C!==0?C:0,d&&O===O){for(var S=_.length;S--;)if(_[S]===O)continue e;t&&_.push(O),v.push(C)}else i(_,O,n)||(_!==v&&_.push(O),v.push(C))}return v}function Oi(e,t){return t=Mt(t,e),e=ca(e,t),e==null||delete e[ot(Ve(t))]}function Bo(e,t,n,r){return In(e,t,n(Gt(e,t)),r)}function hr(e,t,n,r){for(var i=e.length,c=r?i:-1;(r?c--:++c<i)&&t(e[c],c,e););return n?Je(e,r?0:c,r?c+1:i):Je(e,r?c+1:0,r?i:c)}function Do(e,t){var n=e;return n instanceof J&&(n=n.value()),ni(t,function(r,i){return i.func.apply(i.thisArg,Tt([r],i.args))},n)}function Mi(e,t,n){var r=e.length;if(r<2)return r?Ot(e[0]):[];for(var i=-1,c=A(r);++i<r;)for(var d=e[i],v=-1;++v<r;)v!=i&&(c[i]=wn(c[i]||d,e[v],t,n));return Ot(Te(c,1),t,n)}function Go(e,t,n){for(var r=-1,i=e.length,c=t.length,d={};++r<i;){var v=r<c?t[r]:o;n(d,e[r],v)}return d}function Pi(e){return ge(e)?e:[]}function Si(e){return typeof e=="function"?e:xe}function Mt(e,t){return W(e)?e:Ui(e,t)?[e]:da(j(e))}var Zf=q;function Pt(e,t,n){var r=e.length;return n=n===o?r:n,!t&&n>=r?e:Je(e,t,n)}var Uo=Nl||function(e){return Ae.clearTimeout(e)};function Wo(e,t){if(t)return e.slice();var n=e.length,r=oo?oo(n):new e.constructor(n);return e.copy(r),r}function Li(e){var t=new e.constructor(e.byteLength);return new Qn(t).set(new Qn(e)),t}function Yf(e,t){var n=t?Li(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function Xf(e){var t=new e.constructor(e.source,Ts.exec(e));return t.lastIndex=e.lastIndex,t}function Qf(e){return En?ne(En.call(e)):{}}function ko(e,t){var n=t?Li(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ho(e,t){if(e!==t){var n=e!==o,r=e===null,i=e===e,c=Ge(e),d=t!==o,v=t===null,_=t===t,T=Ge(t);if(!v&&!T&&!c&&e>t||c&&d&&_&&!v&&!T||r&&d&&_||!n&&_||!i)return 1;if(!r&&!c&&!T&&e<t||T&&n&&i&&!r&&!c||v&&n&&i||!d&&i||!_)return-1}return 0}function jf(e,t,n){for(var r=-1,i=e.criteria,c=t.criteria,d=i.length,v=n.length;++r<d;){var _=Ho(i[r],c[r]);if(_){if(r>=v)return _;var T=n[r];return _*(T=="desc"?-1:1)}}return e.index-t.index}function zo(e,t,n,r){for(var i=-1,c=e.length,d=n.length,v=-1,_=t.length,T=_e(c-d,0),C=A(_+T),O=!r;++v<_;)C[v]=t[v];for(;++i<d;)(O||i<c)&&(C[n[i]]=e[i]);for(;T--;)C[v++]=e[i++];return C}function Ko(e,t,n,r){for(var i=-1,c=e.length,d=-1,v=n.length,_=-1,T=t.length,C=_e(c-v,0),O=A(C+T),S=!r;++i<C;)O[i]=e[i];for(var F=i;++_<T;)O[F+_]=t[_];for(;++d<v;)(S||i<c)&&(O[F+n[d]]=e[i++]);return O}function Se(e,t){var n=-1,r=e.length;for(t||(t=A(r));++n<r;)t[n]=e[n];return t}function st(e,t,n,r){var i=!n;n||(n={});for(var c=-1,d=t.length;++c<d;){var v=t[c],_=r?r(n[v],e[v],v,n,e):o;_===o&&(_=e[v]),i?dt(n,v,_):Tn(n,v,_)}return n}function eh(e,t){return st(e,Gi(e),t)}function th(e,t){return st(e,ra(e),t)}function dr(e,t){return function(n,r){var i=W(n)?sl:wf,c=t?t():{};return i(n,e,N(r,2),c)}}function jt(e){return q(function(t,n){var r=-1,i=n.length,c=i>1?n[i-1]:o,d=i>2?n[2]:o;for(c=e.length>3&&typeof c=="function"?(i--,c):o,d&&Me(n[0],n[1],d)&&(c=i<3?o:c,i=1),t=ne(t);++r<i;){var v=n[r];v&&e(t,v,r,c)}return t})}function qo(e,t){return function(n,r){if(n==null)return n;if(!Le(n))return e(n,r);for(var i=n.length,c=t?i:-1,d=ne(n);(t?c--:++c<i)&&r(d[c],c,d)!==!1;);return n}}function $o(e){return function(t,n,r){for(var i=-1,c=ne(t),d=r(t),v=d.length;v--;){var _=d[e?v:++i];if(n(c[_],_,c)===!1)break}return t}}function nh(e,t,n){var r=t&x,i=On(e);function c(){var d=this&&this!==Ae&&this instanceof c?i:e;return d.apply(r?n:this,arguments)}return c}function Jo(e){return function(t){t=j(t);var n=Jt(t)?je(t):o,r=n?n[0]:t.charAt(0),i=n?Pt(n,1).join(""):t.slice(1);return r[e]()+i}}function en(e){return function(t){return ni(qa(Ka(t).replace(qc,"")),e,"")}}function On(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Qt(e.prototype),r=e.apply(n,t);return ae(r)?r:n}}function rh(e,t,n){var r=On(e);function i(){for(var c=arguments.length,d=A(c),v=c,_=tn(i);v--;)d[v]=arguments[v];var T=c<3&&d[0]!==_&&d[c-1]!==_?[]:wt(d,_);if(c-=T.length,c<n)return Qo(e,t,gr,i.placeholder,o,d,T,o,o,n-c);var C=this&&this!==Ae&&this instanceof i?r:e;return Ne(C,this,d)}return i}function Vo(e){return function(t,n,r){var i=ne(t);if(!Le(t)){var c=N(n,3);t=Ee(t),n=function(v){return c(i[v],v,i)}}var d=e(t,n,r);return d>-1?i[c?t[d]:d]:o}}function Zo(e){return pt(function(t){var n=t.length,r=n,i=qe.prototype.thru;for(e&&t.reverse();r--;){var c=t[r];if(typeof c!="function")throw new Ke(f);if(i&&!d&&br(c)=="wrapper")var d=new qe([],!0)}for(r=d?r:n;++r<n;){c=t[r];var v=br(c),_=v=="wrapper"?Bi(c):o;_&&Wi(_[0])&&_[1]==(se|Y|le|z)&&!_[4].length&&_[9]==1?d=d[br(_[0])].apply(d,_[3]):d=c.length==1&&Wi(c)?d[v]():d.thru(c)}return function(){var T=arguments,C=T[0];if(d&&T.length==1&&W(C))return d.plant(C).value();for(var O=0,S=n?t[O].apply(this,T):C;++O<n;)S=t[O].call(this,S);return S}})}function gr(e,t,n,r,i,c,d,v,_,T){var C=t&se,O=t&x,S=t&G,F=t&(Y|ce),B=t&fe,K=S?o:On(e);function D(){for(var $=arguments.length,Z=A($),Ue=$;Ue--;)Z[Ue]=arguments[Ue];if(F)var Pe=tn(D),We=gl(Z,Pe);if(r&&(Z=zo(Z,r,i,F)),c&&(Z=Ko(Z,c,d,F)),$-=We,F&&$<T){var pe=wt(Z,Pe);return Qo(e,t,gr,D.placeholder,n,Z,pe,v,_,T-$)}var nt=O?n:this,_t=S?nt[e]:e;return $=Z.length,v?Z=wh(Z,v):B&&$>1&&Z.reverse(),C&&_<$&&(Z.length=_),this&&this!==Ae&&this instanceof D&&(_t=K||On(_t)),_t.apply(nt,Z)}return D}function Yo(e,t){return function(n,r){return Lf(n,e,t(r),{})}}function pr(e,t){return function(n,r){var i;if(n===o&&r===o)return t;if(n!==o&&(i=n),r!==o){if(i===o)return r;typeof n=="string"||typeof r=="string"?(n=De(n),r=De(r)):(n=No(n),r=No(r)),i=e(n,r)}return i}}function Ri(e){return pt(function(t){return t=oe(t,Be(N())),q(function(n){var r=this;return e(t,function(i){return Ne(i,r,n)})})})}function vr(e,t){t=t===o?" ":De(t);var n=t.length;if(n<2)return n?yi(t,e):t;var r=yi(t,nr(e/Vt(t)));return Jt(t)?Pt(je(r),0,e).join(""):r.slice(0,e)}function ih(e,t,n,r){var i=t&x,c=On(e);function d(){for(var v=-1,_=arguments.length,T=-1,C=r.length,O=A(C+_),S=this&&this!==Ae&&this instanceof d?c:e;++T<C;)O[T]=r[T];for(;_--;)O[T++]=arguments[++v];return Ne(S,i?n:this,O)}return d}function Xo(e){return function(t,n,r){return r&&typeof r!="number"&&Me(t,n,r)&&(n=r=o),t=bt(t),n===o?(n=t,t=0):n=bt(n),r=r===o?t<n?1:-1:bt(r),zf(t,n,r,e)}}function mr(e){return function(t,n){return typeof t=="string"&&typeof n=="string"||(t=Ze(t),n=Ze(n)),e(t,n)}}function Qo(e,t,n,r,i,c,d,v,_,T){var C=t&Y,O=C?d:o,S=C?o:d,F=C?c:o,B=C?o:c;t|=C?le:ee,t&=~(C?ee:le),t&V||(t&=~(x|G));var K=[e,t,i,F,O,B,S,v,_,T],D=n.apply(o,K);return Wi(e)&&la(D,K),D.placeholder=r,fa(D,e,t)}function xi(e){var t=be[e];return function(n,r){if(n=Ze(n),r=r==null?0:ye(H(r),292),r&&lo(n)){var i=(j(n)+"e").split("e"),c=t(i[0]+"e"+(+i[1]+r));return i=(j(c)+"e").split("e"),+(i[0]+"e"+(+i[1]-r))}return t(n)}}var sh=Yt&&1/$n(new Yt([,-0]))[1]==Rt?function(e){return new Yt(e)}:ts;function jo(e){return function(t){var n=Ie(t);return n==Xe?ci(t):n==Qe?El(t):dl(t,e(t))}}function gt(e,t,n,r,i,c,d,v){var _=t&G;if(!_&&typeof e!="function")throw new Ke(f);var T=r?r.length:0;if(T||(t&=~(le|ee),r=i=o),d=d===o?d:_e(H(d),0),v=v===o?v:H(v),T-=i?i.length:0,t&ee){var C=r,O=i;r=i=o}var S=_?o:Bi(e),F=[e,t,n,r,i,C,O,c,d,v];if(S&&Ah(F,S),e=F[0],t=F[1],n=F[2],r=F[3],i=F[4],v=F[9]=F[9]===o?_?0:e.length:_e(F[9]-T,0),!v&&t&(Y|ce)&&(t&=~(Y|ce)),!t||t==x)var B=nh(e,t,n);else t==Y||t==ce?B=rh(e,t,v):(t==le||t==(x|le))&&!i.length?B=ih(e,t,n,r):B=gr.apply(o,F);var K=S?xo:la;return fa(K(B,F),e,t)}function ea(e,t,n,r){return e===o||tt(e,Zt[n])&&!te.call(r,n)?t:e}function ta(e,t,n,r,i,c){return ae(e)&&ae(t)&&(c.set(t,e),lr(e,t,o,ta,c),c.delete(t)),e}function oh(e){return Sn(e)?o:e}function na(e,t,n,r,i,c){var d=n&y,v=e.length,_=t.length;if(v!=_&&!(d&&_>v))return!1;var T=c.get(e),C=c.get(t);if(T&&C)return T==t&&C==e;var O=-1,S=!0,F=n&L?new Bt:o;for(c.set(e,t),c.set(t,e);++O<v;){var B=e[O],K=t[O];if(r)var D=d?r(K,B,O,t,e,c):r(B,K,O,e,t,c);if(D!==o){if(D)continue;S=!1;break}if(F){if(!ri(t,function($,Z){if(!vn(F,Z)&&(B===$||i(B,$,n,r,c)))return F.push(Z)})){S=!1;break}}else if(!(B===K||i(B,K,n,r,c))){S=!1;break}}return c.delete(e),c.delete(t),S}function ah(e,t,n,r,i,c,d){switch(n){case Kt:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case pn:return!(e.byteLength!=t.byteLength||!c(new Qn(e),new Qn(t)));case cn:case ln:case fn:return tt(+e,+t);case Gn:return e.name==t.name&&e.message==t.message;case hn:case dn:return e==t+"";case Xe:var v=ci;case Qe:var _=r&y;if(v||(v=$n),e.size!=t.size&&!_)return!1;var T=d.get(e);if(T)return T==t;r|=L,d.set(e,t);var C=na(v(e),v(t),r,i,c,d);return d.delete(e),C;case Wn:if(En)return En.call(e)==En.call(t)}return!1}function uh(e,t,n,r,i,c){var d=n&y,v=Fi(e),_=v.length,T=Fi(t),C=T.length;if(_!=C&&!d)return!1;for(var O=_;O--;){var S=v[O];if(!(d?S in t:te.call(t,S)))return!1}var F=c.get(e),B=c.get(t);if(F&&B)return F==t&&B==e;var K=!0;c.set(e,t),c.set(t,e);for(var D=d;++O<_;){S=v[O];var $=e[S],Z=t[S];if(r)var Ue=d?r(Z,$,S,t,e,c):r($,Z,S,e,t,c);if(!(Ue===o?$===Z||i($,Z,n,r,c):Ue)){K=!1;break}D||(D=S=="constructor")}if(K&&!D){var Pe=e.constructor,We=t.constructor;Pe!=We&&"constructor"in e&&"constructor"in t&&!(typeof Pe=="function"&&Pe instanceof Pe&&typeof We=="function"&&We instanceof We)&&(K=!1)}return c.delete(e),c.delete(t),K}function pt(e){return Hi(ua(e,o,ma),e+"")}function Fi(e){return To(e,Ee,Gi)}function Ni(e){return To(e,Re,ra)}var Bi=ir?function(e){return ir.get(e)}:ts;function br(e){for(var t=e.name+"",n=Xt[t],r=te.call(Xt,t)?n.length:0;r--;){var i=n[r],c=i.func;if(c==null||c==e)return i.name}return t}function tn(e){var t=te.call(u,"placeholder")?u:e;return t.placeholder}function N(){var e=u.iteratee||ji;return e=e===ji?yo:e,arguments.length?e(arguments[0],arguments[1]):e}function _r(e,t){var n=e.__data__;return vh(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Di(e){for(var t=Ee(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,oa(i)]}return t}function Ut(e,t){var n=bl(e,t);return Co(n)?n:o}function ch(e){var t=te.call(e,Ft),n=e[Ft];try{e[Ft]=o;var r=!0}catch(c){}var i=Yn.call(e);return r&&(t?e[Ft]=n:delete e[Ft]),i}var Gi=fi?function(e){return e==null?[]:(e=ne(e),Et(fi(e),function(t){return uo.call(e,t)}))}:ns,ra=fi?function(e){for(var t=[];e;)Tt(t,Gi(e)),e=jn(e);return t}:ns,Ie=Oe;(hi&&Ie(new hi(new ArrayBuffer(1)))!=Kt||bn&&Ie(new bn)!=Xe||di&&Ie(di.resolve())!=bs||Yt&&Ie(new Yt)!=Qe||_n&&Ie(new _n)!=gn)&&(Ie=function(e){var t=Oe(e),n=t==lt?e.constructor:o,r=n?Wt(n):"";if(r)switch(r){case Kl:return Kt;case ql:return Xe;case $l:return bs;case Jl:return Qe;case Vl:return gn}return t});function lh(e,t,n){for(var r=-1,i=n.length;++r<i;){var c=n[r],d=c.size;switch(c.type){case"drop":e+=d;break;case"dropRight":t-=d;break;case"take":t=ye(t,e+d);break;case"takeRight":e=_e(e,t-d);break}}return{start:e,end:t}}function fh(e){var t=e.match(vc);return t?t[1].split(mc):[]}function ia(e,t,n){t=Mt(t,e);for(var r=-1,i=t.length,c=!1;++r<i;){var d=ot(t[r]);if(!(c=e!=null&&n(e,d)))break;e=e[d]}return c||++r!=i?c:(i=e==null?0:e.length,!!i&&Ir(i)&&vt(d,i)&&(W(e)||kt(e)))}function hh(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&te.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function sa(e){return typeof e.constructor=="function"&&!Mn(e)?Qt(jn(e)):{}}function dh(e,t,n){var r=e.constructor;switch(t){case pn:return Li(e);case cn:case ln:return new r(+e);case Kt:return Yf(e,n);case Dr:case Gr:case Ur:case Wr:case kr:case Hr:case zr:case Kr:case qr:return ko(e,n);case Xe:return new r;case fn:case dn:return new r(e);case hn:return Xf(e);case Qe:return new r;case Wn:return Qf(e)}}function gh(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(pc,`{
/* [wrapped with `+t+`] */
`)}function ph(e){return W(e)||kt(e)||!!(co&&e&&e[co])}function vt(e,t){var n=typeof e;return t=t==null?At:t,!!t&&(n=="number"||n!="symbol"&&Ic.test(e))&&e>-1&&e%1==0&&e<t}function Me(e,t,n){if(!ae(n))return!1;var r=typeof t;return(r=="number"?Le(n)&&vt(t,n.length):r=="string"&&t in n)?tt(n[t],e):!1}function Ui(e,t){if(W(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Ge(e)?!0:fc.test(e)||!lc.test(e)||t!=null&&e in ne(t)}function vh(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Wi(e){var t=br(e),n=u[t];if(typeof n!="function"||!(t in J.prototype))return!1;if(e===n)return!0;var r=Bi(n);return!!r&&e===r[0]}function mh(e){return!!so&&so in e}var bh=Vn?mt:rs;function Mn(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Zt;return e===n}function oa(e){return e===e&&!ae(e)}function aa(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==o||e in ne(n))}}function _h(e){var t=Cr(e,function(r){return n.size===l&&n.clear(),r}),n=t.cache;return t}function Ah(e,t){var n=e[1],r=t[1],i=n|r,c=i<(x|G|se),d=r==se&&n==Y||r==se&&n==z&&e[7].length<=t[8]||r==(se|z)&&t[7].length<=t[8]&&n==Y;if(!(c||d))return e;r&x&&(e[2]=t[2],i|=n&x?0:V);var v=t[3];if(v){var _=e[3];e[3]=_?zo(_,v,t[4]):v,e[4]=_?wt(e[3],h):t[4]}return v=t[5],v&&(_=e[5],e[5]=_?Ko(_,v,t[6]):v,e[6]=_?wt(e[5],h):t[6]),v=t[7],v&&(e[7]=v),r&se&&(e[8]=e[8]==null?t[8]:ye(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}function Eh(e){var t=[];if(e!=null)for(var n in ne(e))t.push(n);return t}function Th(e){return Yn.call(e)}function ua(e,t,n){return t=_e(t===o?e.length-1:t,0),function(){for(var r=arguments,i=-1,c=_e(r.length-t,0),d=A(c);++i<c;)d[i]=r[t+i];i=-1;for(var v=A(t+1);++i<t;)v[i]=r[i];return v[t]=n(d),Ne(e,this,v)}}function ca(e,t){return t.length<2?e:Gt(e,Je(t,0,-1))}function wh(e,t){for(var n=e.length,r=ye(t.length,n),i=Se(e);r--;){var c=t[r];e[r]=vt(c,n)?i[c]:o}return e}function ki(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var la=ha(xo),Pn=Dl||function(e,t){return Ae.setTimeout(e,t)},Hi=ha($f);function fa(e,t,n){var r=t+"";return Hi(e,gh(r,Ch(fh(r),n)))}function ha(e){var t=0,n=0;return function(){var r=kl(),i=Ku-(r-n);if(n=r,i>0){if(++t>=ct)return arguments[0]}else t=0;return e.apply(o,arguments)}}function Ar(e,t){var n=-1,r=e.length,i=r-1;for(t=t===o?r:t;++n<t;){var c=Ci(n,i),d=e[c];e[c]=e[n],e[n]=d}return e.length=t,e}var da=_h(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(hc,function(n,r,i,c){t.push(i?c.replace(Ac,"$1"):r||n)}),t});function ot(e){if(typeof e=="string"||Ge(e))return e;var t=e+"";return t=="0"&&1/e==-Rt?"-0":t}function Wt(e){if(e!=null){try{return Zn.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Ch(e,t){return ze(Yu,function(n){var r="_."+n[0];t&n[1]&&!Kn(e,r)&&e.push(r)}),e.sort()}function ga(e){if(e instanceof J)return e.clone();var t=new qe(e.__wrapped__,e.__chain__);return t.__actions__=Se(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function yh(e,t,n){(n?Me(e,t,n):t===o)?t=1:t=_e(H(t),0);var r=e==null?0:e.length;if(!r||t<1)return[];for(var i=0,c=0,d=A(nr(r/t));i<r;)d[c++]=Je(e,i,i+=t);return d}function Ih(e){for(var t=-1,n=e==null?0:e.length,r=0,i=[];++t<n;){var c=e[t];c&&(i[r++]=c)}return i}function Oh(){var e=arguments.length;if(!e)return[];for(var t=A(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return Tt(W(n)?Se(n):[n],Te(t,1))}var Mh=q(function(e,t){return ge(e)?wn(e,Te(t,1,ge,!0)):[]}),Ph=q(function(e,t){var n=Ve(t);return ge(n)&&(n=o),ge(e)?wn(e,Te(t,1,ge,!0),N(n,2)):[]}),Sh=q(function(e,t){var n=Ve(t);return ge(n)&&(n=o),ge(e)?wn(e,Te(t,1,ge,!0),o,n):[]});function Lh(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===o?1:H(t),Je(e,t<0?0:t,r)):[]}function Rh(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===o?1:H(t),t=r-t,Je(e,0,t<0?0:t)):[]}function xh(e,t){return e&&e.length?hr(e,N(t,3),!0,!0):[]}function Fh(e,t){return e&&e.length?hr(e,N(t,3),!0):[]}function Nh(e,t,n,r){var i=e==null?0:e.length;return i?(n&&typeof n!="number"&&Me(e,t,n)&&(n=0,r=i),Of(e,t,n,r)):[]}function pa(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=n==null?0:H(n);return i<0&&(i=_e(r+i,0)),qn(e,N(t,3),i)}function va(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=r-1;return n!==o&&(i=H(n),i=n<0?_e(r+i,0):ye(i,r-1)),qn(e,N(t,3),i,!0)}function ma(e){var t=e==null?0:e.length;return t?Te(e,1):[]}function Bh(e){var t=e==null?0:e.length;return t?Te(e,Rt):[]}function Dh(e,t){var n=e==null?0:e.length;return n?(t=t===o?1:H(t),Te(e,t)):[]}function Gh(e){for(var t=-1,n=e==null?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r}function ba(e){return e&&e.length?e[0]:o}function Uh(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=n==null?0:H(n);return i<0&&(i=_e(r+i,0)),$t(e,t,i)}function Wh(e){var t=e==null?0:e.length;return t?Je(e,0,-1):[]}var kh=q(function(e){var t=oe(e,Pi);return t.length&&t[0]===e[0]?_i(t):[]}),Hh=q(function(e){var t=Ve(e),n=oe(e,Pi);return t===Ve(n)?t=o:n.pop(),n.length&&n[0]===e[0]?_i(n,N(t,2)):[]}),zh=q(function(e){var t=Ve(e),n=oe(e,Pi);return t=typeof t=="function"?t:o,t&&n.pop(),n.length&&n[0]===e[0]?_i(n,o,t):[]});function Kh(e,t){return e==null?"":Ul.call(e,t)}function Ve(e){var t=e==null?0:e.length;return t?e[t-1]:o}function qh(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=r;return n!==o&&(i=H(n),i=i<0?_e(r+i,0):ye(i,r-1)),t===t?wl(e,t,i):qn(e,Xs,i,!0)}function $h(e,t){return e&&e.length?Po(e,H(t)):o}var Jh=q(_a);function _a(e,t){return e&&e.length&&t&&t.length?wi(e,t):e}function Vh(e,t,n){return e&&e.length&&t&&t.length?wi(e,t,N(n,2)):e}function Zh(e,t,n){return e&&e.length&&t&&t.length?wi(e,t,o,n):e}var Yh=pt(function(e,t){var n=e==null?0:e.length,r=pi(e,t);return Ro(e,oe(t,function(i){return vt(i,n)?+i:i}).sort(Ho)),r});function Xh(e,t){var n=[];if(!(e&&e.length))return n;var r=-1,i=[],c=e.length;for(t=N(t,3);++r<c;){var d=e[r];t(d,r,e)&&(n.push(d),i.push(r))}return Ro(e,i),n}function zi(e){return e==null?e:zl.call(e)}function Qh(e,t,n){var r=e==null?0:e.length;return r?(n&&typeof n!="number"&&Me(e,t,n)?(t=0,n=r):(t=t==null?0:H(t),n=n===o?r:H(n)),Je(e,t,n)):[]}function jh(e,t){return fr(e,t)}function ed(e,t,n){return Ii(e,t,N(n,2))}function td(e,t){var n=e==null?0:e.length;if(n){var r=fr(e,t);if(r<n&&tt(e[r],t))return r}return-1}function nd(e,t){return fr(e,t,!0)}function rd(e,t,n){return Ii(e,t,N(n,2),!0)}function id(e,t){var n=e==null?0:e.length;if(n){var r=fr(e,t,!0)-1;if(tt(e[r],t))return r}return-1}function sd(e){return e&&e.length?Fo(e):[]}function od(e,t){return e&&e.length?Fo(e,N(t,2)):[]}function ad(e){var t=e==null?0:e.length;return t?Je(e,1,t):[]}function ud(e,t,n){return e&&e.length?(t=n||t===o?1:H(t),Je(e,0,t<0?0:t)):[]}function cd(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===o?1:H(t),t=r-t,Je(e,t<0?0:t,r)):[]}function ld(e,t){return e&&e.length?hr(e,N(t,3),!1,!0):[]}function fd(e,t){return e&&e.length?hr(e,N(t,3)):[]}var hd=q(function(e){return Ot(Te(e,1,ge,!0))}),dd=q(function(e){var t=Ve(e);return ge(t)&&(t=o),Ot(Te(e,1,ge,!0),N(t,2))}),gd=q(function(e){var t=Ve(e);return t=typeof t=="function"?t:o,Ot(Te(e,1,ge,!0),o,t)});function pd(e){return e&&e.length?Ot(e):[]}function vd(e,t){return e&&e.length?Ot(e,N(t,2)):[]}function md(e,t){return t=typeof t=="function"?t:o,e&&e.length?Ot(e,o,t):[]}function Ki(e){if(!(e&&e.length))return[];var t=0;return e=Et(e,function(n){if(ge(n))return t=_e(n.length,t),!0}),ai(t,function(n){return oe(e,ii(n))})}function Aa(e,t){if(!(e&&e.length))return[];var n=Ki(e);return t==null?n:oe(n,function(r){return Ne(t,o,r)})}var bd=q(function(e,t){return ge(e)?wn(e,t):[]}),_d=q(function(e){return Mi(Et(e,ge))}),Ad=q(function(e){var t=Ve(e);return ge(t)&&(t=o),Mi(Et(e,ge),N(t,2))}),Ed=q(function(e){var t=Ve(e);return t=typeof t=="function"?t:o,Mi(Et(e,ge),o,t)}),Td=q(Ki);function wd(e,t){return Go(e||[],t||[],Tn)}function Cd(e,t){return Go(e||[],t||[],In)}var yd=q(function(e){var t=e.length,n=t>1?e[t-1]:o;return n=typeof n=="function"?(e.pop(),n):o,Aa(e,n)});function Ea(e){var t=u(e);return t.__chain__=!0,t}function Id(e,t){return t(e),e}function Er(e,t){return t(e)}var Od=pt(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(c){return pi(c,e)};return t>1||this.__actions__.length||!(r instanceof J)||!vt(n)?this.thru(i):(r=r.slice(n,+n+(t?1:0)),r.__actions__.push({func:Er,args:[i],thisArg:o}),new qe(r,this.__chain__).thru(function(c){return t&&!c.length&&c.push(o),c}))});function Md(){return Ea(this)}function Pd(){return new qe(this.value(),this.__chain__)}function Sd(){this.__values__===o&&(this.__values__=Na(this.value()));var e=this.__index__>=this.__values__.length,t=e?o:this.__values__[this.__index__++];return{done:e,value:t}}function Ld(){return this}function Rd(e){for(var t,n=this;n instanceof or;){var r=ga(n);r.__index__=0,r.__values__=o,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t}function xd(){var e=this.__wrapped__;if(e instanceof J){var t=e;return this.__actions__.length&&(t=new J(this)),t=t.reverse(),t.__actions__.push({func:Er,args:[zi],thisArg:o}),new qe(t,this.__chain__)}return this.thru(zi)}function Fd(){return Do(this.__wrapped__,this.__actions__)}var Nd=dr(function(e,t,n){te.call(e,n)?++e[n]:dt(e,n,1)});function Bd(e,t,n){var r=W(e)?Zs:If;return n&&Me(e,t,n)&&(t=o),r(e,N(t,3))}function Dd(e,t){var n=W(e)?Et:Ao;return n(e,N(t,3))}var Gd=Vo(pa),Ud=Vo(va);function Wd(e,t){return Te(Tr(e,t),1)}function kd(e,t){return Te(Tr(e,t),Rt)}function Hd(e,t,n){return n=n===o?1:H(n),Te(Tr(e,t),n)}function Ta(e,t){var n=W(e)?ze:It;return n(e,N(t,3))}function wa(e,t){var n=W(e)?ol:_o;return n(e,N(t,3))}var zd=dr(function(e,t,n){te.call(e,n)?e[n].push(t):dt(e,n,[t])});function Kd(e,t,n,r){e=Le(e)?e:rn(e),n=n&&!r?H(n):0;var i=e.length;return n<0&&(n=_e(i+n,0)),Or(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&$t(e,t,n)>-1}var qd=q(function(e,t,n){var r=-1,i=typeof t=="function",c=Le(e)?A(e.length):[];return It(e,function(d){c[++r]=i?Ne(t,d,n):Cn(d,t,n)}),c}),$d=dr(function(e,t,n){dt(e,n,t)});function Tr(e,t){var n=W(e)?oe:Io;return n(e,N(t,3))}function Jd(e,t,n,r){return e==null?[]:(W(t)||(t=t==null?[]:[t]),n=r?o:n,W(n)||(n=n==null?[]:[n]),So(e,t,n))}var Vd=dr(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});function Zd(e,t,n){var r=W(e)?ni:js,i=arguments.length<3;return r(e,N(t,4),n,i,It)}function Yd(e,t,n){var r=W(e)?al:js,i=arguments.length<3;return r(e,N(t,4),n,i,_o)}function Xd(e,t){var n=W(e)?Et:Ao;return n(e,yr(N(t,3)))}function Qd(e){var t=W(e)?po:Kf;return t(e)}function jd(e,t,n){(n?Me(e,t,n):t===o)?t=1:t=H(t);var r=W(e)?Ef:qf;return r(e,t)}function eg(e){var t=W(e)?Tf:Jf;return t(e)}function tg(e){if(e==null)return 0;if(Le(e))return Or(e)?Vt(e):e.length;var t=Ie(e);return t==Xe||t==Qe?e.size:Ei(e).length}function ng(e,t,n){var r=W(e)?ri:Vf;return n&&Me(e,t,n)&&(t=o),r(e,N(t,3))}var rg=q(function(e,t){if(e==null)return[];var n=t.length;return n>1&&Me(e,t[0],t[1])?t=[]:n>2&&Me(t[0],t[1],t[2])&&(t=[t[0]]),So(e,Te(t,1),[])}),wr=Bl||function(){return Ae.Date.now()};function ig(e,t){if(typeof t!="function")throw new Ke(f);return e=H(e),function(){if(--e<1)return t.apply(this,arguments)}}function Ca(e,t,n){return t=n?o:t,t=e&&t==null?e.length:t,gt(e,se,o,o,o,o,t)}function ya(e,t){var n;if(typeof t!="function")throw new Ke(f);return e=H(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=o),n}}var qi=q(function(e,t,n){var r=x;if(n.length){var i=wt(n,tn(qi));r|=le}return gt(e,r,t,n,i)}),Ia=q(function(e,t,n){var r=x|G;if(n.length){var i=wt(n,tn(Ia));r|=le}return gt(t,r,e,n,i)});function Oa(e,t,n){t=n?o:t;var r=gt(e,Y,o,o,o,o,o,t);return r.placeholder=Oa.placeholder,r}function Ma(e,t,n){t=n?o:t;var r=gt(e,ce,o,o,o,o,o,t);return r.placeholder=Ma.placeholder,r}function Pa(e,t,n){var r,i,c,d,v,_,T=0,C=!1,O=!1,S=!0;if(typeof e!="function")throw new Ke(f);t=Ze(t)||0,ae(n)&&(C=!!n.leading,O="maxWait"in n,c=O?_e(Ze(n.maxWait)||0,t):c,S="trailing"in n?!!n.trailing:S);function F(pe){var nt=r,_t=i;return r=i=o,T=pe,d=e.apply(_t,nt),d}function B(pe){return T=pe,v=Pn($,t),C?F(pe):d}function K(pe){var nt=pe-_,_t=pe-T,Va=t-nt;return O?ye(Va,c-_t):Va}function D(pe){var nt=pe-_,_t=pe-T;return _===o||nt>=t||nt<0||O&&_t>=c}function $(){var pe=wr();if(D(pe))return Z(pe);v=Pn($,K(pe))}function Z(pe){return v=o,S&&r?F(pe):(r=i=o,d)}function Ue(){v!==o&&Uo(v),T=0,r=_=i=v=o}function Pe(){return v===o?d:Z(wr())}function We(){var pe=wr(),nt=D(pe);if(r=arguments,i=this,_=pe,nt){if(v===o)return B(_);if(O)return Uo(v),v=Pn($,t),F(_)}return v===o&&(v=Pn($,t)),d}return We.cancel=Ue,We.flush=Pe,We}var sg=q(function(e,t){return bo(e,1,t)}),og=q(function(e,t,n){return bo(e,Ze(t)||0,n)});function ag(e){return gt(e,fe)}function Cr(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new Ke(f);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],c=n.cache;if(c.has(i))return c.get(i);var d=e.apply(this,r);return n.cache=c.set(i,d)||c,d};return n.cache=new(Cr.Cache||ht),n}Cr.Cache=ht;function yr(e){if(typeof e!="function")throw new Ke(f);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function ug(e){return ya(2,e)}var cg=Zf(function(e,t){t=t.length==1&&W(t[0])?oe(t[0],Be(N())):oe(Te(t,1),Be(N()));var n=t.length;return q(function(r){for(var i=-1,c=ye(r.length,n);++i<c;)r[i]=t[i].call(this,r[i]);return Ne(e,this,r)})}),$i=q(function(e,t){var n=wt(t,tn($i));return gt(e,le,o,t,n)}),Sa=q(function(e,t){var n=wt(t,tn(Sa));return gt(e,ee,o,t,n)}),lg=pt(function(e,t){return gt(e,z,o,o,o,t)});function fg(e,t){if(typeof e!="function")throw new Ke(f);return t=t===o?t:H(t),q(e,t)}function hg(e,t){if(typeof e!="function")throw new Ke(f);return t=t==null?0:_e(H(t),0),q(function(n){var r=n[t],i=Pt(n,0,t);return r&&Tt(i,r),Ne(e,this,i)})}function dg(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new Ke(f);return ae(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Pa(e,t,{leading:r,maxWait:t,trailing:i})}function gg(e){return Ca(e,1)}function pg(e,t){return $i(Si(t),e)}function vg(){if(!arguments.length)return[];var e=arguments[0];return W(e)?e:[e]}function mg(e){return $e(e,I)}function bg(e,t){return t=typeof t=="function"?t:o,$e(e,I,t)}function _g(e){return $e(e,p|I)}function Ag(e,t){return t=typeof t=="function"?t:o,$e(e,p|I,t)}function Eg(e,t){return t==null||mo(e,t,Ee(t))}function tt(e,t){return e===t||e!==e&&t!==t}var Tg=mr(bi),wg=mr(function(e,t){return e>=t}),kt=wo(function(){return arguments}())?wo:function(e){return he(e)&&te.call(e,"callee")&&!uo.call(e,"callee")},W=A.isArray,Cg=zs?Be(zs):Rf;function Le(e){return e!=null&&Ir(e.length)&&!mt(e)}function ge(e){return he(e)&&Le(e)}function yg(e){return e===!0||e===!1||he(e)&&Oe(e)==cn}var St=Gl||rs,Ig=Ks?Be(Ks):xf;function Og(e){return he(e)&&e.nodeType===1&&!Sn(e)}function Mg(e){if(e==null)return!0;if(Le(e)&&(W(e)||typeof e=="string"||typeof e.splice=="function"||St(e)||nn(e)||kt(e)))return!e.length;var t=Ie(e);if(t==Xe||t==Qe)return!e.size;if(Mn(e))return!Ei(e).length;for(var n in e)if(te.call(e,n))return!1;return!0}function Pg(e,t){return yn(e,t)}function Sg(e,t,n){n=typeof n=="function"?n:o;var r=n?n(e,t):o;return r===o?yn(e,t,o,n):!!r}function Ji(e){if(!he(e))return!1;var t=Oe(e);return t==Gn||t==Qu||typeof e.message=="string"&&typeof e.name=="string"&&!Sn(e)}function Lg(e){return typeof e=="number"&&lo(e)}function mt(e){if(!ae(e))return!1;var t=Oe(e);return t==Un||t==ms||t==Xu||t==ec}function La(e){return typeof e=="number"&&e==H(e)}function Ir(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=At}function ae(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function he(e){return e!=null&&typeof e=="object"}var Ra=qs?Be(qs):Nf;function Rg(e,t){return e===t||Ai(e,t,Di(t))}function xg(e,t,n){return n=typeof n=="function"?n:o,Ai(e,t,Di(t),n)}function Fg(e){return xa(e)&&e!=+e}function Ng(e){if(bh(e))throw new U(m);return Co(e)}function Bg(e){return e===null}function Dg(e){return e==null}function xa(e){return typeof e=="number"||he(e)&&Oe(e)==fn}function Sn(e){if(!he(e)||Oe(e)!=lt)return!1;var t=jn(e);if(t===null)return!0;var n=te.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Zn.call(n)==Rl}var Vi=$s?Be($s):Bf;function Gg(e){return La(e)&&e>=-At&&e<=At}var Fa=Js?Be(Js):Df;function Or(e){return typeof e=="string"||!W(e)&&he(e)&&Oe(e)==dn}function Ge(e){return typeof e=="symbol"||he(e)&&Oe(e)==Wn}var nn=Vs?Be(Vs):Gf;function Ug(e){return e===o}function Wg(e){return he(e)&&Ie(e)==gn}function kg(e){return he(e)&&Oe(e)==nc}var Hg=mr(Ti),zg=mr(function(e,t){return e<=t});function Na(e){if(!e)return[];if(Le(e))return Or(e)?je(e):Se(e);if(mn&&e[mn])return Al(e[mn]());var t=Ie(e),n=t==Xe?ci:t==Qe?$n:rn;return n(e)}function bt(e){if(!e)return e===0?e:0;if(e=Ze(e),e===Rt||e===-Rt){var t=e<0?-1:1;return t*Ju}return e===e?e:0}function H(e){var t=bt(e),n=t%1;return t===t?n?t-n:t:0}function Ba(e){return e?Dt(H(e),0,rt):0}function Ze(e){if(typeof e=="number")return e;if(Ge(e))return Bn;if(ae(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ae(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=eo(e);var n=wc.test(e);return n||yc.test(e)?rl(e.slice(2),n?2:8):Tc.test(e)?Bn:+e}function Da(e){return st(e,Re(e))}function Kg(e){return e?Dt(H(e),-At,At):e===0?e:0}function j(e){return e==null?"":De(e)}var qg=jt(function(e,t){if(Mn(t)||Le(t)){st(t,Ee(t),e);return}for(var n in t)te.call(t,n)&&Tn(e,n,t[n])}),Ga=jt(function(e,t){st(t,Re(t),e)}),Mr=jt(function(e,t,n,r){st(t,Re(t),e,r)}),$g=jt(function(e,t,n,r){st(t,Ee(t),e,r)}),Jg=pt(pi);function Vg(e,t){var n=Qt(e);return t==null?n:vo(n,t)}var Zg=q(function(e,t){e=ne(e);var n=-1,r=t.length,i=r>2?t[2]:o;for(i&&Me(t[0],t[1],i)&&(r=1);++n<r;)for(var c=t[n],d=Re(c),v=-1,_=d.length;++v<_;){var T=d[v],C=e[T];(C===o||tt(C,Zt[T])&&!te.call(e,T))&&(e[T]=c[T])}return e}),Yg=q(function(e){return e.push(o,ta),Ne(Ua,o,e)});function Xg(e,t){return Ys(e,N(t,3),it)}function Qg(e,t){return Ys(e,N(t,3),mi)}function jg(e,t){return e==null?e:vi(e,N(t,3),Re)}function ep(e,t){return e==null?e:Eo(e,N(t,3),Re)}function tp(e,t){return e&&it(e,N(t,3))}function np(e,t){return e&&mi(e,N(t,3))}function rp(e){return e==null?[]:cr(e,Ee(e))}function ip(e){return e==null?[]:cr(e,Re(e))}function Zi(e,t,n){var r=e==null?o:Gt(e,t);return r===o?n:r}function sp(e,t){return e!=null&&ia(e,t,Mf)}function Yi(e,t){return e!=null&&ia(e,t,Pf)}var op=Yo(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=Yn.call(t)),e[t]=n},Qi(xe)),ap=Yo(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=Yn.call(t)),te.call(e,t)?e[t].push(n):e[t]=[n]},N),up=q(Cn);function Ee(e){return Le(e)?go(e):Ei(e)}function Re(e){return Le(e)?go(e,!0):Uf(e)}function cp(e,t){var n={};return t=N(t,3),it(e,function(r,i,c){dt(n,t(r,i,c),r)}),n}function lp(e,t){var n={};return t=N(t,3),it(e,function(r,i,c){dt(n,i,t(r,i,c))}),n}var fp=jt(function(e,t,n){lr(e,t,n)}),Ua=jt(function(e,t,n,r){lr(e,t,n,r)}),hp=pt(function(e,t){var n={};if(e==null)return n;var r=!1;t=oe(t,function(c){return c=Mt(c,e),r||(r=c.length>1),c}),st(e,Ni(e),n),r&&(n=$e(n,p|P|I,oh));for(var i=t.length;i--;)Oi(n,t[i]);return n});function dp(e,t){return Wa(e,yr(N(t)))}var gp=pt(function(e,t){return e==null?{}:kf(e,t)});function Wa(e,t){if(e==null)return{};var n=oe(Ni(e),function(r){return[r]});return t=N(t),Lo(e,n,function(r,i){return t(r,i[0])})}function pp(e,t,n){t=Mt(t,e);var r=-1,i=t.length;for(i||(i=1,e=o);++r<i;){var c=e==null?o:e[ot(t[r])];c===o&&(r=i,c=n),e=mt(c)?c.call(e):c}return e}function vp(e,t,n){return e==null?e:In(e,t,n)}function mp(e,t,n,r){return r=typeof r=="function"?r:o,e==null?e:In(e,t,n,r)}var ka=jo(Ee),Ha=jo(Re);function bp(e,t,n){var r=W(e),i=r||St(e)||nn(e);if(t=N(t,4),n==null){var c=e&&e.constructor;i?n=r?new c:[]:ae(e)?n=mt(c)?Qt(jn(e)):{}:n={}}return(i?ze:it)(e,function(d,v,_){return t(n,d,v,_)}),n}function _p(e,t){return e==null?!0:Oi(e,t)}function Ap(e,t,n){return e==null?e:Bo(e,t,Si(n))}function Ep(e,t,n,r){return r=typeof r=="function"?r:o,e==null?e:Bo(e,t,Si(n),r)}function rn(e){return e==null?[]:ui(e,Ee(e))}function Tp(e){return e==null?[]:ui(e,Re(e))}function wp(e,t,n){return n===o&&(n=t,t=o),n!==o&&(n=Ze(n),n=n===n?n:0),t!==o&&(t=Ze(t),t=t===t?t:0),Dt(Ze(e),t,n)}function Cp(e,t,n){return t=bt(t),n===o?(n=t,t=0):n=bt(n),e=Ze(e),Sf(e,t,n)}function yp(e,t,n){if(n&&typeof n!="boolean"&&Me(e,t,n)&&(t=n=o),n===o&&(typeof t=="boolean"?(n=t,t=o):typeof e=="boolean"&&(n=e,e=o)),e===o&&t===o?(e=0,t=1):(e=bt(e),t===o?(t=e,e=0):t=bt(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=fo();return ye(e+i*(t-e+nl("1e-"+((i+"").length-1))),t)}return Ci(e,t)}var Ip=en(function(e,t,n){return t=t.toLowerCase(),e+(n?za(t):t)});function za(e){return Xi(j(e).toLowerCase())}function Ka(e){return e=j(e),e&&e.replace(Oc,pl).replace($c,"")}function Op(e,t,n){e=j(e),t=De(t);var r=e.length;n=n===o?r:Dt(H(n),0,r);var i=n;return n-=t.length,n>=0&&e.slice(n,i)==t}function Mp(e){return e=j(e),e&&ac.test(e)?e.replace(As,vl):e}function Pp(e){return e=j(e),e&&dc.test(e)?e.replace($r,"\\$&"):e}var Sp=en(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Lp=en(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Rp=Jo("toLowerCase");function xp(e,t,n){e=j(e),t=H(t);var r=t?Vt(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return vr(rr(i),n)+e+vr(nr(i),n)}function Fp(e,t,n){e=j(e),t=H(t);var r=t?Vt(e):0;return t&&r<t?e+vr(t-r,n):e}function Np(e,t,n){e=j(e),t=H(t);var r=t?Vt(e):0;return t&&r<t?vr(t-r,n)+e:e}function Bp(e,t,n){return n||t==null?t=0:t&&(t=+t),Hl(j(e).replace(Jr,""),t||0)}function Dp(e,t,n){return(n?Me(e,t,n):t===o)?t=1:t=H(t),yi(j(e),t)}function Gp(){var e=arguments,t=j(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var Up=en(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});function Wp(e,t,n){return n&&typeof n!="number"&&Me(e,t,n)&&(t=n=o),n=n===o?rt:n>>>0,n?(e=j(e),e&&(typeof t=="string"||t!=null&&!Vi(t))&&(t=De(t),!t&&Jt(e))?Pt(je(e),0,n):e.split(t,n)):[]}var kp=en(function(e,t,n){return e+(n?" ":"")+Xi(t)});function Hp(e,t,n){return e=j(e),n=n==null?0:Dt(H(n),0,e.length),t=De(t),e.slice(n,n+t.length)==t}function zp(e,t,n){var r=u.templateSettings;n&&Me(e,t,n)&&(t=o),e=j(e),t=Mr({},t,r,ea);var i=Mr({},t.imports,r.imports,ea),c=Ee(i),d=ui(i,c),v,_,T=0,C=t.interpolate||kn,O="__p += '",S=li((t.escape||kn).source+"|"+C.source+"|"+(C===Es?Ec:kn).source+"|"+(t.evaluate||kn).source+"|$","g"),F="//# sourceURL="+(te.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Xc+"]")+`
`;e.replace(S,function(D,$,Z,Ue,Pe,We){return Z||(Z=Ue),O+=e.slice(T,We).replace(Mc,ml),$&&(v=!0,O+=`' +
__e(`+$+`) +
'`),Pe&&(_=!0,O+=`';
`+Pe+`;
__p += '`),Z&&(O+=`' +
((__t = (`+Z+`)) == null ? '' : __t) +
'`),T=We+D.length,D}),O+=`';
`;var B=te.call(t,"variable")&&t.variable;if(!B)O=`with (obj) {
`+O+`
}
`;else if(_c.test(B))throw new U(g);O=(_?O.replace(rc,""):O).replace(ic,"$1").replace(sc,"$1;"),O="function("+(B||"obj")+`) {
`+(B?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(v?", __e = _.escape":"")+(_?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+O+`return __p
}`;var K=$a(function(){return Q(c,F+"return "+O).apply(o,d)});if(K.source=O,Ji(K))throw K;return K}function Kp(e){return j(e).toLowerCase()}function qp(e){return j(e).toUpperCase()}function $p(e,t,n){if(e=j(e),e&&(n||t===o))return eo(e);if(!e||!(t=De(t)))return e;var r=je(e),i=je(t),c=to(r,i),d=no(r,i)+1;return Pt(r,c,d).join("")}function Jp(e,t,n){if(e=j(e),e&&(n||t===o))return e.slice(0,io(e)+1);if(!e||!(t=De(t)))return e;var r=je(e),i=no(r,je(t))+1;return Pt(r,0,i).join("")}function Vp(e,t,n){if(e=j(e),e&&(n||t===o))return e.replace(Jr,"");if(!e||!(t=De(t)))return e;var r=je(e),i=to(r,je(t));return Pt(r,i).join("")}function Zp(e,t){var n=Ce,r=me;if(ae(t)){var i="separator"in t?t.separator:i;n="length"in t?H(t.length):n,r="omission"in t?De(t.omission):r}e=j(e);var c=e.length;if(Jt(e)){var d=je(e);c=d.length}if(n>=c)return e;var v=n-Vt(r);if(v<1)return r;var _=d?Pt(d,0,v).join(""):e.slice(0,v);if(i===o)return _+r;if(d&&(v+=_.length-v),Vi(i)){if(e.slice(v).search(i)){var T,C=_;for(i.global||(i=li(i.source,j(Ts.exec(i))+"g")),i.lastIndex=0;T=i.exec(C);)var O=T.index;_=_.slice(0,O===o?v:O)}}else if(e.indexOf(De(i),v)!=v){var S=_.lastIndexOf(i);S>-1&&(_=_.slice(0,S))}return _+r}function Yp(e){return e=j(e),e&&oc.test(e)?e.replace(_s,Cl):e}var Xp=en(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Xi=Jo("toUpperCase");function qa(e,t,n){return e=j(e),t=n?o:t,t===o?_l(e)?Ol(e):ll(e):e.match(t)||[]}var $a=q(function(e,t){try{return Ne(e,o,t)}catch(n){return Ji(n)?n:new U(n)}}),Qp=pt(function(e,t){return ze(t,function(n){n=ot(n),dt(e,n,qi(e[n],e))}),e});function jp(e){var t=e==null?0:e.length,n=N();return e=t?oe(e,function(r){if(typeof r[1]!="function")throw new Ke(f);return[n(r[0]),r[1]]}):[],q(function(r){for(var i=-1;++i<t;){var c=e[i];if(Ne(c[0],this,r))return Ne(c[1],this,r)}})}function ev(e){return yf($e(e,p))}function Qi(e){return function(){return e}}function tv(e,t){return e==null||e!==e?t:e}var nv=Zo(),rv=Zo(!0);function xe(e){return e}function ji(e){return yo(typeof e=="function"?e:$e(e,p))}function iv(e){return Oo($e(e,p))}function sv(e,t){return Mo(e,$e(t,p))}var ov=q(function(e,t){return function(n){return Cn(n,e,t)}}),av=q(function(e,t){return function(n){return Cn(e,n,t)}});function es(e,t,n){var r=Ee(t),i=cr(t,r);n==null&&!(ae(t)&&(i.length||!r.length))&&(n=t,t=e,e=this,i=cr(t,Ee(t)));var c=!(ae(n)&&"chain"in n)||!!n.chain,d=mt(e);return ze(i,function(v){var _=t[v];e[v]=_,d&&(e.prototype[v]=function(){var T=this.__chain__;if(c||T){var C=e(this.__wrapped__),O=C.__actions__=Se(this.__actions__);return O.push({func:_,args:arguments,thisArg:e}),C.__chain__=T,C}return _.apply(e,Tt([this.value()],arguments))})}),e}function uv(){return Ae._===this&&(Ae._=xl),this}function ts(){}function cv(e){return e=H(e),q(function(t){return Po(t,e)})}var lv=Ri(oe),fv=Ri(Zs),hv=Ri(ri);function Ja(e){return Ui(e)?ii(ot(e)):Hf(e)}function dv(e){return function(t){return e==null?o:Gt(e,t)}}var gv=Xo(),pv=Xo(!0);function ns(){return[]}function rs(){return!1}function vv(){return{}}function mv(){return""}function bv(){return!0}function _v(e,t){if(e=H(e),e<1||e>At)return[];var n=rt,r=ye(e,rt);t=N(t),e-=rt;for(var i=ai(r,t);++n<e;)t(n);return i}function Av(e){return W(e)?oe(e,ot):Ge(e)?[e]:Se(da(j(e)))}function Ev(e){var t=++Ll;return j(e)+t}var Tv=pr(function(e,t){return e+t},0),wv=xi("ceil"),Cv=pr(function(e,t){return e/t},1),yv=xi("floor");function Iv(e){return e&&e.length?ur(e,xe,bi):o}function Ov(e,t){return e&&e.length?ur(e,N(t,2),bi):o}function Mv(e){return Qs(e,xe)}function Pv(e,t){return Qs(e,N(t,2))}function Sv(e){return e&&e.length?ur(e,xe,Ti):o}function Lv(e,t){return e&&e.length?ur(e,N(t,2),Ti):o}var Rv=pr(function(e,t){return e*t},1),xv=xi("round"),Fv=pr(function(e,t){return e-t},0);function Nv(e){return e&&e.length?oi(e,xe):0}function Bv(e,t){return e&&e.length?oi(e,N(t,2)):0}return u.after=ig,u.ary=Ca,u.assign=qg,u.assignIn=Ga,u.assignInWith=Mr,u.assignWith=$g,u.at=Jg,u.before=ya,u.bind=qi,u.bindAll=Qp,u.bindKey=Ia,u.castArray=vg,u.chain=Ea,u.chunk=yh,u.compact=Ih,u.concat=Oh,u.cond=jp,u.conforms=ev,u.constant=Qi,u.countBy=Nd,u.create=Vg,u.curry=Oa,u.curryRight=Ma,u.debounce=Pa,u.defaults=Zg,u.defaultsDeep=Yg,u.defer=sg,u.delay=og,u.difference=Mh,u.differenceBy=Ph,u.differenceWith=Sh,u.drop=Lh,u.dropRight=Rh,u.dropRightWhile=xh,u.dropWhile=Fh,u.fill=Nh,u.filter=Dd,u.flatMap=Wd,u.flatMapDeep=kd,u.flatMapDepth=Hd,u.flatten=ma,u.flattenDeep=Bh,u.flattenDepth=Dh,u.flip=ag,u.flow=nv,u.flowRight=rv,u.fromPairs=Gh,u.functions=rp,u.functionsIn=ip,u.groupBy=zd,u.initial=Wh,u.intersection=kh,u.intersectionBy=Hh,u.intersectionWith=zh,u.invert=op,u.invertBy=ap,u.invokeMap=qd,u.iteratee=ji,u.keyBy=$d,u.keys=Ee,u.keysIn=Re,u.map=Tr,u.mapKeys=cp,u.mapValues=lp,u.matches=iv,u.matchesProperty=sv,u.memoize=Cr,u.merge=fp,u.mergeWith=Ua,u.method=ov,u.methodOf=av,u.mixin=es,u.negate=yr,u.nthArg=cv,u.omit=hp,u.omitBy=dp,u.once=ug,u.orderBy=Jd,u.over=lv,u.overArgs=cg,u.overEvery=fv,u.overSome=hv,u.partial=$i,u.partialRight=Sa,u.partition=Vd,u.pick=gp,u.pickBy=Wa,u.property=Ja,u.propertyOf=dv,u.pull=Jh,u.pullAll=_a,u.pullAllBy=Vh,u.pullAllWith=Zh,u.pullAt=Yh,u.range=gv,u.rangeRight=pv,u.rearg=lg,u.reject=Xd,u.remove=Xh,u.rest=fg,u.reverse=zi,u.sampleSize=jd,u.set=vp,u.setWith=mp,u.shuffle=eg,u.slice=Qh,u.sortBy=rg,u.sortedUniq=sd,u.sortedUniqBy=od,u.split=Wp,u.spread=hg,u.tail=ad,u.take=ud,u.takeRight=cd,u.takeRightWhile=ld,u.takeWhile=fd,u.tap=Id,u.throttle=dg,u.thru=Er,u.toArray=Na,u.toPairs=ka,u.toPairsIn=Ha,u.toPath=Av,u.toPlainObject=Da,u.transform=bp,u.unary=gg,u.union=hd,u.unionBy=dd,u.unionWith=gd,u.uniq=pd,u.uniqBy=vd,u.uniqWith=md,u.unset=_p,u.unzip=Ki,u.unzipWith=Aa,u.update=Ap,u.updateWith=Ep,u.values=rn,u.valuesIn=Tp,u.without=bd,u.words=qa,u.wrap=pg,u.xor=_d,u.xorBy=Ad,u.xorWith=Ed,u.zip=Td,u.zipObject=wd,u.zipObjectDeep=Cd,u.zipWith=yd,u.entries=ka,u.entriesIn=Ha,u.extend=Ga,u.extendWith=Mr,es(u,u),u.add=Tv,u.attempt=$a,u.camelCase=Ip,u.capitalize=za,u.ceil=wv,u.clamp=wp,u.clone=mg,u.cloneDeep=_g,u.cloneDeepWith=Ag,u.cloneWith=bg,u.conformsTo=Eg,u.deburr=Ka,u.defaultTo=tv,u.divide=Cv,u.endsWith=Op,u.eq=tt,u.escape=Mp,u.escapeRegExp=Pp,u.every=Bd,u.find=Gd,u.findIndex=pa,u.findKey=Xg,u.findLast=Ud,u.findLastIndex=va,u.findLastKey=Qg,u.floor=yv,u.forEach=Ta,u.forEachRight=wa,u.forIn=jg,u.forInRight=ep,u.forOwn=tp,u.forOwnRight=np,u.get=Zi,u.gt=Tg,u.gte=wg,u.has=sp,u.hasIn=Yi,u.head=ba,u.identity=xe,u.includes=Kd,u.indexOf=Uh,u.inRange=Cp,u.invoke=up,u.isArguments=kt,u.isArray=W,u.isArrayBuffer=Cg,u.isArrayLike=Le,u.isArrayLikeObject=ge,u.isBoolean=yg,u.isBuffer=St,u.isDate=Ig,u.isElement=Og,u.isEmpty=Mg,u.isEqual=Pg,u.isEqualWith=Sg,u.isError=Ji,u.isFinite=Lg,u.isFunction=mt,u.isInteger=La,u.isLength=Ir,u.isMap=Ra,u.isMatch=Rg,u.isMatchWith=xg,u.isNaN=Fg,u.isNative=Ng,u.isNil=Dg,u.isNull=Bg,u.isNumber=xa,u.isObject=ae,u.isObjectLike=he,u.isPlainObject=Sn,u.isRegExp=Vi,u.isSafeInteger=Gg,u.isSet=Fa,u.isString=Or,u.isSymbol=Ge,u.isTypedArray=nn,u.isUndefined=Ug,u.isWeakMap=Wg,u.isWeakSet=kg,u.join=Kh,u.kebabCase=Sp,u.last=Ve,u.lastIndexOf=qh,u.lowerCase=Lp,u.lowerFirst=Rp,u.lt=Hg,u.lte=zg,u.max=Iv,u.maxBy=Ov,u.mean=Mv,u.meanBy=Pv,u.min=Sv,u.minBy=Lv,u.stubArray=ns,u.stubFalse=rs,u.stubObject=vv,u.stubString=mv,u.stubTrue=bv,u.multiply=Rv,u.nth=$h,u.noConflict=uv,u.noop=ts,u.now=wr,u.pad=xp,u.padEnd=Fp,u.padStart=Np,u.parseInt=Bp,u.random=yp,u.reduce=Zd,u.reduceRight=Yd,u.repeat=Dp,u.replace=Gp,u.result=pp,u.round=xv,u.runInContext=b,u.sample=Qd,u.size=tg,u.snakeCase=Up,u.some=ng,u.sortedIndex=jh,u.sortedIndexBy=ed,u.sortedIndexOf=td,u.sortedLastIndex=nd,u.sortedLastIndexBy=rd,u.sortedLastIndexOf=id,u.startCase=kp,u.startsWith=Hp,u.subtract=Fv,u.sum=Nv,u.sumBy=Bv,u.template=zp,u.times=_v,u.toFinite=bt,u.toInteger=H,u.toLength=Ba,u.toLower=Kp,u.toNumber=Ze,u.toSafeInteger=Kg,u.toString=j,u.toUpper=qp,u.trim=$p,u.trimEnd=Jp,u.trimStart=Vp,u.truncate=Zp,u.unescape=Yp,u.uniqueId=Ev,u.upperCase=Xp,u.upperFirst=Xi,u.each=Ta,u.eachRight=wa,u.first=ba,es(u,function(){var e={};return it(u,function(t,n){te.call(u.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),u.VERSION=a,ze(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){u[e].placeholder=u}),ze(["drop","take"],function(e,t){J.prototype[e]=function(n){n=n===o?1:_e(H(n),0);var r=this.__filtered__&&!t?new J(this):this.clone();return r.__filtered__?r.__takeCount__=ye(n,r.__takeCount__):r.__views__.push({size:ye(n,rt),type:e+(r.__dir__<0?"Right":"")}),r},J.prototype[e+"Right"]=function(n){return this.reverse()[e](n).reverse()}}),ze(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==vs||n==$u;J.prototype[e]=function(i){var c=this.clone();return c.__iteratees__.push({iteratee:N(i,3),type:n}),c.__filtered__=c.__filtered__||r,c}}),ze(["head","last"],function(e,t){var n="take"+(t?"Right":"");J.prototype[e]=function(){return this[n](1).value()[0]}}),ze(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");J.prototype[e]=function(){return this.__filtered__?new J(this):this[n](1)}}),J.prototype.compact=function(){return this.filter(xe)},J.prototype.find=function(e){return this.filter(e).head()},J.prototype.findLast=function(e){return this.reverse().find(e)},J.prototype.invokeMap=q(function(e,t){return typeof e=="function"?new J(this):this.map(function(n){return Cn(n,e,t)})}),J.prototype.reject=function(e){return this.filter(yr(N(e)))},J.prototype.slice=function(e,t){e=H(e);var n=this;return n.__filtered__&&(e>0||t<0)?new J(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==o&&(t=H(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)},J.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},J.prototype.toArray=function(){return this.take(rt)},it(J.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=u[r?"take"+(t=="last"?"Right":""):t],c=r||/^find/.test(t);!i||(u.prototype[t]=function(){var d=this.__wrapped__,v=r?[1]:arguments,_=d instanceof J,T=v[0],C=_||W(d),O=function($){var Z=i.apply(u,Tt([$],v));return r&&S?Z[0]:Z};C&&n&&typeof T=="function"&&T.length!=1&&(_=C=!1);var S=this.__chain__,F=!!this.__actions__.length,B=c&&!S,K=_&&!F;if(!c&&C){d=K?d:new J(this);var D=e.apply(d,v);return D.__actions__.push({func:Er,args:[O],thisArg:o}),new qe(D,S)}return B&&K?e.apply(this,v):(D=this.thru(O),B?r?D.value()[0]:D.value():D)})}),ze(["pop","push","shift","sort","splice","unshift"],function(e){var t=Jn[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);u.prototype[e]=function(){var i=arguments;if(r&&!this.__chain__){var c=this.value();return t.apply(W(c)?c:[],i)}return this[n](function(d){return t.apply(W(d)?d:[],i)})}}),it(J.prototype,function(e,t){var n=u[t];if(n){var r=n.name+"";te.call(Xt,r)||(Xt[r]=[]),Xt[r].push({name:t,func:n})}}),Xt[gr(o,G).name]=[{name:"wrapper",func:o}],J.prototype.clone=Zl,J.prototype.reverse=Yl,J.prototype.value=Xl,u.prototype.at=Od,u.prototype.chain=Md,u.prototype.commit=Pd,u.prototype.next=Sd,u.prototype.plant=Rd,u.prototype.reverse=xd,u.prototype.toJSON=u.prototype.valueOf=u.prototype.value=Fd,u.prototype.first=u.prototype.head,mn&&(u.prototype[mn]=Ld),u},Ct=Ml();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(Ae._=Ct,define(function(){return Ct})):xt?((xt.exports=Ct)._=Ct,jr._=Ct):Ae._=Ct}).call(un)});var ku=ve((Fn,hs)=>{M();(function(o,a){typeof Fn=="object"&&typeof hs=="object"?hs.exports=a():typeof define=="function"&&define.amd?define([],a):typeof Fn=="object"?Fn.bowser=a():o.bowser=a()})(Fn,function(){return function(o){var a={};function s(m){if(a[m])return a[m].exports;var f=a[m]={i:m,l:!1,exports:{}};return o[m].call(f.exports,f,f.exports,s),f.l=!0,f.exports}return s.m=o,s.c=a,s.d=function(m,f,g){s.o(m,f)||Object.defineProperty(m,f,{enumerable:!0,get:g})},s.r=function(m){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(m,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(m,"__esModule",{value:!0})},s.t=function(m,f){if(1&f&&(m=s(m)),8&f||4&f&&typeof m=="object"&&m&&m.__esModule)return m;var g=Object.create(null);if(s.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:m}),2&f&&typeof m!="string")for(var w in m)s.d(g,w,function(l){return m[l]}.bind(null,w));return g},s.n=function(m){var f=m&&m.__esModule?function(){return m.default}:function(){return m};return s.d(f,"a",f),f},s.o=function(m,f){return Object.prototype.hasOwnProperty.call(m,f)},s.p="",s(s.s=90)}({17:function(o,a,s){"use strict";a.__esModule=!0,a.default=void 0;var m=s(18),f=function(){function g(){}return g.getFirstMatch=function(w,l){var h=l.match(w);return h&&h.length>0&&h[1]||""},g.getSecondMatch=function(w,l){var h=l.match(w);return h&&h.length>1&&h[2]||""},g.matchAndReturnConst=function(w,l,h){if(w.test(l))return h},g.getWindowsVersionName=function(w){switch(w){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},g.getMacOSVersionName=function(w){var l=w.split(".").splice(0,2).map(function(h){return parseInt(h,10)||0});if(l.push(0),l[0]===10)switch(l[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},g.getAndroidVersionName=function(w){var l=w.split(".").splice(0,2).map(function(h){return parseInt(h,10)||0});if(l.push(0),!(l[0]===1&&l[1]<5))return l[0]===1&&l[1]<6?"Cupcake":l[0]===1&&l[1]>=6?"Donut":l[0]===2&&l[1]<2?"Eclair":l[0]===2&&l[1]===2?"Froyo":l[0]===2&&l[1]>2?"Gingerbread":l[0]===3?"Honeycomb":l[0]===4&&l[1]<1?"Ice Cream Sandwich":l[0]===4&&l[1]<4?"Jelly Bean":l[0]===4&&l[1]>=4?"KitKat":l[0]===5?"Lollipop":l[0]===6?"Marshmallow":l[0]===7?"Nougat":l[0]===8?"Oreo":l[0]===9?"Pie":void 0},g.getVersionPrecision=function(w){return w.split(".").length},g.compareVersions=function(w,l,h){h===void 0&&(h=!1);var p=g.getVersionPrecision(w),P=g.getVersionPrecision(l),I=Math.max(p,P),y=0,L=g.map([w,l],function(x){var G=I-g.getVersionPrecision(x),V=x+new Array(G+1).join(".0");return g.map(V.split("."),function(Y){return new Array(20-Y.length).join("0")+Y}).reverse()});for(h&&(y=I-Math.min(p,P)),I-=1;I>=y;){if(L[0][I]>L[1][I])return 1;if(L[0][I]===L[1][I]){if(I===y)return 0;I-=1}else if(L[0][I]<L[1][I])return-1}},g.map=function(w,l){var h,p=[];if(Array.prototype.map)return Array.prototype.map.call(w,l);for(h=0;h<w.length;h+=1)p.push(l(w[h]));return p},g.find=function(w,l){var h,p;if(Array.prototype.find)return Array.prototype.find.call(w,l);for(h=0,p=w.length;h<p;h+=1){var P=w[h];if(l(P,h))return P}},g.assign=function(w){for(var l,h,p=w,P=arguments.length,I=new Array(P>1?P-1:0),y=1;y<P;y++)I[y-1]=arguments[y];if(Object.assign)return Object.assign.apply(Object,[w].concat(I));var L=function(){var x=I[l];typeof x=="object"&&x!==null&&Object.keys(x).forEach(function(G){p[G]=x[G]})};for(l=0,h=I.length;l<h;l+=1)L();return w},g.getBrowserAlias=function(w){return m.BROWSER_ALIASES_MAP[w]},g.getBrowserTypeByAlias=function(w){return m.BROWSER_MAP[w]||""},g}();a.default=f,o.exports=a.default},18:function(o,a,s){"use strict";a.__esModule=!0,a.ENGINE_MAP=a.OS_MAP=a.PLATFORMS_MAP=a.BROWSER_MAP=a.BROWSER_ALIASES_MAP=void 0,a.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},a.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},a.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},a.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},a.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(o,a,s){"use strict";a.__esModule=!0,a.default=void 0;var m,f=(m=s(91))&&m.__esModule?m:{default:m},g=s(18);function w(h,p){for(var P=0;P<p.length;P++){var I=p[P];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(h,I.key,I)}}var l=function(){function h(){}var p,P,I;return h.getParser=function(y,L){if(L===void 0&&(L=!1),typeof y!="string")throw new Error("UserAgent should be a string");return new f.default(y,L)},h.parse=function(y){return new f.default(y).getResult()},p=h,I=[{key:"BROWSER_MAP",get:function(){return g.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return g.ENGINE_MAP}},{key:"OS_MAP",get:function(){return g.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return g.PLATFORMS_MAP}}],(P=null)&&w(p.prototype,P),I&&w(p,I),h}();a.default=l,o.exports=a.default},91:function(o,a,s){"use strict";a.__esModule=!0,a.default=void 0;var m=h(s(92)),f=h(s(93)),g=h(s(94)),w=h(s(95)),l=h(s(17));function h(P){return P&&P.__esModule?P:{default:P}}var p=function(){function P(y,L){if(L===void 0&&(L=!1),y==null||y==="")throw new Error("UserAgent parameter can't be empty");this._ua=y,this.parsedResult={},L!==!0&&this.parse()}var I=P.prototype;return I.getUA=function(){return this._ua},I.test=function(y){return y.test(this._ua)},I.parseBrowser=function(){var y=this;this.parsedResult.browser={};var L=l.default.find(m.default,function(x){if(typeof x.test=="function")return x.test(y);if(x.test instanceof Array)return x.test.some(function(G){return y.test(G)});throw new Error("Browser's test function is not valid")});return L&&(this.parsedResult.browser=L.describe(this.getUA())),this.parsedResult.browser},I.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},I.getBrowserName=function(y){return y?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},I.getBrowserVersion=function(){return this.getBrowser().version},I.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},I.parseOS=function(){var y=this;this.parsedResult.os={};var L=l.default.find(f.default,function(x){if(typeof x.test=="function")return x.test(y);if(x.test instanceof Array)return x.test.some(function(G){return y.test(G)});throw new Error("Browser's test function is not valid")});return L&&(this.parsedResult.os=L.describe(this.getUA())),this.parsedResult.os},I.getOSName=function(y){var L=this.getOS().name;return y?String(L).toLowerCase()||"":L||""},I.getOSVersion=function(){return this.getOS().version},I.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},I.getPlatformType=function(y){y===void 0&&(y=!1);var L=this.getPlatform().type;return y?String(L).toLowerCase()||"":L||""},I.parsePlatform=function(){var y=this;this.parsedResult.platform={};var L=l.default.find(g.default,function(x){if(typeof x.test=="function")return x.test(y);if(x.test instanceof Array)return x.test.some(function(G){return y.test(G)});throw new Error("Browser's test function is not valid")});return L&&(this.parsedResult.platform=L.describe(this.getUA())),this.parsedResult.platform},I.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},I.getEngineName=function(y){return y?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},I.parseEngine=function(){var y=this;this.parsedResult.engine={};var L=l.default.find(w.default,function(x){if(typeof x.test=="function")return x.test(y);if(x.test instanceof Array)return x.test.some(function(G){return y.test(G)});throw new Error("Browser's test function is not valid")});return L&&(this.parsedResult.engine=L.describe(this.getUA())),this.parsedResult.engine},I.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},I.getResult=function(){return l.default.assign({},this.parsedResult)},I.satisfies=function(y){var L=this,x={},G=0,V={},Y=0;if(Object.keys(y).forEach(function(me){var ct=y[me];typeof ct=="string"?(V[me]=ct,Y+=1):typeof ct=="object"&&(x[me]=ct,G+=1)}),G>0){var ce=Object.keys(x),le=l.default.find(ce,function(me){return L.isOS(me)});if(le){var ee=this.satisfies(x[le]);if(ee!==void 0)return ee}var se=l.default.find(ce,function(me){return L.isPlatform(me)});if(se){var z=this.satisfies(x[se]);if(z!==void 0)return z}}if(Y>0){var fe=Object.keys(V),Ce=l.default.find(fe,function(me){return L.isBrowser(me,!0)});if(Ce!==void 0)return this.compareVersion(V[Ce])}},I.isBrowser=function(y,L){L===void 0&&(L=!1);var x=this.getBrowserName().toLowerCase(),G=y.toLowerCase(),V=l.default.getBrowserTypeByAlias(G);return L&&V&&(G=V.toLowerCase()),G===x},I.compareVersion=function(y){var L=[0],x=y,G=!1,V=this.getBrowserVersion();if(typeof V=="string")return y[0]===">"||y[0]==="<"?(x=y.substr(1),y[1]==="="?(G=!0,x=y.substr(2)):L=[],y[0]===">"?L.push(1):L.push(-1)):y[0]==="="?x=y.substr(1):y[0]==="~"&&(G=!0,x=y.substr(1)),L.indexOf(l.default.compareVersions(V,x,G))>-1},I.isOS=function(y){return this.getOSName(!0)===String(y).toLowerCase()},I.isPlatform=function(y){return this.getPlatformType(!0)===String(y).toLowerCase()},I.isEngine=function(y){return this.getEngineName(!0)===String(y).toLowerCase()},I.is=function(y,L){return L===void 0&&(L=!1),this.isBrowser(y,L)||this.isOS(y)||this.isPlatform(y)},I.some=function(y){var L=this;return y===void 0&&(y=[]),y.some(function(x){return L.is(x)})},P}();a.default=p,o.exports=a.default},92:function(o,a,s){"use strict";a.__esModule=!0,a.default=void 0;var m,f=(m=s(17))&&m.__esModule?m:{default:m},g=/version\/(\d+(\.?_?\d+)+)/i,w=[{test:[/googlebot/i],describe:function(l){var h={name:"Googlebot"},p=f.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,l)||f.default.getFirstMatch(g,l);return p&&(h.version=p),h}},{test:[/opera/i],describe:function(l){var h={name:"Opera"},p=f.default.getFirstMatch(g,l)||f.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,l);return p&&(h.version=p),h}},{test:[/opr\/|opios/i],describe:function(l){var h={name:"Opera"},p=f.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,l)||f.default.getFirstMatch(g,l);return p&&(h.version=p),h}},{test:[/SamsungBrowser/i],describe:function(l){var h={name:"Samsung Internet for Android"},p=f.default.getFirstMatch(g,l)||f.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,l);return p&&(h.version=p),h}},{test:[/Whale/i],describe:function(l){var h={name:"NAVER Whale Browser"},p=f.default.getFirstMatch(g,l)||f.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,l);return p&&(h.version=p),h}},{test:[/MZBrowser/i],describe:function(l){var h={name:"MZ Browser"},p=f.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,l)||f.default.getFirstMatch(g,l);return p&&(h.version=p),h}},{test:[/focus/i],describe:function(l){var h={name:"Focus"},p=f.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,l)||f.default.getFirstMatch(g,l);return p&&(h.version=p),h}},{test:[/swing/i],describe:function(l){var h={name:"Swing"},p=f.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,l)||f.default.getFirstMatch(g,l);return p&&(h.version=p),h}},{test:[/coast/i],describe:function(l){var h={name:"Opera Coast"},p=f.default.getFirstMatch(g,l)||f.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,l);return p&&(h.version=p),h}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(l){var h={name:"Opera Touch"},p=f.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,l)||f.default.getFirstMatch(g,l);return p&&(h.version=p),h}},{test:[/yabrowser/i],describe:function(l){var h={name:"Yandex Browser"},p=f.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,l)||f.default.getFirstMatch(g,l);return p&&(h.version=p),h}},{test:[/ucbrowser/i],describe:function(l){var h={name:"UC Browser"},p=f.default.getFirstMatch(g,l)||f.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,l);return p&&(h.version=p),h}},{test:[/Maxthon|mxios/i],describe:function(l){var h={name:"Maxthon"},p=f.default.getFirstMatch(g,l)||f.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,l);return p&&(h.version=p),h}},{test:[/epiphany/i],describe:function(l){var h={name:"Epiphany"},p=f.default.getFirstMatch(g,l)||f.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,l);return p&&(h.version=p),h}},{test:[/puffin/i],describe:function(l){var h={name:"Puffin"},p=f.default.getFirstMatch(g,l)||f.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,l);return p&&(h.version=p),h}},{test:[/sleipnir/i],describe:function(l){var h={name:"Sleipnir"},p=f.default.getFirstMatch(g,l)||f.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,l);return p&&(h.version=p),h}},{test:[/k-meleon/i],describe:function(l){var h={name:"K-Meleon"},p=f.default.getFirstMatch(g,l)||f.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,l);return p&&(h.version=p),h}},{test:[/micromessenger/i],describe:function(l){var h={name:"WeChat"},p=f.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,l)||f.default.getFirstMatch(g,l);return p&&(h.version=p),h}},{test:[/qqbrowser/i],describe:function(l){var h={name:/qqbrowserlite/i.test(l)?"QQ Browser Lite":"QQ Browser"},p=f.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,l)||f.default.getFirstMatch(g,l);return p&&(h.version=p),h}},{test:[/msie|trident/i],describe:function(l){var h={name:"Internet Explorer"},p=f.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,l);return p&&(h.version=p),h}},{test:[/\sedg\//i],describe:function(l){var h={name:"Microsoft Edge"},p=f.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,l);return p&&(h.version=p),h}},{test:[/edg([ea]|ios)/i],describe:function(l){var h={name:"Microsoft Edge"},p=f.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,l);return p&&(h.version=p),h}},{test:[/vivaldi/i],describe:function(l){var h={name:"Vivaldi"},p=f.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,l);return p&&(h.version=p),h}},{test:[/seamonkey/i],describe:function(l){var h={name:"SeaMonkey"},p=f.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,l);return p&&(h.version=p),h}},{test:[/sailfish/i],describe:function(l){var h={name:"Sailfish"},p=f.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,l);return p&&(h.version=p),h}},{test:[/silk/i],describe:function(l){var h={name:"Amazon Silk"},p=f.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,l);return p&&(h.version=p),h}},{test:[/phantom/i],describe:function(l){var h={name:"PhantomJS"},p=f.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,l);return p&&(h.version=p),h}},{test:[/slimerjs/i],describe:function(l){var h={name:"SlimerJS"},p=f.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,l);return p&&(h.version=p),h}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(l){var h={name:"BlackBerry"},p=f.default.getFirstMatch(g,l)||f.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,l);return p&&(h.version=p),h}},{test:[/(web|hpw)[o0]s/i],describe:function(l){var h={name:"WebOS Browser"},p=f.default.getFirstMatch(g,l)||f.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,l);return p&&(h.version=p),h}},{test:[/bada/i],describe:function(l){var h={name:"Bada"},p=f.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,l);return p&&(h.version=p),h}},{test:[/tizen/i],describe:function(l){var h={name:"Tizen"},p=f.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,l)||f.default.getFirstMatch(g,l);return p&&(h.version=p),h}},{test:[/qupzilla/i],describe:function(l){var h={name:"QupZilla"},p=f.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,l)||f.default.getFirstMatch(g,l);return p&&(h.version=p),h}},{test:[/firefox|iceweasel|fxios/i],describe:function(l){var h={name:"Firefox"},p=f.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,l);return p&&(h.version=p),h}},{test:[/electron/i],describe:function(l){var h={name:"Electron"},p=f.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,l);return p&&(h.version=p),h}},{test:[/MiuiBrowser/i],describe:function(l){var h={name:"Miui"},p=f.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,l);return p&&(h.version=p),h}},{test:[/chromium/i],describe:function(l){var h={name:"Chromium"},p=f.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,l)||f.default.getFirstMatch(g,l);return p&&(h.version=p),h}},{test:[/chrome|crios|crmo/i],describe:function(l){var h={name:"Chrome"},p=f.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,l);return p&&(h.version=p),h}},{test:[/GSA/i],describe:function(l){var h={name:"Google Search"},p=f.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,l);return p&&(h.version=p),h}},{test:function(l){var h=!l.test(/like android/i),p=l.test(/android/i);return h&&p},describe:function(l){var h={name:"Android Browser"},p=f.default.getFirstMatch(g,l);return p&&(h.version=p),h}},{test:[/playstation 4/i],describe:function(l){var h={name:"PlayStation 4"},p=f.default.getFirstMatch(g,l);return p&&(h.version=p),h}},{test:[/safari|applewebkit/i],describe:function(l){var h={name:"Safari"},p=f.default.getFirstMatch(g,l);return p&&(h.version=p),h}},{test:[/.*/i],describe:function(l){var h=l.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:f.default.getFirstMatch(h,l),version:f.default.getSecondMatch(h,l)}}}];a.default=w,o.exports=a.default},93:function(o,a,s){"use strict";a.__esModule=!0,a.default=void 0;var m,f=(m=s(17))&&m.__esModule?m:{default:m},g=s(18),w=[{test:[/Roku\/DVP/],describe:function(l){var h=f.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,l);return{name:g.OS_MAP.Roku,version:h}}},{test:[/windows phone/i],describe:function(l){var h=f.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,l);return{name:g.OS_MAP.WindowsPhone,version:h}}},{test:[/windows /i],describe:function(l){var h=f.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,l),p=f.default.getWindowsVersionName(h);return{name:g.OS_MAP.Windows,version:h,versionName:p}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(l){var h={name:g.OS_MAP.iOS},p=f.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,l);return p&&(h.version=p),h}},{test:[/macintosh/i],describe:function(l){var h=f.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,l).replace(/[_\s]/g,"."),p=f.default.getMacOSVersionName(h),P={name:g.OS_MAP.MacOS,version:h};return p&&(P.versionName=p),P}},{test:[/(ipod|iphone|ipad)/i],describe:function(l){var h=f.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,l).replace(/[_\s]/g,".");return{name:g.OS_MAP.iOS,version:h}}},{test:function(l){var h=!l.test(/like android/i),p=l.test(/android/i);return h&&p},describe:function(l){var h=f.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,l),p=f.default.getAndroidVersionName(h),P={name:g.OS_MAP.Android,version:h};return p&&(P.versionName=p),P}},{test:[/(web|hpw)[o0]s/i],describe:function(l){var h=f.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,l),p={name:g.OS_MAP.WebOS};return h&&h.length&&(p.version=h),p}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(l){var h=f.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,l)||f.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,l)||f.default.getFirstMatch(/\bbb(\d+)/i,l);return{name:g.OS_MAP.BlackBerry,version:h}}},{test:[/bada/i],describe:function(l){var h=f.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,l);return{name:g.OS_MAP.Bada,version:h}}},{test:[/tizen/i],describe:function(l){var h=f.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,l);return{name:g.OS_MAP.Tizen,version:h}}},{test:[/linux/i],describe:function(){return{name:g.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:g.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(l){var h=f.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,l);return{name:g.OS_MAP.PlayStation4,version:h}}}];a.default=w,o.exports=a.default},94:function(o,a,s){"use strict";a.__esModule=!0,a.default=void 0;var m,f=(m=s(17))&&m.__esModule?m:{default:m},g=s(18),w=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(l){var h=f.default.getFirstMatch(/(can-l01)/i,l)&&"Nova",p={type:g.PLATFORMS_MAP.mobile,vendor:"Huawei"};return h&&(p.model=h),p}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:g.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:g.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:g.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:g.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:g.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:g.PLATFORMS_MAP.tablet}}},{test:function(l){var h=l.test(/ipod|iphone/i),p=l.test(/like (ipod|iphone)/i);return h&&!p},describe:function(l){var h=f.default.getFirstMatch(/(ipod|iphone)/i,l);return{type:g.PLATFORMS_MAP.mobile,vendor:"Apple",model:h}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:g.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:g.PLATFORMS_MAP.mobile}}},{test:function(l){return l.getBrowserName(!0)==="blackberry"},describe:function(){return{type:g.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(l){return l.getBrowserName(!0)==="bada"},describe:function(){return{type:g.PLATFORMS_MAP.mobile}}},{test:function(l){return l.getBrowserName()==="windows phone"},describe:function(){return{type:g.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(l){var h=Number(String(l.getOSVersion()).split(".")[0]);return l.getOSName(!0)==="android"&&h>=3},describe:function(){return{type:g.PLATFORMS_MAP.tablet}}},{test:function(l){return l.getOSName(!0)==="android"},describe:function(){return{type:g.PLATFORMS_MAP.mobile}}},{test:function(l){return l.getOSName(!0)==="macos"},describe:function(){return{type:g.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(l){return l.getOSName(!0)==="windows"},describe:function(){return{type:g.PLATFORMS_MAP.desktop}}},{test:function(l){return l.getOSName(!0)==="linux"},describe:function(){return{type:g.PLATFORMS_MAP.desktop}}},{test:function(l){return l.getOSName(!0)==="playstation 4"},describe:function(){return{type:g.PLATFORMS_MAP.tv}}},{test:function(l){return l.getOSName(!0)==="roku"},describe:function(){return{type:g.PLATFORMS_MAP.tv}}}];a.default=w,o.exports=a.default},95:function(o,a,s){"use strict";a.__esModule=!0,a.default=void 0;var m,f=(m=s(17))&&m.__esModule?m:{default:m},g=s(18),w=[{test:function(l){return l.getBrowserName(!0)==="microsoft edge"},describe:function(l){if(/\sedg\//i.test(l))return{name:g.ENGINE_MAP.Blink};var h=f.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,l);return{name:g.ENGINE_MAP.EdgeHTML,version:h}}},{test:[/trident/i],describe:function(l){var h={name:g.ENGINE_MAP.Trident},p=f.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,l);return p&&(h.version=p),h}},{test:function(l){return l.test(/presto/i)},describe:function(l){var h={name:g.ENGINE_MAP.Presto},p=f.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,l);return p&&(h.version=p),h}},{test:function(l){var h=l.test(/gecko/i),p=l.test(/like gecko/i);return h&&!p},describe:function(l){var h={name:g.ENGINE_MAP.Gecko},p=f.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,l);return p&&(h.version=p),h}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:g.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(l){var h={name:g.ENGINE_MAP.WebKit},p=f.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,l);return p&&(h.version=p),h}}];a.default=w,o.exports=a.default}})})});M();M();M();M();var Fe=(f,g,w,...l)=>de(void 0,[f,g,w,...l],function*(o,a,s,m={}){let h=yield fetch(o,{method:a,headers:at({"Content-Type":"application/json"},m),body:s?JSON.stringify(s):null});if(!h.ok)throw h;return h.json()});M();var ru=Ln(nu()),we=class{constructor(a){this.debug=(0,ru.default)(a)}log(a,...s){this.debug(a,...s)}};M();var Gu=Ln(Du());var ue=class{constructor(a={}){this.subscribe=a=>{this.callbacks.push(a)};this.unsubscribe=a=>{this.callbacks=this.callbacks.filter(s=>s!==a)};this.publish=(...a)=>{!this.callbacks||this.callbacks.forEach(s=>{this.callListener(s,a).catch(m=>{this.logger.log("superviz-sdk:observer-helper:publish:error",`
            Failed to execute callback on publish value.
            Callback: ${s}
            Event: ${JSON.stringify(a)}
            Error: ${m}
          `)})})};this.reset=()=>{this.callbacks=[]};this.destroy=()=>{delete this.logger,delete this.callbacks};this.callListener=(a,s)=>new Promise((m,f)=>{try{let g=a(...s);m(g)}catch(g){f(g)}});let{logger:s,throttleTime:m}=a;this.logger=s!=null?s:new we("@superviz/sdk/observer-helper"),this.throttle=m,this.callbacks=[],this.throttle&&(this.publish=(0,Gu.default)(this.publish,this.throttle))}};M();M();var Uu=Ln(us()),cs=class{setConfig(a){this.configuration=a}get(a,s){if(!this.configuration)throw new Error("configs is not available");return(0,Uu.get)(this.configuration,a,s)}},X=new cs;var Ye=class{static createUrl(a,s,m={}){let f=new URL(s,a);return Object.keys(m).forEach(g=>f.searchParams.append(g,m[g])),f.toString()}static validateApiKey(a,s){let m="/user/checkapikey",f=this.createUrl(a,m);return Fe(f,"POST",{apiKey:s})}static fetchConfig(a,s){let m="/immersive-config",f=this.createUrl(a,m);return Fe(f,"POST",{apiKey:s})}static fetchLimits(a,s){return de(this,null,function*(){let m="/user/check_limits",f=this.createUrl(a,m);return(yield Fe(f,"GET","",{apikey:s})).usage})}static fetchWaterMark(a,s){return de(this,null,function*(){let m="/user/watermark",f=this.createUrl(a,m),{message:g}=yield Fe(f,"POST",{apiKey:s});return g})}static createAnnotations(a,s,m){return de(this,null,function*(){let f="/annotations",g=this.createUrl(a,f);return Fe(g,"POST",at({},m),{apikey:s})})}static updateComment(a,s,m,f){return de(this,null,function*(){let g=`/comments/${m}`,w=this.createUrl(a,g);return Fe(w,"PUT",{text:f},{apikey:s})})}static createComment(a,s,m){return de(this,null,function*(){let f="/comments",g=this.createUrl(a,f);return Fe(g,"POST",at({},m),{apikey:s})})}static fetchAnnotation(a,s,m){return de(this,null,function*(){let f="/annotations",g=this.createUrl(a,f,{roomId:m.roomId,url:m.url});return Fe(g,"GET",void 0,{apikey:s})})}static resolveAnnotation(a,s,m){return de(this,null,function*(){let f=`/annotations/resolve/${m}`,g=this.createUrl(a,f);return Fe(g,"POST",{},{apikey:s})})}static deleteComment(a,s,m){return de(this,null,function*(){let f=`/comments/${m}`,g=this.createUrl(a,f);return Fe(g,"DELETE",{},{apikey:s})})}static deleteAnnotation(a,s,m){return de(this,null,function*(){let f=`/annotations/${m}`,g=this.createUrl(a,f);return Fe(g,"DELETE",{},{apikey:s})})}static sendActivity(a,s,m,f){return de(this,null,function*(){let g="/activity",w=X.get("apiUrl"),l=X.get("roomId"),h=X.get("apiKey"),p=this.createUrl(w,g);return Fe(p,"POST",{groupId:s,groupName:m,meetingId:l,product:f,userId:a},{apikey:h})})}};M();M();var Lt=class{constructor(){this.observers={};this.isAttached=!1;this.attach=a=>{if(Object.values(a).includes(null)||Object.values(a).includes(void 0)){let l=`${this.name} @ attach - params are required`;throw this.logger.log(l),new Error(l)}let{realtime:s,localParticipant:m,group:f,config:g,eventBus:w}=a;if(X.setConfig(g),this.realtime=s,this.localParticipant=m,this.group=f,this.eventBus=w,this.isAttached=!0,!this.realtime.isJoinedRoom){this.logger.log(`${this.name} @ attach - not joined yet`),setTimeout(()=>{this.logger.log(`${this.name} @ attach - retrying`),this.attach(a)},1e3);return}this.logger.log(`${this.name} @ attached`),this.start()};this.detach=()=>{if(!this.isAttached){this.logger.log(`${this.name} @ detach - component is not attached}`);return}this.logger.log("detached"),this.destroy(),this.realtime=void 0,this.localParticipant=void 0,this.isAttached=!1,Object.keys(this.observers).forEach(a=>this.unsubscribe(a))};this.subscribe=(a,s)=>{this.logger.log(`subscribed to ${a} event`),this.observers[a]||(this.observers[a]=new ue({logger:this.logger})),this.observers[a].subscribe(s)};this.unsubscribe=a=>{this.logger.log(`unsubscribed from ${a} event`),this.observers[a]&&(this.observers[a].reset(),delete this.observers[a])};this.publish=(a,s)=>{a in this.observers&&this.observers[a].publish(s)}}};M();var ls=class extends Lt{constructor(s){super();this.sidebarOpen=!1;this.onFixedPin=s=>{document.body.dispatchEvent(new CustomEvent("prepare-to-create-annotation",{detail:at({},s),composed:!0,bubbles:!0}))};this.toggleAnnotationSidebar=()=>{this.element.toggleAttribute("open"),this.sidebarOpen=this.element.hasAttribute("open"),this.pinAdapter.setActive(this.sidebarOpen),document.body.dispatchEvent(new CustomEvent("prepare-to-create-annotation",{detail:void 0,composed:!0,bubbles:!0}))};this.createAnnotation=m=>de(this,[m],function*({detail:s}){try{let{position:f,text:g}=s,{url:w}=this,l=yield Ye.createAnnotations(X.get("apiUrl"),X.get("apiKey"),{roomId:X.get("roomId"),position:JSON.stringify(f),url:w,userId:this.localParticipant.id}),h=yield this.createComment(l.uuid,g);this.addAnnotation([Pr(at({},l),{comments:[h]})]),this.pinAdapter.removeAnnotationPin("temporary-pin"),document.body.dispatchEvent(new CustomEvent("select-annotation",{detail:{uuid:l.uuid},composed:!0,bubbles:!0}))}catch(f){this.logger.log("error when creating annotation",f)}});this.deleteAnnotation=m=>de(this,[m],function*({detail:s}){try{let{uuid:f}=s;yield Ye.deleteAnnotation(X.get("apiUrl"),X.get("apiKey"),f);let g=this.annotations.filter(w=>w.uuid!==f);this.updateAnnotationList(g),this.pinAdapter.removeAnnotationPin(f)}catch(f){this.logger.log("error when deleting annotation",f)}});this.updateComment=m=>de(this,[m],function*({detail:s}){try{let{uuid:f,text:g}=s;yield Ye.updateComment(X.get("apiUrl"),X.get("apiKey"),f,g);let w=this.annotations.map(l=>Object.assign({},l,{comments:l.comments.map(h=>h.uuid===f?Object.assign({},h,{text:g}):h)}));this.updateAnnotationList(w)}catch(f){this.logger.log("error when updating comment",f)}});this.resolveAnnotation=m=>de(this,[m],function*({detail:s}){try{let{uuid:f}=s;yield Ye.resolveAnnotation(X.get("apiUrl"),X.get("apiKey"),f);let g=this.annotations.map(w=>w.uuid===f?Object.assign({},w,{resolved:!0}):w);this.updateAnnotationList(g)}catch(f){this.logger.log("error when resolve annotation",f)}});this.deleteComment=m=>de(this,[m],function*({detail:s}){try{let{uuid:f}=s;yield Ye.deleteComment(X.get("apiUrl"),X.get("apiKey"),f);let g=this.annotations.findIndex(h=>h.comments.some(p=>p.uuid===f));if(g===-1)return;let w=this.annotations[g];w.comments=w.comments.filter(h=>h.uuid!==f);let l=[...this.annotations.slice(0,g),w,...this.annotations.slice(g+1)];this.updateAnnotationList(l)}catch(f){this.logger.log("error when deleting comment",f)}});this.onAnnotationListUpdate=s=>{this.annotations=s,this.element.updateAnnotations(this.annotations),this.pinAdapter.updateAnnotations(this.annotations)};this.name="comments",this.logger=new we("@superviz/sdk/comments-component"),this.annotations=[],this.pinAdapter=s}start(){this.url=window.location.href,this.element=document.createElement("superviz-comments"),this.element.setAttribute("comments",JSON.stringify([])),document.body.appendChild(this.element),this.button=document.createElement("superviz-comments-button"),document.body.appendChild(this.button),this.fetchAnnotations(),this.waterMarkState(),this.addListeners()}destroy(){this.destroyListeners(),document.body.removeChild(this.element),this.element=void 0,this.pinAdapter.destroy()}addListeners(){this.button.addEventListener("toggle",this.toggleAnnotationSidebar),this.element.addEventListener("toggle",this.toggleAnnotationSidebar),this.element.addEventListener("create-annotation",this.createAnnotation),this.element.addEventListener("resolve-annotation",this.resolveAnnotation),this.element.addEventListener("delete-annotation",this.deleteAnnotation),this.element.addEventListener("create-comment",({detail:s})=>{this.createComment(s.uuid,s.text,!0)}),this.element.addEventListener("update-comment",this.updateComment),this.element.addEventListener("delete-comment",this.deleteComment),this.realtime.commentsObserver.subscribe(this.onAnnotationListUpdate),this.pinAdapter.onPinFixedObserver.subscribe(this.onFixedPin)}destroyListeners(){this.button.removeEventListener("toggle",this.toggleAnnotationSidebar),this.element.removeEventListener("toggle",this.toggleAnnotationSidebar),this.element.removeEventListener("create-annotation",this.createAnnotation),this.element.removeEventListener("resolve-annotation",this.resolveAnnotation),this.element.removeEventListener("create-comment",({detail:s})=>{this.createComment(s.uuid,s.text,!0)}),this.element.removeEventListener("update-comment",this.updateComment),this.element.removeEventListener("delete-comment",this.deleteComment),this.realtime.commentsObserver.unsubscribe(this.onAnnotationListUpdate),this.pinAdapter.onPinFixedObserver.unsubscribe(this.onFixedPin)}createComment(s,m,f=!1){return de(this,null,function*(){try{let g=yield Ye.createComment(X.get("apiUrl"),X.get("apiKey"),{annotationId:s,userId:this.localParticipant.id,text:m});return f&&this.addComment(s,g),g}catch(g){this.logger.log("error when creating comment",g)}})}addAnnotation(s){let m=[...this.annotations,...s];this.updateAnnotationList(m)}updateAnnotationList(s){this.annotations=s,this.realtime.updateComments(s)}addComment(s,m){let f=this.annotations.findIndex(l=>l.uuid===s);if(f===-1)return;let g=this.annotations[f];g.comments=[...g.comments,m];let w=[...this.annotations.slice(0,f),g,...this.annotations.slice(f+1)];this.updateAnnotationList(w)}fetchAnnotations(){return de(this,null,function*(){try{let s=yield Ye.fetchAnnotation(X.get("apiUrl"),X.get("apiKey"),{roomId:X.get("roomId"),url:this.url});this.annotations=s,this.element.updateAnnotations(this.annotations),this.pinAdapter.updateAnnotations(this.annotations)}catch(s){this.logger.log("error when fetching annotations",s)}})}waterMarkState(){return de(this,null,function*(){try{let s=yield Ye.fetchWaterMark(X.get("apiUrl"),X.get("apiKey")),m=["all","powered-by","powered-by"].includes(s);this.element.waterMarkStatus(m)}catch(s){this.logger.log("error when fetching waterMark",s)}})}};M();M();var fs=class{constructor(a){this.annotationSelected=({detail:a})=>{let{uuid:s}=a;if(!s)return;this.pins.forEach(f=>{f.id!=="superviz-temporary-pin"&&f.removeAttribute("active")});let m=this.pins.get(s);!m||m.setAttribute("active","")};this.onClick=a=>{let{x:s,y:m}=a,f=this.divWrapper.getBoundingClientRect(),g=s-f.x,w=m-f.y;this.onPinFixedObserver.publish({x:g,y:w,type:"canvas"}),this.createTemporaryPin({x:g,y:w,type:"canvas"})};this.onMouseMove=a=>{let{x:s,y:m}=a;this.mouseElement||(this.mouseElement=this.createMouseElement()),this.mouseElement.setAttribute("position",JSON.stringify({x:s,y:m}))};this.onMouseLeave=()=>{this.mouseElement&&(this.mouseElement.remove(),this.mouseElement=null),this.canvas.style.cursor="default"};this.onMouseEnter=()=>{this.mouseElement||(this.mouseElement=this.createMouseElement())};if(this.logger=new we("@superviz/sdk/comments-component/canvas-pin-adapter"),this.canvasId=a,this.canvas=document.getElementById(a),this.isActive=!1,this.pins=new Map,!this.canvas){let s=`Canvas with id ${a} not found`;throw this.logger.log(s),new Error(s)}document.body.style.position="relative",this.onPinFixedObserver=new ue({logger:this.logger}),this.divWrapper=this.createDivWrapper(),this.annotations=[]}destroy(){this.removeListeners(),this.mouseElement=null}setActive(a){if(this.isActive=a,this.canvas.style.cursor=a?"none":"default",this.isActive){this.addListeners(),this.renderAnnotationsPins();return}this.removeAnnotationsPins(),this.removeListeners()}updateAnnotations(a){this.logger.log("updateAnnotations",a),this.annotations=a,this.isActive&&this.renderAnnotationsPins()}removeAnnotationPin(a){let s=this.pins.get(a);!s||(s.remove(),this.pins.delete(a))}createTemporaryPin(a){let s=document.getElementById("superviz-temporary-pin");s||(s=document.createElement("superviz-comments-annotation-pin"),s.id="superviz-temporary-pin",s.setAttribute("type","add"),s.setAttribute("annotation",JSON.stringify({})),s.setAttributeNode(document.createAttribute("active")),s.style.pointerEvents="auto"),s.setAttribute("position",JSON.stringify(a)),this.divWrapper.appendChild(s),this.pins.set("temporary-pin",s)}addListeners(){this.canvas.addEventListener("click",this.onClick),this.canvas.addEventListener("mousemove",this.onMouseMove),this.canvas.addEventListener("mouseout",this.onMouseLeave),this.canvas.addEventListener("mouseenter",this.onMouseEnter),document.body.addEventListener("select-annotation",this.annotationSelected)}removeListeners(){this.canvas.removeEventListener("click",this.onClick),this.canvas.removeEventListener("mousemove",this.onMouseMove),this.canvas.removeEventListener("mouseout",this.onMouseLeave),this.canvas.removeEventListener("mouseenter",this.onMouseEnter),document.body.removeEventListener("select-annotation",this.annotationSelected)}createMouseElement(){let a=document.createElement("superviz-comments-annotation-pin");return a.setAttribute("type","add"),a.setAttribute("annotation",JSON.stringify({})),a.setAttribute("position",JSON.stringify({x:0,y:0})),document.body.appendChild(a),this.canvas.style.cursor="none",a}createDivWrapper(){let a=this.canvas.getBoundingClientRect(),s=document.createElement("div");return this.canvas.parentElement.style.position="relative",s.style.position="absolute",s.style.top=`${a.top}px`,s.style.left=`${a.left}px`,s.style.width=`${a.width}px`,s.style.height=`${a.height}px`,s.style.pointerEvents="none",this.canvas.parentElement.appendChild(s),s}renderAnnotationsPins(){this.annotations.forEach(a=>{let s=JSON.parse(a.position);if(s.type!=="canvas"||a.resolved||this.pins.has(a.uuid))return;let{x:m,y:f}=s,g=document.createElement("superviz-comments-annotation-pin");g.setAttribute("type","show"),g.setAttribute("annotation",JSON.stringify(a)),g.setAttribute("position",JSON.stringify({x:m,y:f})),g.style.pointerEvents="auto",this.divWrapper.appendChild(g),this.pins.set(a.uuid,g)})}removeAnnotationsPins(){this.pins.forEach(a=>{a.remove()}),this.pins.clear()}};M();var ds=Ln(us());M();M();var ut=Ln(ku()),xr=class{constructor(){this.browser=ut.default.getParser(navigator.userAgent)}get clientStats(){return this.browser.getResult()}get isFirefox(){return this.browser.isBrowser(ut.default.BROWSER_MAP.firefox)}get isSafari(){return this.browser.isBrowser(ut.default.BROWSER_MAP.safari)}get isChrome(){return this.browser.isBrowser(ut.default.BROWSER_MAP.chrome)}get isIE(){return this.browser.isBrowser(ut.default.BROWSER_MAP.ie)}get isEdge(){return this.browser.isBrowser(ut.default.BROWSER_MAP.edge)}get isMobileDevice(){return(this.browser.is(ut.default.PLATFORMS_MAP.mobile)||this.browser.is(ut.default.PLATFORMS_MAP.tablet))&&!navigator.userAgent.match(/iPad/i)}get isTabletDevice(){return this.browser.is(ut.default.PLATFORMS_MAP.tablet)}get isAndroid(){return this.isMobileDevice&&!!navigator.userAgent.match(/Android/i)}get isIpad(){return!!navigator.userAgent.match(/iPad/i)}get isIphone(){return this.isMobileDevice&&!!navigator.userAgent.match(/iPhone/i)}get isAppleMobileDevice(){return this.isIpad||this.isIphone}};M();var Fr=class{constructor(){this.updateMeetingConnectionStatus=a=>{this.oldConnectionStatus=this.connectionStatus,this.connectionStatus=a,this.connectionStatusObserver.publish(a),this.logger.log("CONNECTION STATUS CHANGE",a)};this.onUpdateBrowserOnlineStatus=a=>{let{type:s}=a;if(s==="online"){this.updateMeetingConnectionStatus(1);return}this.updateMeetingConnectionStatus(4)};this.logger=new we("@superviz/sdk/connection-service"),this.connectionStatus=0,this.connectionStatusObserver=new ue({logger:this.logger})}addListeners(){window.addEventListener("online",this.onUpdateBrowserOnlineStatus),window.addEventListener("offline",this.onUpdateBrowserOnlineStatus)}removeListeners(){window.removeEventListener("online",this.onUpdateBrowserOnlineStatus),window.removeEventListener("offline",this.onUpdateBrowserOnlineStatus)}};M();M();var Nr=class{build(a,s,m,f={},g={}){let w=document.querySelector(`#${a}`),l=new URL(s);if(this.wrapperId||this.element)throw new Error("Tried to initialize two frames with the same FrameBricklayer instance");this.element=document.createElement("iframe"),Object.entries(f).forEach(([h,p])=>{l.searchParams.set(h,p)}),Object.entries(g).forEach(([h,p])=>{this.element.setAttribute(h,p)}),this.element.src=l.toString(),this.element.id=m,w.appendChild(this.element),this.wrapperId=a}destroy(){if(!this.wrapperId)throw new Error("Tried to destroy a frame before it was initialized");let a=document.querySelector(`#${this.wrapperId}`);!!a&&!!a.querySelector(`#${this.element.id}`)&&a.removeChild(this.element),this.wrapperId=null,this.element=null}};M();var Br=class{constructor(a){this.observers={};this.sourceBlockList=["vue-devtools-proxy","vue-devtools-backend"];this.originBlockList=["https://sketchfab.com"];this.publish=(a,s={})=>{this.logger.log("MessageBridge","Posting message to frame",a,s),this.contentWindow.postMessage({type:a,data:s},this.allowedOrigins)};this.listen=(a,s)=>{this.observers[a]||(this.observers[a]=new ue({logger:this.logger})),this.observers[a].subscribe(s)};this.onReceiveMessage=a=>{let{type:s,data:m,source:f}=a.data;if(this.sourceBlockList.includes(f)||this.originBlockList.includes(a.origin))return;let g=!!s,w=!this.domains.length||this.domains.includes(a.origin),l=this.observers.hasOwnProperty(s);if(this.logger.log("MessageBridge",`Message received -
        TYPE: ${a.type}
        ORIGIN: ${a.origin}
        DATA: ${JSON.stringify(a.data)} `),!g||!w||!l){this.logger.log("MessageBridge","Message discarded");return}this.observers[s].publish(m)};let{contentWindow:s,domains:m=[],allowedOrigins:f="*",sourceBlockList:g=[],logger:w}=a;if(this.logger=w,this.domains=m,this.allowedOrigins=f,this.sourceBlockList.push(...g),typeof window=="undefined")throw new Error("MessageBridge: window is undefined");this.contentWindow=s,window.addEventListener("message",this.onReceiveMessage)}destroy(){Object.entries(this.observers).forEach(([a,s])=>{s.reset(),delete this.observers[a]}),window.removeEventListener("message",this.onReceiveMessage),delete this.logger,delete this.allowedOrigins,delete this.contentWindow,delete this.domains,delete this.observers,delete this.sourceBlockList}};var Hu="sv-video-frame",Nn=class{constructor(a){this.logger=new we("@superviz/sdk/video-conference-manager");this.frameStateObserver=new ue({logger:this.logger});this.frameSizeObserver=new ue({logger:this.logger});this.waitingForHostObserver=new ue({logger:this.logger});this.realtimeEventsObserver=new ue({logger:this.logger});this.sameAccountErrorObserver=new ue({logger:this.logger});this.devicesObserver=new ue({logger:this.logger});this.meetingStateObserver=new ue({logger:this.logger});this.meetingConnectionObserver=new ue({logger:this.logger});this.participantJoinedObserver=new ue({logger:this.logger});this.participantLeftObserver=new ue({logger:this.logger});this.participantListObserver=new ue({logger:this.logger});this.frameState=0;this.layoutModalsAndCamerasConfig=(a,s)=>{let m=a,f=s,g=["left","right","bottom","top"].includes(f),w=["left","right","center"].includes(m);return g||(f="right"),w||(m="right"),this.browserService.isMobileDevice?(f="bottom",{layoutPosition:m,camerasPosition:f}):(m==="left"&&f==="right"&&(m="right"),m==="right"&&f==="left"&&(m="left"),{layoutPosition:m,camerasPosition:f})};this.onFrameLoad=()=>{this.messageBridge=new Br({logger:this.logger,contentWindow:this.bricklayer.element.contentWindow}),this.addMessagesListeners(),this.updateFrameState(2),this.updateFrameLocale(),this.updateMeetingAvatars(),this.onWindowResize(),this.setCustomColors()};this.setFrameOffset=a=>{let s=a!=null?a:{};["top","bottom","left","right"].forEach(m=>{Object.keys(s).includes(m)||(s[m]=0)}),this.frameOffset=s};this.setCustomColors=()=>{!this.customColors||this.messageBridge.publish("frame.color-list-update",this.customColors)};this.setFrameStyle=a=>{let s=document.createElement("style"),{bottom:m,left:f,right:g,top:w}=this.frameOffset;if(s.innerHTML=`
      :root {
        --superviz-offset-top: ${w}px;
        --superviz-offset-right: ${g}px;
        --superviz-offset-left: ${f}px;
        --superviz-offset-bottom: ${m}px;
      }     
    `,document.head.appendChild(s),this.browserService.isMobileDevice){this.bricklayer.element.classList.add("sv-video-frame--bottom");return}this.bricklayer.element.classList.add(`sv-video-frame--${a}`)};this.onFrameDimensionsUpdate=({width:a,height:s})=>{let m=document.getElementById(Hu),{bottom:f,right:g,left:w,top:l}=this.frameOffset,h=this.isWaterMarkEnabled?40:0,p=`${a}px`,P=`${s+h}px`;(a>=window.innerWidth||this.isHorizontalCameraEnabled)&&(p=`calc(100% - ${g}px - ${w}px)`),s>=window.innerHeight&&(P=`calc(100% - ${l}px - ${f}px)`),m.style.width=p,m.style.height=P,this.frameSizeObserver.publish({width:p,height:P})};this.onWindowResize=()=>{let{top:a,bottom:s,right:m,left:f}=this.frameOffset,{innerHeight:g,innerWidth:w}=window,l=g-a-s,h=w-m-f;!this.messageBridge||this.messageBridge.publish("frame.parent-window-size-update",{height:l,width:h})};this.updateFrameLocale=()=>{var g,w;if(!this.frameLocale||!((g=this.frameLocale)!=null&&g.language)&&((w=this.frameLocale)==null?void 0:w.locales))return;let{language:a,locales:s}=this.frameLocale,m=s.map(l=>l==null?void 0:l.language),f=["en",...m];if(a&&!f.includes(a))throw new Error("The default language is not available in the language listing.");this.messageBridge.publish("frame.locales-update",this.frameLocale)};this.updateMeetingAvatars=()=>{this.messageBridge.publish("frame.avatar-list-update",this.meetingAvatars)};this.onParticipantJoined=a=>{this.participantJoinedObserver.publish(a)};this.onParticipantLeft=a=>{this.participantLeftObserver.publish(a)};this.onMeetingHostChange=a=>{this.realtimeEventsObserver.publish({event:"realtime.host-change",data:a})};this.onMeetingKickParticipant=a=>{this.realtimeEventsObserver.publish({event:"meeting.kick-participant",data:a})};this.onFollowParticipantDidChange=a=>{this.realtimeEventsObserver.publish({event:"realtime.follow-participant",data:a})};this.onGoToDidChange=a=>{this.realtimeEventsObserver.publish({event:"realtime.go-to-participant",data:a})};this.onGather=()=>{this.realtimeEventsObserver.publish({event:"realtime.gather",data:!0})};this.onGridModeChange=a=>{this.realtimeEventsObserver.publish({event:"realtime.grid-mode-change",data:a})};this.onDrawingChange=a=>{this.realtimeEventsObserver.publish({event:"realtime.drawing-change",data:a})};this.onTranscriptChange=a=>{this.realtimeEventsObserver.publish({event:"realtime.transcript-change",data:a})};this.onSameAccountError=a=>{this.sameAccountErrorObserver.publish(a)};this.onDevicesChange=a=>{this.devicesObserver.publish(a)};this.meetingStateUpdate=a=>{this.meetingStateObserver.publish(a)};this.onConnectionStatusChange=a=>{this.meetingConnectionObserver.publish(a)};this.onWaitingForHostDidChange=a=>{this.waitingForHostObserver.publish(a)};this.onParticipantListUpdate=a=>{this.participantListObserver.publish(a)};var fe,Ce,me,ct;let{language:s,canUseCams:m,canUseChat:f,canUseScreenshare:g,canUseDefaultAvatars:w,canUseFollow:l,canUseGoTo:h,canUseGather:p,browserService:P,offset:I,canUseDefaultToolbar:y,locales:L,avatars:x,customColors:G,waterMark:V,layoutPosition:Y,camerasPosition:ce,skipMeetingSettings:le,devices:ee}=a;this.browserService=P;let se=this.layoutModalsAndCamerasConfig(Y,ce),z=document.createElement("div");this.frameConfig={apiKey:X.get("apiKey"),apiUrl:X.get("apiUrl"),ablyKey:X.get("ablyKey"),debug:X.get("debug"),canUseFollow:l,canUseGoTo:h,canUseCams:m,canUseChat:f,canUseGather:p,canUseScreenshare:g,canUseDefaultAvatars:w,camerasPosition:(fe=se.camerasPosition)!=null?fe:"right",canUseDefaultToolbar:y,roomId:X.get("roomId"),devices:{audioInput:(Ce=ee==null?void 0:ee.audioInput)!=null?Ce:!0,audioOutput:(me=ee==null?void 0:ee.audioOutput)!=null?me:!0,videoInput:(ct=ee==null?void 0:ee.videoInput)!=null?ct:!0},waterMark:V,skipMeetingSettings:le,layoutPosition:se.layoutPosition},this.customColors=G,z.classList.add("sv_video_wrapper"),z.id="sv-video-wrapper",document.body.appendChild(z),this.updateFrameState(1),this.bricklayer=new Nr,this.bricklayer.build(z.id,X.get("conferenceLayerUrl"),Hu,void 0,{allow:"camera *;microphone *; display-capture *;"}),this.setFrameOffset(I),this.setFrameStyle(se.camerasPosition),this.bricklayer.element.addEventListener("load",this.onFrameLoad),this.frameLocale={language:s,locales:L},this.meetingAvatars=x,window.addEventListener("resize",this.onWindowResize),window.addEventListener("orientationchange",this.onWindowResize)}get isWaterMarkEnabled(){return this.browserService.isMobileDevice?!1:["all","powered-by"].includes(this.frameConfig.waterMark)}get isHorizontalCameraEnabled(){return this.browserService.isMobileDevice?!1:["top","bottom"].includes(this.frameConfig.camerasPosition)}addMessagesListeners(){this.messageBridge.listen("meeting.waiting-for-host",this.onWaitingForHostDidChange),this.messageBridge.listen("meeting.participant-joined",this.onParticipantJoined),this.messageBridge.listen("meeting.participant-list-update",this.onParticipantListUpdate),this.messageBridge.listen("meeting.participant-left",this.onParticipantLeft),this.messageBridge.listen("meeting.host-change",this.onMeetingHostChange),this.messageBridge.listen("meeting.kick-participant",this.onMeetingKickParticipant),this.messageBridge.listen("meeting.same-participant-error",this.onSameAccountError),this.messageBridge.listen("meeting.state-update",this.meetingStateUpdate),this.messageBridge.listen("meeting.connection-status-change",this.onConnectionStatusChange),this.messageBridge.listen("meeting.devices-change",this.onDevicesChange),this.messageBridge.listen("realtime.grid-mode-change",this.onGridModeChange),this.messageBridge.listen("realtime.drawing-change",this.onDrawingChange),this.messageBridge.listen("realtime.transcript-change",this.onTranscriptChange),this.messageBridge.listen("frame.dimensions-update",this.onFrameDimensionsUpdate),this.messageBridge.listen("realtime.follow-participant",this.onFollowParticipantDidChange),this.messageBridge.listen("realtime.go-to-participant",this.onGoToDidChange),this.messageBridge.listen("realtime.gather",this.onGather)}updateFrameState(a){a!==this.frameState&&(this.frameState=a,this.frameStateObserver.publish(this.frameState));let s={[1]:6,[2]:7,[0]:8};this.meetingStateUpdate(s[a])}start(a){this.messageBridge.publish("meeting.start",Pr(at({},a),{config:this.frameConfig}))}leave(){this.messageBridge.publish("meeting.leave"),this.destroy()}destroy(){var a,s;(a=this.messageBridge)==null||a.destroy(),(s=this.bricklayer)==null||s.destroy(),this.frameSizeObserver.destroy(),this.realtimeEventsObserver.destroy(),this.sameAccountErrorObserver.destroy(),this.devicesObserver.destroy(),this.meetingStateObserver.destroy(),this.meetingConnectionObserver.destroy(),this.participantJoinedObserver.destroy(),this.participantLeftObserver.destroy(),this.bricklayer=null,this.frameState=null}publishMessageToFrame(a,s){this.messageBridge.publish(a,s)}};var gs=class extends Lt{constructor(s){super();this.participantToFrameList=[];this.participantsOnMeeting=[];this.startVideo=()=>{var s,m,f,g,w,l,h,p,P,I,y,L,x,G,V,Y,ce,le,ee,se,z,fe;this.videoConfig={language:(s=this.params)==null?void 0:s.language,canUseChat:!((m=this.params)!=null&&m.chatOff),canUseCams:!((f=this.params)!=null&&f.camsOff),canUseScreenshare:!((g=this.params)!=null&&g.screenshareOff),canUseDefaultAvatars:!!((w=this.params)!=null&&w.defaultAvatars)&&!((h=(l=this.localParticipant)==null?void 0:l.avatar)!=null&&h.model),canUseGather:!!((p=this.params)!=null&&p.enableGather),canUseFollow:!!((P=this.params)!=null&&P.enableFollow),canUseGoTo:!!((I=this.params)!=null&&I.enableGoTo),canUseDefaultToolbar:(L=(y=this.params)==null?void 0:y.defaultToolbar)!=null?L:!0,camerasPosition:(x=this.params)==null?void 0:x.camerasPosition,devices:(G=this.params)==null?void 0:G.devices,skipMeetingSettings:(V=this.params)==null?void 0:V.skipMeetingSettings,browserService:this.browserService,offset:(Y=this.params)==null?void 0:Y.offset,locales:(le=(ce=this.params)==null?void 0:ce.locales)!=null?le:[],avatars:(se=(ee=this.params)==null?void 0:ee.avatars)!=null?se:[],customColors:(z=this.params)==null?void 0:z.customColors,layoutPosition:(fe=this.params)==null?void 0:fe.layoutPosition},this.logger.log("video component @ start video",this.videoConfig),this.videoManager=new Nn(this.videoConfig),this.subscribeToVideoEvents()};this.subscribeToVideoEvents=()=>{this.logger.log("video component @ subscribe to video events"),this.videoManager.meetingConnectionObserver.subscribe(this.connectionService.updateMeetingConnectionStatus),this.videoManager.participantListObserver.subscribe(this.onParticipantListUpdate),this.videoManager.waitingForHostObserver.subscribe(this.onWaitingForHost),this.videoManager.frameSizeObserver.subscribe(this.onFrameSizeDidChange),this.videoManager.meetingStateObserver.subscribe(this.onMeetingStateChange),this.videoManager.frameStateObserver.subscribe(this.onFrameStateChange),this.videoManager.realtimeEventsObserver.subscribe(this.onRealtimeEventFromFrame),this.videoManager.participantJoinedObserver.subscribe(this.onParticipantJoined),this.videoManager.participantLeftObserver.subscribe(this.onParticipantLeft),this.videoManager.sameAccountErrorObserver.subscribe(this.onSameAccountError),this.videoManager.devicesObserver.subscribe(this.onDevicesChange)};this.unsubscribeFromVideoEvents=()=>{this.logger.log("video component @ unsubscribe from video events"),this.videoManager.meetingConnectionObserver.unsubscribe(this.connectionService.updateMeetingConnectionStatus),this.videoManager.participantListObserver.unsubscribe(this.onParticipantListUpdate),this.videoManager.waitingForHostObserver.unsubscribe(this.onWaitingForHost),this.videoManager.frameSizeObserver.unsubscribe(this.onFrameSizeDidChange),this.videoManager.meetingStateObserver.unsubscribe(this.onMeetingStateChange),this.videoManager.frameStateObserver.unsubscribe(this.onFrameStateChange),this.videoManager.realtimeEventsObserver.unsubscribe(this.onRealtimeEventFromFrame),this.videoManager.participantJoinedObserver.unsubscribe(this.onParticipantJoined),this.videoManager.participantLeftObserver.unsubscribe(this.onParticipantLeft),this.videoManager.sameAccountErrorObserver.unsubscribe(this.onSameAccountError),this.videoManager.devicesObserver.unsubscribe(this.onDevicesChange)};this.suscribeToRealtimeEvents=()=>{this.logger.log("video component @ subscribe to realtime events"),this.realtime.kickAllParticipantsObserver.subscribe(this.onKickAllParticipantsDidChange),this.realtime.kickParticipantObserver.subscribe(this.onKickLocalParticipant),this.realtime.participantJoinedObserver.subscribe(this.onParticipantJoinedOnRealtime),this.realtime.participantLeaveObserver.subscribe(this.onParticipantLeftOnRealtime),this.realtime.roomInfoUpdatedObserver.subscribe(this.onRoomInfoUpdated),this.realtime.participantsObserver.subscribe(this.onRealtimeParticipantsDidChange),this.realtime.hostObserver.subscribe(this.onHostParticipantDidChange)};this.unsubscribeFromRealtimeEvents=()=>{this.logger.log("video component @ unsubscribe from realtime events"),this.realtime.kickAllParticipantsObserver.unsubscribe(this.onKickAllParticipantsDidChange),this.realtime.participantJoinedObserver.unsubscribe(this.onParticipantJoinedOnRealtime),this.realtime.participantLeaveObserver.unsubscribe(this.onParticipantLeftOnRealtime),this.realtime.roomInfoUpdatedObserver.unsubscribe(this.onRoomInfoUpdated),this.realtime.participantsObserver.unsubscribe(this.onRealtimeParticipantsDidChange),this.realtime.hostObserver.unsubscribe(this.onHostParticipantDidChange)};this.createParticipantFromAblyPresence=s=>{var m;return{id:s.clientId,color:this.realtime.getSlotColor((m=s.data)==null?void 0:m.slotIndex).color,avatar:s.data.avatar,type:s.data.type,name:s.data.name,isHost:this.realtime.hostClientId===s.clientId}};this.onFrameSizeDidChange=s=>{this.publish("frame.dimensions-update",s)};this.onWaitingForHost=s=>{this.publish("meeting.waiting-for-host",s)};this.onConnectionStatusChange=s=>{this.logger.log("video component @ on connection status change",s);let m=[2,4,3,6];m.includes(s)&&this.realtime.freezeSync(!0),m.includes(this.connectionService.oldConnectionStatus)&&!m.includes(s)&&this.realtime.freezeSync(!1),this.publish("meeting.connection-status-change",s)};this.onMeetingStateChange=s=>{this.logger.log("video component @ on meeting state change",s),this.publish("meeting.state-update",s)};this.onSameAccountError=s=>{this.publish("meeting.same-participant-error",s),this.detach()};this.onDevicesChange=s=>{this.publish("meeting.devices-change",s)};this.onFrameStateChange=s=>{this.logger.log("video component @ on frame state change",s),s===2&&this.videoManager.start({group:this.group,participant:this.localParticipant,roomId:X.get("roomId")})};this.onRealtimeEventFromFrame=({event:s,data:m})=>{this.logger.log("video component @ on realtime event from frame",s,m);let f={["realtime.host-change"]:g=>this.realtime.setHost(g),["realtime.gather"]:g=>this.realtime.setGather(g),["realtime.grid-mode-change"]:g=>this.realtime.setGridMode(g),["realtime.drawing-change"]:g=>{this.realtime.setDrawing(g)},["realtime.follow-participant"]:g=>{this.realtime.setFollowParticipant(g)},["meeting.kick-participant"]:g=>{this.realtime.setKickParticipant(g)},["realtime.transcript-change"]:g=>{this.realtime.setTranscript(g)},["realtime.go-to-participant"]:g=>{this.eventBus.publish("realtime.go-to-participant",g)}}[s](m);this.publish(s,m)};this.onParticipantJoined=s=>{if(this.logger.log("video component @ on participant joined",s),this.localParticipant=s,this.publish("meeting.participant-joined",s),this.publish("my-participant.joined",s),this.videoConfig.canUseDefaultAvatars){this.realtime.updateMyProperties({avatar:s.avatar,name:s.name});return}this.realtime.updateMyProperties({name:s.name})};this.onParticipantLeft=s=>{this.logger.log("video component @ on participant left",this.localParticipant),this.publish("my-participant.left",this.localParticipant),this.detach()};this.onParticipantListUpdate=s=>{this.logger.log("video component @ on participant list update",s),!(0,ds.isEqual)(this.participantsOnMeeting,s)&&(this.publish("meeting.participant-list-update",s),this.participantsOnMeeting.length!==s.length&&this.publish("meeting.amount-of-participants-update",s.length),this.participantsOnMeeting=s)};this.onKickAllParticipantsDidChange=s=>{this.logger.log("video component @ on kick all participants did change",s),this.publish("meeting.kick-all-participants",s),this.detach()};this.onKickLocalParticipant=()=>{this.logger.log("video component @ on kick local participant"),this.publish("meeting.kick-participant",this.localParticipant),this.detach()};this.onRoomInfoUpdated=s=>{this.logger.log("video component @ on room info updated",s);let{isGridModeEnable:m,followParticipantId:f,gather:g,drawing:w,transcript:l}=s;this.videoManager.publishMessageToFrame("realtime.grid-mode-change",m),this.videoManager.publishMessageToFrame("realtime.drawing-change",w),this.videoManager.publishMessageToFrame("realtime.follow-participant",f),this.videoManager.publishMessageToFrame("realtime.transcript-change",l),this.realtime.hostClientId===this.localParticipant.id&&g&&this.realtime.setGather(!1)};this.onRealtimeParticipantsDidChange=s=>{this.logger.log("video component @ on participants did change",s);let m=Object.values(s).map(f=>({timestamp:f.timestamp,connectionId:f.connectionId,participantId:f.clientId,color:this.realtime.getSlotColor(f.data.slotIndex).name,name:f.data.name,isHost:this.realtime.hostClientId===f.clientId,avatar:f.data.avatar,type:f.data.type}));(0,ds.isEqual)(this.participantToFrameList,m)||this.videoManager.publishMessageToFrame("realtime.participant-list-update",m),this.participantToFrameList=m};this.onHostParticipantDidChange=s=>{this.logger.log("video component @ on host participant did change",s),this.videoManager.publishMessageToFrame("realtime.host-change",s==null?void 0:s.newHostParticipantId)};this.onParticipantJoinedOnRealtime=s=>{this.logger.log("video component @ on participant joined on realtime",s),this.publish("meeting.participant-joined",this.createParticipantFromAblyPresence(s))};this.onParticipantLeftOnRealtime=s=>{this.logger.log("video component @ on participant left on realtime",s),this.publish("meeting.participant-left",this.createParticipantFromAblyPresence(s))};this.params=s,this.name="videoConference",this.logger=new we(`@superviz/sdk/${"videoConference"}`),this.browserService=new xr,this.connectionService=new Fr,this.connectionService.addListeners(),this.connectionService.connectionStatusObserver.subscribe(this.onConnectionStatusChange)}start(){this.logger.log("video component @ start"),this.publish("meeting.start"),this.suscribeToRealtimeEvents(),this.startVideo()}destroy(){this.logger.log("video component @ destroy"),this.publish("destroy"),this.unsubscribeFromRealtimeEvents(),this.unsubscribeFromVideoEvents(),this.videoManager.leave(),this.connectionService.removeListeners()}};M();var ps=class extends Lt{constructor(s){super();this.subscribeToRealtimeEvents=()=>{this.logger.log("presence-mouse component @ subscribe to realtime events"),this.realtime.participantJoinedObserver.subscribe(this.onParticipantJoinedOnRealtime),this.realtime.participantLeaveObserver.subscribe(this.onParticipantLeftOnRealtime),this.realtime.participantsObserver.subscribe(this.onParticipantsDidChange)};this.unsubscribeFromRealtimeEvents=()=>{this.logger.log("presence-mouse component @ unsubscribe from realtime events"),this.realtime.participantJoinedObserver.unsubscribe(this.onParticipantJoinedOnRealtime),this.realtime.participantLeaveObserver.unsubscribe(this.onParticipantLeftOnRealtime),this.realtime.participantsObserver.unsubscribe(this.onParticipantsDidChange)};this.onMyParticipantMouseMove=s=>{let f=(this.containerId?document.getElementById(this.containerId):document==null?void 0:document.body).getBoundingClientRect();this.realtime.updateMyProperties({mousePositionX:this.containerId?s.x-f.x:s.x,mousePositionY:this.containerId?s.y-f.y:s.y,originalWidth:this.containerId?f.width:1,originalHeight:this.containerId?f.height:1,containerId:this.containerId})};this.onParticipantsDidChange=s=>{this.logger.log("presence-mouse component @ on participants did change",s),Object.values(s).forEach(m=>{var l;let f=m.data,g=(f==null?void 0:f.mousePositionX)&&this.presenceMouseElement,w=(f==null?void 0:f.id)===((l=this.localParticipant)==null?void 0:l.id);f.color=this.realtime.getSlotColor(m.data.slotIndex).color,f.slotIndex=m.data.slotIndex,!w&&g&&this.presenceMouseElement.updatePresenceMouseParticipant(f)})};this.onParticipantJoinedOnRealtime=s=>{var m,f;if(this.logger.log("presence-mouse component @ on participant joined on realtime",s),((m=s==null?void 0:s.data)==null?void 0:m.id)===((f=this.localParticipant)==null?void 0:f.id)){let g=this.containerId?document.getElementById(this.containerId):document==null?void 0:document.body;this.presenceMouseElement=document.createElement("superviz-presence-mouse"),g.appendChild(this.presenceMouseElement),g.addEventListener("mousemove",this.onMyParticipantMouseMove)}};this.onParticipantLeftOnRealtime=s=>{this.logger.log("presence-mouse component @ on participant left on realtime",s),this.presenceMouseElement.removePresenceMouseParticipant(s.clientId)};this.name="presence",this.logger=new we(`@superviz/sdk/${"presence"}`),this.containerId=s!=null?s:null}start(){this.logger.log("presence-mouse component @ start"),this.subscribeToRealtimeEvents()}destroy(){this.logger.log("presence-mouse component @ destroy"),this.publish("destroy"),this.unsubscribeFromRealtimeEvents();let s=this.containerId?document.getElementById(this.containerId):null;s&&(s.removeEventListener("mousemove",this.onMyParticipantMouseMove),s.removeChild(this.presenceMouseElement))}};export{fs as CanvasPinAdapter,ls as CommentsComponent,ps as PresenceMouseComponent,gs as VideoComponent};
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
