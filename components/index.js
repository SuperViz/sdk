var $m=Object.create;var cs=Object.defineProperty,Km=Object.defineProperties,qm=Object.getOwnPropertyDescriptor,Jm=Object.getOwnPropertyDescriptors,Vm=Object.getOwnPropertyNames,iu=Object.getOwnPropertySymbols,Zm=Object.getPrototypeOf,ou=Object.prototype.hasOwnProperty,Ym=Object.prototype.propertyIsEnumerable;var su=(o,a,i)=>a in o?cs(o,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):o[a]=i,Me=(o,a)=>{for(var i in a||(a={}))ou.call(a,i)&&su(o,i,a[i]);if(iu)for(var i of iu(a))Ym.call(a,i)&&su(o,i,a[i]);return o},xt=(o,a)=>Km(o,Jm(a));var Xm=(o,a)=>()=>(o&&(a=o(o=0)),a);var _e=(o,a)=>()=>(a||o((a={exports:{}}).exports,a),a.exports);var Qm=(o,a,i,d)=>{if(a&&typeof a=="object"||typeof a=="function")for(let f of Vm(a))!ou.call(o,f)&&f!==i&&cs(o,f,{get:()=>a[f],enumerable:!(d=qm(a,f))||d.enumerable});return o};var un=(o,a,i)=>(i=o!=null?$m(Zm(o)):{},Qm(a||!o||!o.__esModule?cs(i,"default",{value:o,enumerable:!0}):i,o));var le=(o,a,i)=>new Promise((d,f)=>{var g=h=>{try{l(i.next(h))}catch(m){f(m)}},A=h=>{try{l(i.throw(h))}catch(m){f(m)}},l=h=>h.done?d(h.value):Promise.resolve(h.value).then(g,A);l((i=i.apply(o,a)).next())});var B,P=Xm(()=>{B={}});var uu=_e((hb,au)=>{P();var ln=1e3,cn=ln*60,fn=cn*60,Kt=fn*24,ev=Kt*7,tv=Kt*365.25;au.exports=function(o,a){a=a||{};var i=typeof o;if(i==="string"&&o.length>0)return nv(o);if(i==="number"&&isFinite(o))return a.long?iv(o):rv(o);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(o))};function nv(o){if(o=String(o),!(o.length>100)){var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(o);if(!!a){var i=parseFloat(a[1]),d=(a[2]||"ms").toLowerCase();switch(d){case"years":case"year":case"yrs":case"yr":case"y":return i*tv;case"weeks":case"week":case"w":return i*ev;case"days":case"day":case"d":return i*Kt;case"hours":case"hour":case"hrs":case"hr":case"h":return i*fn;case"minutes":case"minute":case"mins":case"min":case"m":return i*cn;case"seconds":case"second":case"secs":case"sec":case"s":return i*ln;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}function rv(o){var a=Math.abs(o);return a>=Kt?Math.round(o/Kt)+"d":a>=fn?Math.round(o/fn)+"h":a>=cn?Math.round(o/cn)+"m":a>=ln?Math.round(o/ln)+"s":o+"ms"}function iv(o){var a=Math.abs(o);return a>=Kt?xr(o,a,Kt,"day"):a>=fn?xr(o,a,fn,"hour"):a>=cn?xr(o,a,cn,"minute"):a>=ln?xr(o,a,ln,"second"):o+" ms"}function xr(o,a,i,d){var f=a>=i*1.5;return Math.round(o/i)+" "+d+(f?"s":"")}});var cu=_e((db,lu)=>{P();function sv(o){i.debug=i,i.default=i,i.coerce=h,i.disable=g,i.enable=f,i.enabled=A,i.humanize=uu(),i.destroy=m,Object.keys(o).forEach(I=>{i[I]=o[I]}),i.names=[],i.skips=[],i.formatters={};function a(I){let y=0;for(let O=0;O<I.length;O++)y=(y<<5)-y+I.charCodeAt(O),y|=0;return i.colors[Math.abs(y)%i.colors.length]}i.selectColor=a;function i(I){let y,O=null,L,x;function U(...Z){if(!U.enabled)return;let X=U,fe=Number(new Date),he=fe-(y||fe);X.diff=he,X.prev=y,X.curr=fe,y=fe,Z[0]=i.coerce(Z[0]),typeof Z[0]!="string"&&Z.unshift("%O");let ge=0;Z[0]=Z[0].replace(/%([a-zA-Z%])/g,(q,ae)=>{if(q==="%%")return"%";ge++;let me=i.formatters[ae];if(typeof me=="function"){let de=Z[ge];q=me.call(X,de),Z.splice(ge,1),ge--}return q}),i.formatArgs.call(X,Z),(X.log||i.log).apply(X,Z)}return U.namespace=I,U.useColors=i.useColors(),U.color=i.selectColor(I),U.extend=d,U.destroy=i.destroy,Object.defineProperty(U,"enabled",{enumerable:!0,configurable:!1,get:()=>O!==null?O:(L!==i.namespaces&&(L=i.namespaces,x=i.enabled(I)),x),set:Z=>{O=Z}}),typeof i.init=="function"&&i.init(U),U}function d(I,y){let O=i(this.namespace+(typeof y=="undefined"?":":y)+I);return O.log=this.log,O}function f(I){i.save(I),i.namespaces=I,i.names=[],i.skips=[];let y,O=(typeof I=="string"?I:"").split(/[\s,]+/),L=O.length;for(y=0;y<L;y++)!O[y]||(I=O[y].replace(/\*/g,".*?"),I[0]==="-"?i.skips.push(new RegExp("^"+I.slice(1)+"$")):i.names.push(new RegExp("^"+I+"$")))}function g(){let I=[...i.names.map(l),...i.skips.map(l).map(y=>"-"+y)].join(",");return i.enable(""),I}function A(I){if(I[I.length-1]==="*")return!0;let y,O;for(y=0,O=i.skips.length;y<O;y++)if(i.skips[y].test(I))return!1;for(y=0,O=i.names.length;y<O;y++)if(i.names[y].test(I))return!0;return!1}function l(I){return I.toString().substring(2,I.toString().length-2).replace(/\.\*\?$/,"*")}function h(I){return I instanceof Error?I.stack||I.message:I}function m(){}return i.enable(i.load()),i}lu.exports=sv});var fu=_e((He,Fr)=>{P();He.formatArgs=av;He.save=uv;He.load=lv;He.useColors=ov;He.storage=cv();He.destroy=(()=>{let o=!1;return()=>{o||(o=!0)}})();He.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function ov(){return typeof window!="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document!="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function av(o){if(o[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+o[0]+(this.useColors?"%c ":" ")+"+"+Fr.exports.humanize(this.diff),!this.useColors)return;let a="color: "+this.color;o.splice(1,0,a,"color: inherit");let i=0,d=0;o[0].replace(/%[a-zA-Z%]/g,f=>{f!=="%%"&&(i++,f==="%c"&&(d=i))}),o.splice(d,0,a)}He.log=console.debug||console.log||(()=>{});function uv(o){try{o?He.storage.setItem("debug",o):He.storage.removeItem("debug")}catch(a){}}function lv(){let o;try{o=He.storage.getItem("debug")}catch(a){}return!o&&typeof process!="undefined"&&"env"in process&&(o=B.DEBUG),o}function cv(){try{return localStorage}catch(o){}}Fr.exports=cu()(He);var{formatters:fv}=Fr.exports;fv.j=function(o){try{return JSON.stringify(o)}catch(a){return"[UnexpectedJSONParseError]: "+a.message}}});var Nr=_e((gb,du)=>{P();function hv(o){var a=typeof o;return o!=null&&(a=="object"||a=="function")}du.exports=hv});var gu=_e((mb,pu)=>{P();var dv=typeof global=="object"&&global&&global.Object===Object&&global;pu.exports=dv});var fs=_e((vb,mu)=>{P();var pv=gu(),gv=typeof self=="object"&&self&&self.Object===Object&&self,mv=pv||gv||Function("return this")();mu.exports=mv});var bu=_e((bb,vu)=>{P();var vv=fs(),bv=function(){return vv.Date.now()};vu.exports=bv});var Eu=_e((_b,_u)=>{P();var _v=/\s/;function Ev(o){for(var a=o.length;a--&&_v.test(o.charAt(a)););return a}_u.exports=Ev});var Tu=_e((Eb,Au)=>{P();var Av=Eu(),Tv=/^\s+/;function Cv(o){return o&&o.slice(0,Av(o)+1).replace(Tv,"")}Au.exports=Cv});var hs=_e((Ab,Cu)=>{P();var wv=fs(),yv=wv.Symbol;Cu.exports=yv});var Mu=_e((Tb,Ou)=>{P();var wu=hs(),yu=Object.prototype,Ov=yu.hasOwnProperty,Mv=yu.toString,Nn=wu?wu.toStringTag:void 0;function Pv(o){var a=Ov.call(o,Nn),i=o[Nn];try{o[Nn]=void 0;var d=!0}catch(g){}var f=Mv.call(o);return d&&(a?o[Nn]=i:delete o[Nn]),f}Ou.exports=Pv});var Iu=_e((Cb,Pu)=>{P();var Iv=Object.prototype,Sv=Iv.toString;function Lv(o){return Sv.call(o)}Pu.exports=Lv});var xu=_e((wb,Ru)=>{P();var Su=hs(),Rv=Mu(),xv=Iu(),Fv="[object Null]",Nv="[object Undefined]",Lu=Su?Su.toStringTag:void 0;function Bv(o){return o==null?o===void 0?Nv:Fv:Lu&&Lu in Object(o)?Rv(o):xv(o)}Ru.exports=Bv});var Nu=_e((yb,Fu)=>{P();function Dv(o){return o!=null&&typeof o=="object"}Fu.exports=Dv});var Du=_e((Ob,Bu)=>{P();var Gv=xu(),Uv=Nu(),Wv="[object Symbol]";function kv(o){return typeof o=="symbol"||Uv(o)&&Gv(o)==Wv}Bu.exports=kv});var ku=_e((Mb,Wu)=>{P();var Hv=Tu(),Gu=Nr(),zv=Du(),Uu=0/0,$v=/^[-+]0x[0-9a-f]+$/i,Kv=/^0b[01]+$/i,qv=/^0o[0-7]+$/i,Jv=parseInt;function Vv(o){if(typeof o=="number")return o;if(zv(o))return Uu;if(Gu(o)){var a=typeof o.valueOf=="function"?o.valueOf():o;o=Gu(a)?a+"":a}if(typeof o!="string")return o===0?o:+o;o=Hv(o);var i=Kv.test(o);return i||qv.test(o)?Jv(o.slice(2),i?2:8):$v.test(o)?Uu:+o}Wu.exports=Vv});var $u=_e((Pb,zu)=>{P();var Zv=Nr(),ds=bu(),Hu=ku(),Yv="Expected a function",Xv=Math.max,Qv=Math.min;function jv(o,a,i){var d,f,g,A,l,h,m=0,I=!1,y=!1,O=!0;if(typeof o!="function")throw new TypeError(Yv);a=Hu(a)||0,Zv(i)&&(I=!!i.leading,y="maxWait"in i,g=y?Xv(Hu(i.maxWait)||0,a):g,O="trailing"in i?!!i.trailing:O);function L(q){var ae=d,me=f;return d=f=void 0,m=q,A=o.apply(me,ae),A}function x(q){return m=q,l=setTimeout(X,a),I?L(q):A}function U(q){var ae=q-h,me=q-m,de=a-ae;return y?Qv(de,g-me):de}function Z(q){var ae=q-h,me=q-m;return h===void 0||ae>=a||ae<0||y&&me>=g}function X(){var q=ds();if(Z(q))return fe(q);l=setTimeout(X,U(q))}function fe(q){return l=void 0,O&&d?L(q):(d=f=void 0,A)}function he(){l!==void 0&&clearTimeout(l),m=0,d=h=f=l=void 0}function ge(){return l===void 0?A:fe(ds())}function j(){var q=ds(),ae=Z(q);if(d=arguments,f=this,h=q,ae){if(l===void 0)return x(h);if(y)return clearTimeout(l),l=setTimeout(X,a),L(h)}return l===void 0&&(l=setTimeout(X,a)),A}return j.cancel=he,j.flush=ge,j}zu.exports=jv});var qu=_e((Ib,Ku)=>{P();var eb=$u(),tb=Nr(),nb="Expected a function";function rb(o,a,i){var d=!0,f=!0;if(typeof o!="function")throw new TypeError(nb);return tb(i)&&(d="leading"in i?!!i.leading:d,f="trailing"in i?!!i.trailing:f),eb(o,a,{leading:d,maxWait:a,trailing:f})}Ku.exports=rb});var Br=_e((hn,Dn)=>{P();(function(){var o,a="4.17.21",i=200,d="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",f="Expected a function",g="Invalid `variable` option passed into `_.template`",A="__lodash_hash_undefined__",l=500,h="__lodash_placeholder__",m=1,I=2,y=4,O=1,L=2,x=1,U=2,Z=4,X=8,fe=16,he=32,ge=64,j=128,q=256,ae=512,me=30,de="...",ze=800,Ft=16,At=1,Qu=2,ju=3,Nt=1/0,Tt=9007199254740991,el=17976931348623157e292,Wn=0/0,ot=4294967295,tl=ot-1,nl=ot>>>1,rl=[["ary",j],["bind",x],["bindKey",U],["curry",X],["curryRight",fe],["flip",ae],["partial",he],["partialRight",ge],["rearg",q]],qt="[object Arguments]",kn="[object Array]",il="[object AsyncFunction]",dn="[object Boolean]",pn="[object Date]",sl="[object DOMException]",Hn="[object Error]",zn="[object Function]",Os="[object GeneratorFunction]",et="[object Map]",gn="[object Number]",ol="[object Null]",ft="[object Object]",Ms="[object Promise]",al="[object Proxy]",mn="[object RegExp]",tt="[object Set]",vn="[object String]",$n="[object Symbol]",ul="[object Undefined]",bn="[object WeakMap]",ll="[object WeakSet]",_n="[object ArrayBuffer]",Jt="[object DataView]",zr="[object Float32Array]",$r="[object Float64Array]",Kr="[object Int8Array]",qr="[object Int16Array]",Jr="[object Int32Array]",Vr="[object Uint8Array]",Zr="[object Uint8ClampedArray]",Yr="[object Uint16Array]",Xr="[object Uint32Array]",cl=/\b__p \+= '';/g,fl=/\b(__p \+=) '' \+/g,hl=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ps=/&(?:amp|lt|gt|quot|#39);/g,Is=/[&<>"']/g,dl=RegExp(Ps.source),pl=RegExp(Is.source),gl=/<%-([\s\S]+?)%>/g,ml=/<%([\s\S]+?)%>/g,Ss=/<%=([\s\S]+?)%>/g,vl=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,bl=/^\w*$/,_l=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Qr=/[\\^$.*+?()[\]{}|]/g,El=RegExp(Qr.source),jr=/^\s+/,Al=/\s/,Tl=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Cl=/\{\n\/\* \[wrapped with (.+)\] \*/,wl=/,? & /,yl=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ol=/[()=,{}\[\]\/\s]/,Ml=/\\(\\)?/g,Pl=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ls=/\w*$/,Il=/^[-+]0x[0-9a-f]+$/i,Sl=/^0b[01]+$/i,Ll=/^\[object .+?Constructor\]$/,Rl=/^0o[0-7]+$/i,xl=/^(?:0|[1-9]\d*)$/,Fl=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Kn=/($^)/,Nl=/['\n\r\u2028\u2029\\]/g,qn="\\ud800-\\udfff",Bl="\\u0300-\\u036f",Dl="\\ufe20-\\ufe2f",Gl="\\u20d0-\\u20ff",Rs=Bl+Dl+Gl,xs="\\u2700-\\u27bf",Fs="a-z\\xdf-\\xf6\\xf8-\\xff",Ul="\\xac\\xb1\\xd7\\xf7",Wl="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",kl="\\u2000-\\u206f",Hl=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ns="A-Z\\xc0-\\xd6\\xd8-\\xde",Bs="\\ufe0e\\ufe0f",Ds=Ul+Wl+kl+Hl,ei="['\u2019]",zl="["+qn+"]",Gs="["+Ds+"]",Jn="["+Rs+"]",Us="\\d+",$l="["+xs+"]",Ws="["+Fs+"]",ks="[^"+qn+Ds+Us+xs+Fs+Ns+"]",ti="\\ud83c[\\udffb-\\udfff]",Kl="(?:"+Jn+"|"+ti+")",Hs="[^"+qn+"]",ni="(?:\\ud83c[\\udde6-\\uddff]){2}",ri="[\\ud800-\\udbff][\\udc00-\\udfff]",Vt="["+Ns+"]",zs="\\u200d",$s="(?:"+Ws+"|"+ks+")",ql="(?:"+Vt+"|"+ks+")",Ks="(?:"+ei+"(?:d|ll|m|re|s|t|ve))?",qs="(?:"+ei+"(?:D|LL|M|RE|S|T|VE))?",Js=Kl+"?",Vs="["+Bs+"]?",Jl="(?:"+zs+"(?:"+[Hs,ni,ri].join("|")+")"+Vs+Js+")*",Vl="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Zl="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Zs=Vs+Js+Jl,Yl="(?:"+[$l,ni,ri].join("|")+")"+Zs,Xl="(?:"+[Hs+Jn+"?",Jn,ni,ri,zl].join("|")+")",Ql=RegExp(ei,"g"),jl=RegExp(Jn,"g"),ii=RegExp(ti+"(?="+ti+")|"+Xl+Zs,"g"),ec=RegExp([Vt+"?"+Ws+"+"+Ks+"(?="+[Gs,Vt,"$"].join("|")+")",ql+"+"+qs+"(?="+[Gs,Vt+$s,"$"].join("|")+")",Vt+"?"+$s+"+"+Ks,Vt+"+"+qs,Zl,Vl,Us,Yl].join("|"),"g"),tc=RegExp("["+zs+qn+Rs+Bs+"]"),nc=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,rc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ic=-1,ie={};ie[zr]=ie[$r]=ie[Kr]=ie[qr]=ie[Jr]=ie[Vr]=ie[Zr]=ie[Yr]=ie[Xr]=!0,ie[qt]=ie[kn]=ie[_n]=ie[dn]=ie[Jt]=ie[pn]=ie[Hn]=ie[zn]=ie[et]=ie[gn]=ie[ft]=ie[mn]=ie[tt]=ie[vn]=ie[bn]=!1;var re={};re[qt]=re[kn]=re[_n]=re[Jt]=re[dn]=re[pn]=re[zr]=re[$r]=re[Kr]=re[qr]=re[Jr]=re[et]=re[gn]=re[ft]=re[mn]=re[tt]=re[vn]=re[$n]=re[Vr]=re[Zr]=re[Yr]=re[Xr]=!0,re[Hn]=re[zn]=re[bn]=!1;var sc={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},oc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ac={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},uc={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},lc=parseFloat,cc=parseInt,Ys=typeof global=="object"&&global&&global.Object===Object&&global,fc=typeof self=="object"&&self&&self.Object===Object&&self,Te=Ys||fc||Function("return this")(),si=typeof hn=="object"&&hn&&!hn.nodeType&&hn,Bt=si&&typeof Dn=="object"&&Dn&&!Dn.nodeType&&Dn,Xs=Bt&&Bt.exports===si,oi=Xs&&Ys.process,$e=function(){try{var b=Bt&&Bt.require&&Bt.require("util").types;return b||oi&&oi.binding&&oi.binding("util")}catch(T){}}(),Qs=$e&&$e.isArrayBuffer,js=$e&&$e.isDate,eo=$e&&$e.isMap,to=$e&&$e.isRegExp,no=$e&&$e.isSet,ro=$e&&$e.isTypedArray;function Be(b,T,E){switch(E.length){case 0:return b.call(T);case 1:return b.call(T,E[0]);case 2:return b.call(T,E[0],E[1]);case 3:return b.call(T,E[0],E[1],E[2])}return b.apply(T,E)}function hc(b,T,E,R){for(var W=-1,Q=b==null?0:b.length;++W<Q;){var Ee=b[W];T(R,Ee,E(Ee),b)}return R}function Ke(b,T){for(var E=-1,R=b==null?0:b.length;++E<R&&T(b[E],E,b)!==!1;);return b}function dc(b,T){for(var E=b==null?0:b.length;E--&&T(b[E],E,b)!==!1;);return b}function io(b,T){for(var E=-1,R=b==null?0:b.length;++E<R;)if(!T(b[E],E,b))return!1;return!0}function Ct(b,T){for(var E=-1,R=b==null?0:b.length,W=0,Q=[];++E<R;){var Ee=b[E];T(Ee,E,b)&&(Q[W++]=Ee)}return Q}function Vn(b,T){var E=b==null?0:b.length;return!!E&&Zt(b,T,0)>-1}function ai(b,T,E){for(var R=-1,W=b==null?0:b.length;++R<W;)if(E(T,b[R]))return!0;return!1}function oe(b,T){for(var E=-1,R=b==null?0:b.length,W=Array(R);++E<R;)W[E]=T(b[E],E,b);return W}function wt(b,T){for(var E=-1,R=T.length,W=b.length;++E<R;)b[W+E]=T[E];return b}function ui(b,T,E,R){var W=-1,Q=b==null?0:b.length;for(R&&Q&&(E=b[++W]);++W<Q;)E=T(E,b[W],W,b);return E}function pc(b,T,E,R){var W=b==null?0:b.length;for(R&&W&&(E=b[--W]);W--;)E=T(E,b[W],W,b);return E}function li(b,T){for(var E=-1,R=b==null?0:b.length;++E<R;)if(T(b[E],E,b))return!0;return!1}var gc=ci("length");function mc(b){return b.split("")}function vc(b){return b.match(yl)||[]}function so(b,T,E){var R;return E(b,function(W,Q,Ee){if(T(W,Q,Ee))return R=Q,!1}),R}function Zn(b,T,E,R){for(var W=b.length,Q=E+(R?1:-1);R?Q--:++Q<W;)if(T(b[Q],Q,b))return Q;return-1}function Zt(b,T,E){return T===T?Ic(b,T,E):Zn(b,oo,E)}function bc(b,T,E,R){for(var W=E-1,Q=b.length;++W<Q;)if(R(b[W],T))return W;return-1}function oo(b){return b!==b}function ao(b,T){var E=b==null?0:b.length;return E?hi(b,T)/E:Wn}function ci(b){return function(T){return T==null?o:T[b]}}function fi(b){return function(T){return b==null?o:b[T]}}function uo(b,T,E,R,W){return W(b,function(Q,Ee,ne){E=R?(R=!1,Q):T(E,Q,Ee,ne)}),E}function _c(b,T){var E=b.length;for(b.sort(T);E--;)b[E]=b[E].value;return b}function hi(b,T){for(var E,R=-1,W=b.length;++R<W;){var Q=T(b[R]);Q!==o&&(E=E===o?Q:E+Q)}return E}function di(b,T){for(var E=-1,R=Array(b);++E<b;)R[E]=T(E);return R}function Ec(b,T){return oe(T,function(E){return[E,b[E]]})}function lo(b){return b&&b.slice(0,po(b)+1).replace(jr,"")}function De(b){return function(T){return b(T)}}function pi(b,T){return oe(T,function(E){return b[E]})}function En(b,T){return b.has(T)}function co(b,T){for(var E=-1,R=b.length;++E<R&&Zt(T,b[E],0)>-1;);return E}function fo(b,T){for(var E=b.length;E--&&Zt(T,b[E],0)>-1;);return E}function Ac(b,T){for(var E=b.length,R=0;E--;)b[E]===T&&++R;return R}var Tc=fi(sc),Cc=fi(oc);function wc(b){return"\\"+uc[b]}function yc(b,T){return b==null?o:b[T]}function Yt(b){return tc.test(b)}function Oc(b){return nc.test(b)}function Mc(b){for(var T,E=[];!(T=b.next()).done;)E.push(T.value);return E}function gi(b){var T=-1,E=Array(b.size);return b.forEach(function(R,W){E[++T]=[W,R]}),E}function ho(b,T){return function(E){return b(T(E))}}function yt(b,T){for(var E=-1,R=b.length,W=0,Q=[];++E<R;){var Ee=b[E];(Ee===T||Ee===h)&&(b[E]=h,Q[W++]=E)}return Q}function Yn(b){var T=-1,E=Array(b.size);return b.forEach(function(R){E[++T]=R}),E}function Pc(b){var T=-1,E=Array(b.size);return b.forEach(function(R){E[++T]=[R,R]}),E}function Ic(b,T,E){for(var R=E-1,W=b.length;++R<W;)if(b[R]===T)return R;return-1}function Sc(b,T,E){for(var R=E+1;R--;)if(b[R]===T)return R;return R}function Xt(b){return Yt(b)?Rc(b):gc(b)}function nt(b){return Yt(b)?xc(b):mc(b)}function po(b){for(var T=b.length;T--&&Al.test(b.charAt(T)););return T}var Lc=fi(ac);function Rc(b){for(var T=ii.lastIndex=0;ii.test(b);)++T;return T}function xc(b){return b.match(ii)||[]}function Fc(b){return b.match(ec)||[]}var Nc=function b(T){T=T==null?Te:Ot.defaults(Te.Object(),T,Ot.pick(Te,rc));var E=T.Array,R=T.Date,W=T.Error,Q=T.Function,Ee=T.Math,ne=T.Object,mi=T.RegExp,Bc=T.String,qe=T.TypeError,Xn=E.prototype,Dc=Q.prototype,Qt=ne.prototype,Qn=T["__core-js_shared__"],jn=Dc.toString,te=Qt.hasOwnProperty,Gc=0,go=function(){var e=/[^.]+$/.exec(Qn&&Qn.keys&&Qn.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),er=Qt.toString,Uc=jn.call(ne),Wc=Te._,kc=mi("^"+jn.call(te).replace(Qr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),tr=Xs?T.Buffer:o,Mt=T.Symbol,nr=T.Uint8Array,mo=tr?tr.allocUnsafe:o,rr=ho(ne.getPrototypeOf,ne),vo=ne.create,bo=Qt.propertyIsEnumerable,ir=Xn.splice,_o=Mt?Mt.isConcatSpreadable:o,An=Mt?Mt.iterator:o,Dt=Mt?Mt.toStringTag:o,sr=function(){try{var e=Ht(ne,"defineProperty");return e({},"",{}),e}catch(t){}}(),Hc=T.clearTimeout!==Te.clearTimeout&&T.clearTimeout,zc=R&&R.now!==Te.Date.now&&R.now,$c=T.setTimeout!==Te.setTimeout&&T.setTimeout,or=Ee.ceil,ar=Ee.floor,vi=ne.getOwnPropertySymbols,Kc=tr?tr.isBuffer:o,Eo=T.isFinite,qc=Xn.join,Jc=ho(ne.keys,ne),Ae=Ee.max,ye=Ee.min,Vc=R.now,Zc=T.parseInt,Ao=Ee.random,Yc=Xn.reverse,bi=Ht(T,"DataView"),Tn=Ht(T,"Map"),_i=Ht(T,"Promise"),jt=Ht(T,"Set"),Cn=Ht(T,"WeakMap"),wn=Ht(ne,"create"),ur=Cn&&new Cn,en={},Xc=zt(bi),Qc=zt(Tn),jc=zt(_i),ef=zt(jt),tf=zt(Cn),lr=Mt?Mt.prototype:o,yn=lr?lr.valueOf:o,To=lr?lr.toString:o;function u(e){if(pe(e)&&!k(e)&&!(e instanceof V)){if(e instanceof Je)return e;if(te.call(e,"__wrapped__"))return Ca(e)}return new Je(e)}var tn=function(){function e(){}return function(t){if(!ue(t))return{};if(vo)return vo(t);e.prototype=t;var n=new e;return e.prototype=o,n}}();function cr(){}function Je(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=o}u.templateSettings={escape:gl,evaluate:ml,interpolate:Ss,variable:"",imports:{_:u}},u.prototype=cr.prototype,u.prototype.constructor=u,Je.prototype=tn(cr.prototype),Je.prototype.constructor=Je;function V(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ot,this.__views__=[]}function nf(){var e=new V(this.__wrapped__);return e.__actions__=Re(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Re(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Re(this.__views__),e}function rf(){if(this.__filtered__){var e=new V(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function sf(){var e=this.__wrapped__.value(),t=this.__dir__,n=k(e),r=t<0,s=n?e.length:0,c=vh(0,s,this.__views__),p=c.start,v=c.end,_=v-p,C=r?v:p-1,w=this.__iteratees__,M=w.length,S=0,F=ye(_,this.__takeCount__);if(!n||!r&&s==_&&F==_)return qo(e,this.__actions__);var D=[];e:for(;_--&&S<F;){C+=t;for(var z=-1,G=e[C];++z<M;){var J=w[z],Y=J.iteratee,We=J.type,Se=Y(G);if(We==Qu)G=Se;else if(!Se){if(We==At)continue e;break e}}D[S++]=G}return D}V.prototype=tn(cr.prototype),V.prototype.constructor=V;function Gt(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function of(){this.__data__=wn?wn(null):{},this.size=0}function af(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function uf(e){var t=this.__data__;if(wn){var n=t[e];return n===A?o:n}return te.call(t,e)?t[e]:o}function lf(e){var t=this.__data__;return wn?t[e]!==o:te.call(t,e)}function cf(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=wn&&t===o?A:t,this}Gt.prototype.clear=of,Gt.prototype.delete=af,Gt.prototype.get=uf,Gt.prototype.has=lf,Gt.prototype.set=cf;function ht(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ff(){this.__data__=[],this.size=0}function hf(e){var t=this.__data__,n=fr(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():ir.call(t,n,1),--this.size,!0}function df(e){var t=this.__data__,n=fr(t,e);return n<0?o:t[n][1]}function pf(e){return fr(this.__data__,e)>-1}function gf(e,t){var n=this.__data__,r=fr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}ht.prototype.clear=ff,ht.prototype.delete=hf,ht.prototype.get=df,ht.prototype.has=pf,ht.prototype.set=gf;function dt(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function mf(){this.size=0,this.__data__={hash:new Gt,map:new(Tn||ht),string:new Gt}}function vf(e){var t=Cr(this,e).delete(e);return this.size-=t?1:0,t}function bf(e){return Cr(this,e).get(e)}function _f(e){return Cr(this,e).has(e)}function Ef(e,t){var n=Cr(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}dt.prototype.clear=mf,dt.prototype.delete=vf,dt.prototype.get=bf,dt.prototype.has=_f,dt.prototype.set=Ef;function Ut(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new dt;++t<n;)this.add(e[t])}function Af(e){return this.__data__.set(e,A),this}function Tf(e){return this.__data__.has(e)}Ut.prototype.add=Ut.prototype.push=Af,Ut.prototype.has=Tf;function rt(e){var t=this.__data__=new ht(e);this.size=t.size}function Cf(){this.__data__=new ht,this.size=0}function wf(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function yf(e){return this.__data__.get(e)}function Of(e){return this.__data__.has(e)}function Mf(e,t){var n=this.__data__;if(n instanceof ht){var r=n.__data__;if(!Tn||r.length<i-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new dt(r)}return n.set(e,t),this.size=n.size,this}rt.prototype.clear=Cf,rt.prototype.delete=wf,rt.prototype.get=yf,rt.prototype.has=Of,rt.prototype.set=Mf;function Co(e,t){var n=k(e),r=!n&&$t(e),s=!n&&!r&&Rt(e),c=!n&&!r&&!s&&on(e),p=n||r||s||c,v=p?di(e.length,Bc):[],_=v.length;for(var C in e)(t||te.call(e,C))&&!(p&&(C=="length"||s&&(C=="offset"||C=="parent")||c&&(C=="buffer"||C=="byteLength"||C=="byteOffset")||vt(C,_)))&&v.push(C);return v}function wo(e){var t=e.length;return t?e[Si(0,t-1)]:o}function Pf(e,t){return wr(Re(e),Wt(t,0,e.length))}function If(e){return wr(Re(e))}function Ei(e,t,n){(n!==o&&!it(e[t],n)||n===o&&!(t in e))&&pt(e,t,n)}function On(e,t,n){var r=e[t];(!(te.call(e,t)&&it(r,n))||n===o&&!(t in e))&&pt(e,t,n)}function fr(e,t){for(var n=e.length;n--;)if(it(e[n][0],t))return n;return-1}function Sf(e,t,n,r){return Pt(e,function(s,c,p){t(r,s,n(s),p)}),r}function yo(e,t){return e&&ut(t,Ce(t),e)}function Lf(e,t){return e&&ut(t,Fe(t),e)}function pt(e,t,n){t=="__proto__"&&sr?sr(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Ai(e,t){for(var n=-1,r=t.length,s=E(r),c=e==null;++n<r;)s[n]=c?o:ts(e,t[n]);return s}function Wt(e,t,n){return e===e&&(n!==o&&(e=e<=n?e:n),t!==o&&(e=e>=t?e:t)),e}function Ve(e,t,n,r,s,c){var p,v=t&m,_=t&I,C=t&y;if(n&&(p=s?n(e,r,s,c):n(e)),p!==o)return p;if(!ue(e))return e;var w=k(e);if(w){if(p=_h(e),!v)return Re(e,p)}else{var M=Oe(e),S=M==zn||M==Os;if(Rt(e))return Zo(e,v);if(M==ft||M==qt||S&&!s){if(p=_||S?{}:pa(e),!v)return _?uh(e,Lf(p,e)):ah(e,yo(p,e))}else{if(!re[M])return s?e:{};p=Eh(e,M,v)}}c||(c=new rt);var F=c.get(e);if(F)return F;c.set(e,p),za(e)?e.forEach(function(G){p.add(Ve(G,t,n,G,e,c))}):ka(e)&&e.forEach(function(G,J){p.set(J,Ve(G,t,n,J,e,c))});var D=C?_?ki:Wi:_?Fe:Ce,z=w?o:D(e);return Ke(z||e,function(G,J){z&&(J=G,G=e[J]),On(p,J,Ve(G,t,n,J,e,c))}),p}function Rf(e){var t=Ce(e);return function(n){return Oo(n,e,t)}}function Oo(e,t,n){var r=n.length;if(e==null)return!r;for(e=ne(e);r--;){var s=n[r],c=t[s],p=e[s];if(p===o&&!(s in e)||!c(p))return!1}return!0}function Mo(e,t,n){if(typeof e!="function")throw new qe(f);return xn(function(){e.apply(o,n)},t)}function Mn(e,t,n,r){var s=-1,c=Vn,p=!0,v=e.length,_=[],C=t.length;if(!v)return _;n&&(t=oe(t,De(n))),r?(c=ai,p=!1):t.length>=i&&(c=En,p=!1,t=new Ut(t));e:for(;++s<v;){var w=e[s],M=n==null?w:n(w);if(w=r||w!==0?w:0,p&&M===M){for(var S=C;S--;)if(t[S]===M)continue e;_.push(w)}else c(t,M,r)||_.push(w)}return _}var Pt=ea(at),Po=ea(Ci,!0);function xf(e,t){var n=!0;return Pt(e,function(r,s,c){return n=!!t(r,s,c),n}),n}function hr(e,t,n){for(var r=-1,s=e.length;++r<s;){var c=e[r],p=t(c);if(p!=null&&(v===o?p===p&&!Ue(p):n(p,v)))var v=p,_=c}return _}function Ff(e,t,n,r){var s=e.length;for(n=H(n),n<0&&(n=-n>s?0:s+n),r=r===o||r>s?s:H(r),r<0&&(r+=s),r=n>r?0:Ka(r);n<r;)e[n++]=t;return e}function Io(e,t){var n=[];return Pt(e,function(r,s,c){t(r,s,c)&&n.push(r)}),n}function we(e,t,n,r,s){var c=-1,p=e.length;for(n||(n=Th),s||(s=[]);++c<p;){var v=e[c];t>0&&n(v)?t>1?we(v,t-1,n,r,s):wt(s,v):r||(s[s.length]=v)}return s}var Ti=ta(),So=ta(!0);function at(e,t){return e&&Ti(e,t,Ce)}function Ci(e,t){return e&&So(e,t,Ce)}function dr(e,t){return Ct(t,function(n){return bt(e[n])})}function kt(e,t){t=St(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[lt(t[n++])];return n&&n==r?e:o}function Lo(e,t,n){var r=t(e);return k(e)?r:wt(r,n(e))}function Pe(e){return e==null?e===o?ul:ol:Dt&&Dt in ne(e)?mh(e):Ih(e)}function wi(e,t){return e>t}function Nf(e,t){return e!=null&&te.call(e,t)}function Bf(e,t){return e!=null&&t in ne(e)}function Df(e,t,n){return e>=ye(t,n)&&e<Ae(t,n)}function yi(e,t,n){for(var r=n?ai:Vn,s=e[0].length,c=e.length,p=c,v=E(c),_=1/0,C=[];p--;){var w=e[p];p&&t&&(w=oe(w,De(t))),_=ye(w.length,_),v[p]=!n&&(t||s>=120&&w.length>=120)?new Ut(p&&w):o}w=e[0];var M=-1,S=v[0];e:for(;++M<s&&C.length<_;){var F=w[M],D=t?t(F):F;if(F=n||F!==0?F:0,!(S?En(S,D):r(C,D,n))){for(p=c;--p;){var z=v[p];if(!(z?En(z,D):r(e[p],D,n)))continue e}S&&S.push(D),C.push(F)}}return C}function Gf(e,t,n,r){return at(e,function(s,c,p){t(r,n(s),c,p)}),r}function Pn(e,t,n){t=St(t,e),e=ba(e,t);var r=e==null?e:e[lt(Ye(t))];return r==null?o:Be(r,e,n)}function Ro(e){return pe(e)&&Pe(e)==qt}function Uf(e){return pe(e)&&Pe(e)==_n}function Wf(e){return pe(e)&&Pe(e)==pn}function In(e,t,n,r,s){return e===t?!0:e==null||t==null||!pe(e)&&!pe(t)?e!==e&&t!==t:kf(e,t,n,r,In,s)}function kf(e,t,n,r,s,c){var p=k(e),v=k(t),_=p?kn:Oe(e),C=v?kn:Oe(t);_=_==qt?ft:_,C=C==qt?ft:C;var w=_==ft,M=C==ft,S=_==C;if(S&&Rt(e)){if(!Rt(t))return!1;p=!0,w=!1}if(S&&!w)return c||(c=new rt),p||on(e)?fa(e,t,n,r,s,c):ph(e,t,_,n,r,s,c);if(!(n&O)){var F=w&&te.call(e,"__wrapped__"),D=M&&te.call(t,"__wrapped__");if(F||D){var z=F?e.value():e,G=D?t.value():t;return c||(c=new rt),s(z,G,n,r,c)}}return S?(c||(c=new rt),gh(e,t,n,r,s,c)):!1}function Hf(e){return pe(e)&&Oe(e)==et}function Oi(e,t,n,r){var s=n.length,c=s,p=!r;if(e==null)return!c;for(e=ne(e);s--;){var v=n[s];if(p&&v[2]?v[1]!==e[v[0]]:!(v[0]in e))return!1}for(;++s<c;){v=n[s];var _=v[0],C=e[_],w=v[1];if(p&&v[2]){if(C===o&&!(_ in e))return!1}else{var M=new rt;if(r)var S=r(C,w,_,e,t,M);if(!(S===o?In(w,C,O|L,r,M):S))return!1}}return!0}function xo(e){if(!ue(e)||wh(e))return!1;var t=bt(e)?kc:Ll;return t.test(zt(e))}function zf(e){return pe(e)&&Pe(e)==mn}function $f(e){return pe(e)&&Oe(e)==tt}function Kf(e){return pe(e)&&Sr(e.length)&&!!ie[Pe(e)]}function Fo(e){return typeof e=="function"?e:e==null?Ne:typeof e=="object"?k(e)?Do(e[0],e[1]):Bo(e):nu(e)}function Mi(e){if(!Rn(e))return Jc(e);var t=[];for(var n in ne(e))te.call(e,n)&&n!="constructor"&&t.push(n);return t}function qf(e){if(!ue(e))return Ph(e);var t=Rn(e),n=[];for(var r in e)r=="constructor"&&(t||!te.call(e,r))||n.push(r);return n}function Pi(e,t){return e<t}function No(e,t){var n=-1,r=xe(e)?E(e.length):[];return Pt(e,function(s,c,p){r[++n]=t(s,c,p)}),r}function Bo(e){var t=zi(e);return t.length==1&&t[0][2]?ma(t[0][0],t[0][1]):function(n){return n===e||Oi(n,e,t)}}function Do(e,t){return Ki(e)&&ga(t)?ma(lt(e),t):function(n){var r=ts(n,e);return r===o&&r===t?ns(n,e):In(t,r,O|L)}}function pr(e,t,n,r,s){e!==t&&Ti(t,function(c,p){if(s||(s=new rt),ue(c))Jf(e,t,p,n,pr,r,s);else{var v=r?r(Ji(e,p),c,p+"",e,t,s):o;v===o&&(v=c),Ei(e,p,v)}},Fe)}function Jf(e,t,n,r,s,c,p){var v=Ji(e,n),_=Ji(t,n),C=p.get(_);if(C){Ei(e,n,C);return}var w=c?c(v,_,n+"",e,t,p):o,M=w===o;if(M){var S=k(_),F=!S&&Rt(_),D=!S&&!F&&on(_);w=_,S||F||D?k(v)?w=v:ve(v)?w=Re(v):F?(M=!1,w=Zo(_,!0)):D?(M=!1,w=Yo(_,!0)):w=[]:Fn(_)||$t(_)?(w=v,$t(v)?w=qa(v):(!ue(v)||bt(v))&&(w=pa(_))):M=!1}M&&(p.set(_,w),s(w,_,r,c,p),p.delete(_)),Ei(e,n,w)}function Go(e,t){var n=e.length;if(!!n)return t+=t<0?n:0,vt(t,n)?e[t]:o}function Uo(e,t,n){t.length?t=oe(t,function(c){return k(c)?function(p){return kt(p,c.length===1?c[0]:c)}:c}):t=[Ne];var r=-1;t=oe(t,De(N()));var s=No(e,function(c,p,v){var _=oe(t,function(C){return C(c)});return{criteria:_,index:++r,value:c}});return _c(s,function(c,p){return oh(c,p,n)})}function Vf(e,t){return Wo(e,t,function(n,r){return ns(e,r)})}function Wo(e,t,n){for(var r=-1,s=t.length,c={};++r<s;){var p=t[r],v=kt(e,p);n(v,p)&&Sn(c,St(p,e),v)}return c}function Zf(e){return function(t){return kt(t,e)}}function Ii(e,t,n,r){var s=r?bc:Zt,c=-1,p=t.length,v=e;for(e===t&&(t=Re(t)),n&&(v=oe(e,De(n)));++c<p;)for(var _=0,C=t[c],w=n?n(C):C;(_=s(v,w,_,r))>-1;)v!==e&&ir.call(v,_,1),ir.call(e,_,1);return e}function ko(e,t){for(var n=e?t.length:0,r=n-1;n--;){var s=t[n];if(n==r||s!==c){var c=s;vt(s)?ir.call(e,s,1):xi(e,s)}}return e}function Si(e,t){return e+ar(Ao()*(t-e+1))}function Yf(e,t,n,r){for(var s=-1,c=Ae(or((t-e)/(n||1)),0),p=E(c);c--;)p[r?c:++s]=e,e+=n;return p}function Li(e,t){var n="";if(!e||t<1||t>Tt)return n;do t%2&&(n+=e),t=ar(t/2),t&&(e+=e);while(t);return n}function $(e,t){return Vi(va(e,t,Ne),e+"")}function Xf(e){return wo(an(e))}function Qf(e,t){var n=an(e);return wr(n,Wt(t,0,n.length))}function Sn(e,t,n,r){if(!ue(e))return e;t=St(t,e);for(var s=-1,c=t.length,p=c-1,v=e;v!=null&&++s<c;){var _=lt(t[s]),C=n;if(_==="__proto__"||_==="constructor"||_==="prototype")return e;if(s!=p){var w=v[_];C=r?r(w,_,v):o,C===o&&(C=ue(w)?w:vt(t[s+1])?[]:{})}On(v,_,C),v=v[_]}return e}var Ho=ur?function(e,t){return ur.set(e,t),e}:Ne,jf=sr?function(e,t){return sr(e,"toString",{configurable:!0,enumerable:!1,value:is(t),writable:!0})}:Ne;function eh(e){return wr(an(e))}function Ze(e,t,n){var r=-1,s=e.length;t<0&&(t=-t>s?0:s+t),n=n>s?s:n,n<0&&(n+=s),s=t>n?0:n-t>>>0,t>>>=0;for(var c=E(s);++r<s;)c[r]=e[r+t];return c}function th(e,t){var n;return Pt(e,function(r,s,c){return n=t(r,s,c),!n}),!!n}function gr(e,t,n){var r=0,s=e==null?r:e.length;if(typeof t=="number"&&t===t&&s<=nl){for(;r<s;){var c=r+s>>>1,p=e[c];p!==null&&!Ue(p)&&(n?p<=t:p<t)?r=c+1:s=c}return s}return Ri(e,t,Ne,n)}function Ri(e,t,n,r){var s=0,c=e==null?0:e.length;if(c===0)return 0;t=n(t);for(var p=t!==t,v=t===null,_=Ue(t),C=t===o;s<c;){var w=ar((s+c)/2),M=n(e[w]),S=M!==o,F=M===null,D=M===M,z=Ue(M);if(p)var G=r||D;else C?G=D&&(r||S):v?G=D&&S&&(r||!F):_?G=D&&S&&!F&&(r||!z):F||z?G=!1:G=r?M<=t:M<t;G?s=w+1:c=w}return ye(c,tl)}function zo(e,t){for(var n=-1,r=e.length,s=0,c=[];++n<r;){var p=e[n],v=t?t(p):p;if(!n||!it(v,_)){var _=v;c[s++]=p===0?0:p}}return c}function $o(e){return typeof e=="number"?e:Ue(e)?Wn:+e}function Ge(e){if(typeof e=="string")return e;if(k(e))return oe(e,Ge)+"";if(Ue(e))return To?To.call(e):"";var t=e+"";return t=="0"&&1/e==-Nt?"-0":t}function It(e,t,n){var r=-1,s=Vn,c=e.length,p=!0,v=[],_=v;if(n)p=!1,s=ai;else if(c>=i){var C=t?null:hh(e);if(C)return Yn(C);p=!1,s=En,_=new Ut}else _=t?[]:v;e:for(;++r<c;){var w=e[r],M=t?t(w):w;if(w=n||w!==0?w:0,p&&M===M){for(var S=_.length;S--;)if(_[S]===M)continue e;t&&_.push(M),v.push(w)}else s(_,M,n)||(_!==v&&_.push(M),v.push(w))}return v}function xi(e,t){return t=St(t,e),e=ba(e,t),e==null||delete e[lt(Ye(t))]}function Ko(e,t,n,r){return Sn(e,t,n(kt(e,t)),r)}function mr(e,t,n,r){for(var s=e.length,c=r?s:-1;(r?c--:++c<s)&&t(e[c],c,e););return n?Ze(e,r?0:c,r?c+1:s):Ze(e,r?c+1:0,r?s:c)}function qo(e,t){var n=e;return n instanceof V&&(n=n.value()),ui(t,function(r,s){return s.func.apply(s.thisArg,wt([r],s.args))},n)}function Fi(e,t,n){var r=e.length;if(r<2)return r?It(e[0]):[];for(var s=-1,c=E(r);++s<r;)for(var p=e[s],v=-1;++v<r;)v!=s&&(c[s]=Mn(c[s]||p,e[v],t,n));return It(we(c,1),t,n)}function Jo(e,t,n){for(var r=-1,s=e.length,c=t.length,p={};++r<s;){var v=r<c?t[r]:o;n(p,e[r],v)}return p}function Ni(e){return ve(e)?e:[]}function Bi(e){return typeof e=="function"?e:Ne}function St(e,t){return k(e)?e:Ki(e,t)?[e]:Ta(ee(e))}var nh=$;function Lt(e,t,n){var r=e.length;return n=n===o?r:n,!t&&n>=r?e:Ze(e,t,n)}var Vo=Hc||function(e){return Te.clearTimeout(e)};function Zo(e,t){if(t)return e.slice();var n=e.length,r=mo?mo(n):new e.constructor(n);return e.copy(r),r}function Di(e){var t=new e.constructor(e.byteLength);return new nr(t).set(new nr(e)),t}function rh(e,t){var n=t?Di(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function ih(e){var t=new e.constructor(e.source,Ls.exec(e));return t.lastIndex=e.lastIndex,t}function sh(e){return yn?ne(yn.call(e)):{}}function Yo(e,t){var n=t?Di(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Xo(e,t){if(e!==t){var n=e!==o,r=e===null,s=e===e,c=Ue(e),p=t!==o,v=t===null,_=t===t,C=Ue(t);if(!v&&!C&&!c&&e>t||c&&p&&_&&!v&&!C||r&&p&&_||!n&&_||!s)return 1;if(!r&&!c&&!C&&e<t||C&&n&&s&&!r&&!c||v&&n&&s||!p&&s||!_)return-1}return 0}function oh(e,t,n){for(var r=-1,s=e.criteria,c=t.criteria,p=s.length,v=n.length;++r<p;){var _=Xo(s[r],c[r]);if(_){if(r>=v)return _;var C=n[r];return _*(C=="desc"?-1:1)}}return e.index-t.index}function Qo(e,t,n,r){for(var s=-1,c=e.length,p=n.length,v=-1,_=t.length,C=Ae(c-p,0),w=E(_+C),M=!r;++v<_;)w[v]=t[v];for(;++s<p;)(M||s<c)&&(w[n[s]]=e[s]);for(;C--;)w[v++]=e[s++];return w}function jo(e,t,n,r){for(var s=-1,c=e.length,p=-1,v=n.length,_=-1,C=t.length,w=Ae(c-v,0),M=E(w+C),S=!r;++s<w;)M[s]=e[s];for(var F=s;++_<C;)M[F+_]=t[_];for(;++p<v;)(S||s<c)&&(M[F+n[p]]=e[s++]);return M}function Re(e,t){var n=-1,r=e.length;for(t||(t=E(r));++n<r;)t[n]=e[n];return t}function ut(e,t,n,r){var s=!n;n||(n={});for(var c=-1,p=t.length;++c<p;){var v=t[c],_=r?r(n[v],e[v],v,n,e):o;_===o&&(_=e[v]),s?pt(n,v,_):On(n,v,_)}return n}function ah(e,t){return ut(e,$i(e),t)}function uh(e,t){return ut(e,ha(e),t)}function vr(e,t){return function(n,r){var s=k(n)?hc:Sf,c=t?t():{};return s(n,e,N(r,2),c)}}function nn(e){return $(function(t,n){var r=-1,s=n.length,c=s>1?n[s-1]:o,p=s>2?n[2]:o;for(c=e.length>3&&typeof c=="function"?(s--,c):o,p&&Ie(n[0],n[1],p)&&(c=s<3?o:c,s=1),t=ne(t);++r<s;){var v=n[r];v&&e(t,v,r,c)}return t})}function ea(e,t){return function(n,r){if(n==null)return n;if(!xe(n))return e(n,r);for(var s=n.length,c=t?s:-1,p=ne(n);(t?c--:++c<s)&&r(p[c],c,p)!==!1;);return n}}function ta(e){return function(t,n,r){for(var s=-1,c=ne(t),p=r(t),v=p.length;v--;){var _=p[e?v:++s];if(n(c[_],_,c)===!1)break}return t}}function lh(e,t,n){var r=t&x,s=Ln(e);function c(){var p=this&&this!==Te&&this instanceof c?s:e;return p.apply(r?n:this,arguments)}return c}function na(e){return function(t){t=ee(t);var n=Yt(t)?nt(t):o,r=n?n[0]:t.charAt(0),s=n?Lt(n,1).join(""):t.slice(1);return r[e]()+s}}function rn(e){return function(t){return ui(eu(ja(t).replace(Ql,"")),e,"")}}function Ln(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=tn(e.prototype),r=e.apply(n,t);return ue(r)?r:n}}function ch(e,t,n){var r=Ln(e);function s(){for(var c=arguments.length,p=E(c),v=c,_=sn(s);v--;)p[v]=arguments[v];var C=c<3&&p[0]!==_&&p[c-1]!==_?[]:yt(p,_);if(c-=C.length,c<n)return aa(e,t,br,s.placeholder,o,p,C,o,o,n-c);var w=this&&this!==Te&&this instanceof s?r:e;return Be(w,this,p)}return s}function ra(e){return function(t,n,r){var s=ne(t);if(!xe(t)){var c=N(n,3);t=Ce(t),n=function(v){return c(s[v],v,s)}}var p=e(t,n,r);return p>-1?s[c?t[p]:p]:o}}function ia(e){return mt(function(t){var n=t.length,r=n,s=Je.prototype.thru;for(e&&t.reverse();r--;){var c=t[r];if(typeof c!="function")throw new qe(f);if(s&&!p&&Tr(c)=="wrapper")var p=new Je([],!0)}for(r=p?r:n;++r<n;){c=t[r];var v=Tr(c),_=v=="wrapper"?Hi(c):o;_&&qi(_[0])&&_[1]==(j|X|he|q)&&!_[4].length&&_[9]==1?p=p[Tr(_[0])].apply(p,_[3]):p=c.length==1&&qi(c)?p[v]():p.thru(c)}return function(){var C=arguments,w=C[0];if(p&&C.length==1&&k(w))return p.plant(w).value();for(var M=0,S=n?t[M].apply(this,C):w;++M<n;)S=t[M].call(this,S);return S}})}function br(e,t,n,r,s,c,p,v,_,C){var w=t&j,M=t&x,S=t&U,F=t&(X|fe),D=t&ae,z=S?o:Ln(e);function G(){for(var J=arguments.length,Y=E(J),We=J;We--;)Y[We]=arguments[We];if(F)var Se=sn(G),ke=Ac(Y,Se);if(r&&(Y=Qo(Y,r,s,F)),c&&(Y=jo(Y,c,p,F)),J-=ke,F&&J<C){var be=yt(Y,Se);return aa(e,t,br,G.placeholder,n,Y,be,v,_,C-J)}var st=M?n:this,Et=S?st[e]:e;return J=Y.length,v?Y=Sh(Y,v):D&&J>1&&Y.reverse(),w&&_<J&&(Y.length=_),this&&this!==Te&&this instanceof G&&(Et=z||Ln(Et)),Et.apply(st,Y)}return G}function sa(e,t){return function(n,r){return Gf(n,e,t(r),{})}}function _r(e,t){return function(n,r){var s;if(n===o&&r===o)return t;if(n!==o&&(s=n),r!==o){if(s===o)return r;typeof n=="string"||typeof r=="string"?(n=Ge(n),r=Ge(r)):(n=$o(n),r=$o(r)),s=e(n,r)}return s}}function Gi(e){return mt(function(t){return t=oe(t,De(N())),$(function(n){var r=this;return e(t,function(s){return Be(s,r,n)})})})}function Er(e,t){t=t===o?" ":Ge(t);var n=t.length;if(n<2)return n?Li(t,e):t;var r=Li(t,or(e/Xt(t)));return Yt(t)?Lt(nt(r),0,e).join(""):r.slice(0,e)}function fh(e,t,n,r){var s=t&x,c=Ln(e);function p(){for(var v=-1,_=arguments.length,C=-1,w=r.length,M=E(w+_),S=this&&this!==Te&&this instanceof p?c:e;++C<w;)M[C]=r[C];for(;_--;)M[C++]=arguments[++v];return Be(S,s?n:this,M)}return p}function oa(e){return function(t,n,r){return r&&typeof r!="number"&&Ie(t,n,r)&&(n=r=o),t=_t(t),n===o?(n=t,t=0):n=_t(n),r=r===o?t<n?1:-1:_t(r),Yf(t,n,r,e)}}function Ar(e){return function(t,n){return typeof t=="string"&&typeof n=="string"||(t=Xe(t),n=Xe(n)),e(t,n)}}function aa(e,t,n,r,s,c,p,v,_,C){var w=t&X,M=w?p:o,S=w?o:p,F=w?c:o,D=w?o:c;t|=w?he:ge,t&=~(w?ge:he),t&Z||(t&=~(x|U));var z=[e,t,s,F,M,D,S,v,_,C],G=n.apply(o,z);return qi(e)&&_a(G,z),G.placeholder=r,Ea(G,e,t)}function Ui(e){var t=Ee[e];return function(n,r){if(n=Xe(n),r=r==null?0:ye(H(r),292),r&&Eo(n)){var s=(ee(n)+"e").split("e"),c=t(s[0]+"e"+(+s[1]+r));return s=(ee(c)+"e").split("e"),+(s[0]+"e"+(+s[1]-r))}return t(n)}}var hh=jt&&1/Yn(new jt([,-0]))[1]==Nt?function(e){return new jt(e)}:as;function ua(e){return function(t){var n=Oe(t);return n==et?gi(t):n==tt?Pc(t):Ec(t,e(t))}}function gt(e,t,n,r,s,c,p,v){var _=t&U;if(!_&&typeof e!="function")throw new qe(f);var C=r?r.length:0;if(C||(t&=~(he|ge),r=s=o),p=p===o?p:Ae(H(p),0),v=v===o?v:H(v),C-=s?s.length:0,t&ge){var w=r,M=s;r=s=o}var S=_?o:Hi(e),F=[e,t,n,r,s,w,M,c,p,v];if(S&&Mh(F,S),e=F[0],t=F[1],n=F[2],r=F[3],s=F[4],v=F[9]=F[9]===o?_?0:e.length:Ae(F[9]-C,0),!v&&t&(X|fe)&&(t&=~(X|fe)),!t||t==x)var D=lh(e,t,n);else t==X||t==fe?D=ch(e,t,v):(t==he||t==(x|he))&&!s.length?D=fh(e,t,n,r):D=br.apply(o,F);var z=S?Ho:_a;return Ea(z(D,F),e,t)}function la(e,t,n,r){return e===o||it(e,Qt[n])&&!te.call(r,n)?t:e}function ca(e,t,n,r,s,c){return ue(e)&&ue(t)&&(c.set(t,e),pr(e,t,o,ca,c),c.delete(t)),e}function dh(e){return Fn(e)?o:e}function fa(e,t,n,r,s,c){var p=n&O,v=e.length,_=t.length;if(v!=_&&!(p&&_>v))return!1;var C=c.get(e),w=c.get(t);if(C&&w)return C==t&&w==e;var M=-1,S=!0,F=n&L?new Ut:o;for(c.set(e,t),c.set(t,e);++M<v;){var D=e[M],z=t[M];if(r)var G=p?r(z,D,M,t,e,c):r(D,z,M,e,t,c);if(G!==o){if(G)continue;S=!1;break}if(F){if(!li(t,function(J,Y){if(!En(F,Y)&&(D===J||s(D,J,n,r,c)))return F.push(Y)})){S=!1;break}}else if(!(D===z||s(D,z,n,r,c))){S=!1;break}}return c.delete(e),c.delete(t),S}function ph(e,t,n,r,s,c,p){switch(n){case Jt:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case _n:return!(e.byteLength!=t.byteLength||!c(new nr(e),new nr(t)));case dn:case pn:case gn:return it(+e,+t);case Hn:return e.name==t.name&&e.message==t.message;case mn:case vn:return e==t+"";case et:var v=gi;case tt:var _=r&O;if(v||(v=Yn),e.size!=t.size&&!_)return!1;var C=p.get(e);if(C)return C==t;r|=L,p.set(e,t);var w=fa(v(e),v(t),r,s,c,p);return p.delete(e),w;case $n:if(yn)return yn.call(e)==yn.call(t)}return!1}function gh(e,t,n,r,s,c){var p=n&O,v=Wi(e),_=v.length,C=Wi(t),w=C.length;if(_!=w&&!p)return!1;for(var M=_;M--;){var S=v[M];if(!(p?S in t:te.call(t,S)))return!1}var F=c.get(e),D=c.get(t);if(F&&D)return F==t&&D==e;var z=!0;c.set(e,t),c.set(t,e);for(var G=p;++M<_;){S=v[M];var J=e[S],Y=t[S];if(r)var We=p?r(Y,J,S,t,e,c):r(J,Y,S,e,t,c);if(!(We===o?J===Y||s(J,Y,n,r,c):We)){z=!1;break}G||(G=S=="constructor")}if(z&&!G){var Se=e.constructor,ke=t.constructor;Se!=ke&&"constructor"in e&&"constructor"in t&&!(typeof Se=="function"&&Se instanceof Se&&typeof ke=="function"&&ke instanceof ke)&&(z=!1)}return c.delete(e),c.delete(t),z}function mt(e){return Vi(va(e,o,Oa),e+"")}function Wi(e){return Lo(e,Ce,$i)}function ki(e){return Lo(e,Fe,ha)}var Hi=ur?function(e){return ur.get(e)}:as;function Tr(e){for(var t=e.name+"",n=en[t],r=te.call(en,t)?n.length:0;r--;){var s=n[r],c=s.func;if(c==null||c==e)return s.name}return t}function sn(e){var t=te.call(u,"placeholder")?u:e;return t.placeholder}function N(){var e=u.iteratee||ss;return e=e===ss?Fo:e,arguments.length?e(arguments[0],arguments[1]):e}function Cr(e,t){var n=e.__data__;return Ch(t)?n[typeof t=="string"?"string":"hash"]:n.map}function zi(e){for(var t=Ce(e),n=t.length;n--;){var r=t[n],s=e[r];t[n]=[r,s,ga(s)]}return t}function Ht(e,t){var n=yc(e,t);return xo(n)?n:o}function mh(e){var t=te.call(e,Dt),n=e[Dt];try{e[Dt]=o;var r=!0}catch(c){}var s=er.call(e);return r&&(t?e[Dt]=n:delete e[Dt]),s}var $i=vi?function(e){return e==null?[]:(e=ne(e),Ct(vi(e),function(t){return bo.call(e,t)}))}:us,ha=vi?function(e){for(var t=[];e;)wt(t,$i(e)),e=rr(e);return t}:us,Oe=Pe;(bi&&Oe(new bi(new ArrayBuffer(1)))!=Jt||Tn&&Oe(new Tn)!=et||_i&&Oe(_i.resolve())!=Ms||jt&&Oe(new jt)!=tt||Cn&&Oe(new Cn)!=bn)&&(Oe=function(e){var t=Pe(e),n=t==ft?e.constructor:o,r=n?zt(n):"";if(r)switch(r){case Xc:return Jt;case Qc:return et;case jc:return Ms;case ef:return tt;case tf:return bn}return t});function vh(e,t,n){for(var r=-1,s=n.length;++r<s;){var c=n[r],p=c.size;switch(c.type){case"drop":e+=p;break;case"dropRight":t-=p;break;case"take":t=ye(t,e+p);break;case"takeRight":e=Ae(e,t-p);break}}return{start:e,end:t}}function bh(e){var t=e.match(Cl);return t?t[1].split(wl):[]}function da(e,t,n){t=St(t,e);for(var r=-1,s=t.length,c=!1;++r<s;){var p=lt(t[r]);if(!(c=e!=null&&n(e,p)))break;e=e[p]}return c||++r!=s?c:(s=e==null?0:e.length,!!s&&Sr(s)&&vt(p,s)&&(k(e)||$t(e)))}function _h(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&te.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function pa(e){return typeof e.constructor=="function"&&!Rn(e)?tn(rr(e)):{}}function Eh(e,t,n){var r=e.constructor;switch(t){case _n:return Di(e);case dn:case pn:return new r(+e);case Jt:return rh(e,n);case zr:case $r:case Kr:case qr:case Jr:case Vr:case Zr:case Yr:case Xr:return Yo(e,n);case et:return new r;case gn:case vn:return new r(e);case mn:return ih(e);case tt:return new r;case $n:return sh(e)}}function Ah(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Tl,`{
/* [wrapped with `+t+`] */
`)}function Th(e){return k(e)||$t(e)||!!(_o&&e&&e[_o])}function vt(e,t){var n=typeof e;return t=t==null?Tt:t,!!t&&(n=="number"||n!="symbol"&&xl.test(e))&&e>-1&&e%1==0&&e<t}function Ie(e,t,n){if(!ue(n))return!1;var r=typeof t;return(r=="number"?xe(n)&&vt(t,n.length):r=="string"&&t in n)?it(n[t],e):!1}function Ki(e,t){if(k(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Ue(e)?!0:bl.test(e)||!vl.test(e)||t!=null&&e in ne(t)}function Ch(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function qi(e){var t=Tr(e),n=u[t];if(typeof n!="function"||!(t in V.prototype))return!1;if(e===n)return!0;var r=Hi(n);return!!r&&e===r[0]}function wh(e){return!!go&&go in e}var yh=Qn?bt:ls;function Rn(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||Qt;return e===n}function ga(e){return e===e&&!ue(e)}function ma(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==o||e in ne(n))}}function Oh(e){var t=Pr(e,function(r){return n.size===l&&n.clear(),r}),n=t.cache;return t}function Mh(e,t){var n=e[1],r=t[1],s=n|r,c=s<(x|U|j),p=r==j&&n==X||r==j&&n==q&&e[7].length<=t[8]||r==(j|q)&&t[7].length<=t[8]&&n==X;if(!(c||p))return e;r&x&&(e[2]=t[2],s|=n&x?0:Z);var v=t[3];if(v){var _=e[3];e[3]=_?Qo(_,v,t[4]):v,e[4]=_?yt(e[3],h):t[4]}return v=t[5],v&&(_=e[5],e[5]=_?jo(_,v,t[6]):v,e[6]=_?yt(e[5],h):t[6]),v=t[7],v&&(e[7]=v),r&j&&(e[8]=e[8]==null?t[8]:ye(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=s,e}function Ph(e){var t=[];if(e!=null)for(var n in ne(e))t.push(n);return t}function Ih(e){return er.call(e)}function va(e,t,n){return t=Ae(t===o?e.length-1:t,0),function(){for(var r=arguments,s=-1,c=Ae(r.length-t,0),p=E(c);++s<c;)p[s]=r[t+s];s=-1;for(var v=E(t+1);++s<t;)v[s]=r[s];return v[t]=n(p),Be(e,this,v)}}function ba(e,t){return t.length<2?e:kt(e,Ze(t,0,-1))}function Sh(e,t){for(var n=e.length,r=ye(t.length,n),s=Re(e);r--;){var c=t[r];e[r]=vt(c,n)?s[c]:o}return e}function Ji(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var _a=Aa(Ho),xn=$c||function(e,t){return Te.setTimeout(e,t)},Vi=Aa(jf);function Ea(e,t,n){var r=t+"";return Vi(e,Ah(r,Lh(bh(r),n)))}function Aa(e){var t=0,n=0;return function(){var r=Vc(),s=Ft-(r-n);if(n=r,s>0){if(++t>=ze)return arguments[0]}else t=0;return e.apply(o,arguments)}}function wr(e,t){var n=-1,r=e.length,s=r-1;for(t=t===o?r:t;++n<t;){var c=Si(n,s),p=e[c];e[c]=e[n],e[n]=p}return e.length=t,e}var Ta=Oh(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(_l,function(n,r,s,c){t.push(s?c.replace(Ml,"$1"):r||n)}),t});function lt(e){if(typeof e=="string"||Ue(e))return e;var t=e+"";return t=="0"&&1/e==-Nt?"-0":t}function zt(e){if(e!=null){try{return jn.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Lh(e,t){return Ke(rl,function(n){var r="_."+n[0];t&n[1]&&!Vn(e,r)&&e.push(r)}),e.sort()}function Ca(e){if(e instanceof V)return e.clone();var t=new Je(e.__wrapped__,e.__chain__);return t.__actions__=Re(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function Rh(e,t,n){(n?Ie(e,t,n):t===o)?t=1:t=Ae(H(t),0);var r=e==null?0:e.length;if(!r||t<1)return[];for(var s=0,c=0,p=E(or(r/t));s<r;)p[c++]=Ze(e,s,s+=t);return p}function xh(e){for(var t=-1,n=e==null?0:e.length,r=0,s=[];++t<n;){var c=e[t];c&&(s[r++]=c)}return s}function Fh(){var e=arguments.length;if(!e)return[];for(var t=E(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return wt(k(n)?Re(n):[n],we(t,1))}var Nh=$(function(e,t){return ve(e)?Mn(e,we(t,1,ve,!0)):[]}),Bh=$(function(e,t){var n=Ye(t);return ve(n)&&(n=o),ve(e)?Mn(e,we(t,1,ve,!0),N(n,2)):[]}),Dh=$(function(e,t){var n=Ye(t);return ve(n)&&(n=o),ve(e)?Mn(e,we(t,1,ve,!0),o,n):[]});function Gh(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===o?1:H(t),Ze(e,t<0?0:t,r)):[]}function Uh(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===o?1:H(t),t=r-t,Ze(e,0,t<0?0:t)):[]}function Wh(e,t){return e&&e.length?mr(e,N(t,3),!0,!0):[]}function kh(e,t){return e&&e.length?mr(e,N(t,3),!0):[]}function Hh(e,t,n,r){var s=e==null?0:e.length;return s?(n&&typeof n!="number"&&Ie(e,t,n)&&(n=0,r=s),Ff(e,t,n,r)):[]}function wa(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var s=n==null?0:H(n);return s<0&&(s=Ae(r+s,0)),Zn(e,N(t,3),s)}function ya(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var s=r-1;return n!==o&&(s=H(n),s=n<0?Ae(r+s,0):ye(s,r-1)),Zn(e,N(t,3),s,!0)}function Oa(e){var t=e==null?0:e.length;return t?we(e,1):[]}function zh(e){var t=e==null?0:e.length;return t?we(e,Nt):[]}function $h(e,t){var n=e==null?0:e.length;return n?(t=t===o?1:H(t),we(e,t)):[]}function Kh(e){for(var t=-1,n=e==null?0:e.length,r={};++t<n;){var s=e[t];r[s[0]]=s[1]}return r}function Ma(e){return e&&e.length?e[0]:o}function qh(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var s=n==null?0:H(n);return s<0&&(s=Ae(r+s,0)),Zt(e,t,s)}function Jh(e){var t=e==null?0:e.length;return t?Ze(e,0,-1):[]}var Vh=$(function(e){var t=oe(e,Ni);return t.length&&t[0]===e[0]?yi(t):[]}),Zh=$(function(e){var t=Ye(e),n=oe(e,Ni);return t===Ye(n)?t=o:n.pop(),n.length&&n[0]===e[0]?yi(n,N(t,2)):[]}),Yh=$(function(e){var t=Ye(e),n=oe(e,Ni);return t=typeof t=="function"?t:o,t&&n.pop(),n.length&&n[0]===e[0]?yi(n,o,t):[]});function Xh(e,t){return e==null?"":qc.call(e,t)}function Ye(e){var t=e==null?0:e.length;return t?e[t-1]:o}function Qh(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var s=r;return n!==o&&(s=H(n),s=s<0?Ae(r+s,0):ye(s,r-1)),t===t?Sc(e,t,s):Zn(e,oo,s,!0)}function jh(e,t){return e&&e.length?Go(e,H(t)):o}var ed=$(Pa);function Pa(e,t){return e&&e.length&&t&&t.length?Ii(e,t):e}function td(e,t,n){return e&&e.length&&t&&t.length?Ii(e,t,N(n,2)):e}function nd(e,t,n){return e&&e.length&&t&&t.length?Ii(e,t,o,n):e}var rd=mt(function(e,t){var n=e==null?0:e.length,r=Ai(e,t);return ko(e,oe(t,function(s){return vt(s,n)?+s:s}).sort(Xo)),r});function id(e,t){var n=[];if(!(e&&e.length))return n;var r=-1,s=[],c=e.length;for(t=N(t,3);++r<c;){var p=e[r];t(p,r,e)&&(n.push(p),s.push(r))}return ko(e,s),n}function Zi(e){return e==null?e:Yc.call(e)}function sd(e,t,n){var r=e==null?0:e.length;return r?(n&&typeof n!="number"&&Ie(e,t,n)?(t=0,n=r):(t=t==null?0:H(t),n=n===o?r:H(n)),Ze(e,t,n)):[]}function od(e,t){return gr(e,t)}function ad(e,t,n){return Ri(e,t,N(n,2))}function ud(e,t){var n=e==null?0:e.length;if(n){var r=gr(e,t);if(r<n&&it(e[r],t))return r}return-1}function ld(e,t){return gr(e,t,!0)}function cd(e,t,n){return Ri(e,t,N(n,2),!0)}function fd(e,t){var n=e==null?0:e.length;if(n){var r=gr(e,t,!0)-1;if(it(e[r],t))return r}return-1}function hd(e){return e&&e.length?zo(e):[]}function dd(e,t){return e&&e.length?zo(e,N(t,2)):[]}function pd(e){var t=e==null?0:e.length;return t?Ze(e,1,t):[]}function gd(e,t,n){return e&&e.length?(t=n||t===o?1:H(t),Ze(e,0,t<0?0:t)):[]}function md(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===o?1:H(t),t=r-t,Ze(e,t<0?0:t,r)):[]}function vd(e,t){return e&&e.length?mr(e,N(t,3),!1,!0):[]}function bd(e,t){return e&&e.length?mr(e,N(t,3)):[]}var _d=$(function(e){return It(we(e,1,ve,!0))}),Ed=$(function(e){var t=Ye(e);return ve(t)&&(t=o),It(we(e,1,ve,!0),N(t,2))}),Ad=$(function(e){var t=Ye(e);return t=typeof t=="function"?t:o,It(we(e,1,ve,!0),o,t)});function Td(e){return e&&e.length?It(e):[]}function Cd(e,t){return e&&e.length?It(e,N(t,2)):[]}function wd(e,t){return t=typeof t=="function"?t:o,e&&e.length?It(e,o,t):[]}function Yi(e){if(!(e&&e.length))return[];var t=0;return e=Ct(e,function(n){if(ve(n))return t=Ae(n.length,t),!0}),di(t,function(n){return oe(e,ci(n))})}function Ia(e,t){if(!(e&&e.length))return[];var n=Yi(e);return t==null?n:oe(n,function(r){return Be(t,o,r)})}var yd=$(function(e,t){return ve(e)?Mn(e,t):[]}),Od=$(function(e){return Fi(Ct(e,ve))}),Md=$(function(e){var t=Ye(e);return ve(t)&&(t=o),Fi(Ct(e,ve),N(t,2))}),Pd=$(function(e){var t=Ye(e);return t=typeof t=="function"?t:o,Fi(Ct(e,ve),o,t)}),Id=$(Yi);function Sd(e,t){return Jo(e||[],t||[],On)}function Ld(e,t){return Jo(e||[],t||[],Sn)}var Rd=$(function(e){var t=e.length,n=t>1?e[t-1]:o;return n=typeof n=="function"?(e.pop(),n):o,Ia(e,n)});function Sa(e){var t=u(e);return t.__chain__=!0,t}function xd(e,t){return t(e),e}function yr(e,t){return t(e)}var Fd=mt(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,s=function(c){return Ai(c,e)};return t>1||this.__actions__.length||!(r instanceof V)||!vt(n)?this.thru(s):(r=r.slice(n,+n+(t?1:0)),r.__actions__.push({func:yr,args:[s],thisArg:o}),new Je(r,this.__chain__).thru(function(c){return t&&!c.length&&c.push(o),c}))});function Nd(){return Sa(this)}function Bd(){return new Je(this.value(),this.__chain__)}function Dd(){this.__values__===o&&(this.__values__=$a(this.value()));var e=this.__index__>=this.__values__.length,t=e?o:this.__values__[this.__index__++];return{done:e,value:t}}function Gd(){return this}function Ud(e){for(var t,n=this;n instanceof cr;){var r=Ca(n);r.__index__=0,r.__values__=o,t?s.__wrapped__=r:t=r;var s=r;n=n.__wrapped__}return s.__wrapped__=e,t}function Wd(){var e=this.__wrapped__;if(e instanceof V){var t=e;return this.__actions__.length&&(t=new V(this)),t=t.reverse(),t.__actions__.push({func:yr,args:[Zi],thisArg:o}),new Je(t,this.__chain__)}return this.thru(Zi)}function kd(){return qo(this.__wrapped__,this.__actions__)}var Hd=vr(function(e,t,n){te.call(e,n)?++e[n]:pt(e,n,1)});function zd(e,t,n){var r=k(e)?io:xf;return n&&Ie(e,t,n)&&(t=o),r(e,N(t,3))}function $d(e,t){var n=k(e)?Ct:Io;return n(e,N(t,3))}var Kd=ra(wa),qd=ra(ya);function Jd(e,t){return we(Or(e,t),1)}function Vd(e,t){return we(Or(e,t),Nt)}function Zd(e,t,n){return n=n===o?1:H(n),we(Or(e,t),n)}function La(e,t){var n=k(e)?Ke:Pt;return n(e,N(t,3))}function Ra(e,t){var n=k(e)?dc:Po;return n(e,N(t,3))}var Yd=vr(function(e,t,n){te.call(e,n)?e[n].push(t):pt(e,n,[t])});function Xd(e,t,n,r){e=xe(e)?e:an(e),n=n&&!r?H(n):0;var s=e.length;return n<0&&(n=Ae(s+n,0)),Lr(e)?n<=s&&e.indexOf(t,n)>-1:!!s&&Zt(e,t,n)>-1}var Qd=$(function(e,t,n){var r=-1,s=typeof t=="function",c=xe(e)?E(e.length):[];return Pt(e,function(p){c[++r]=s?Be(t,p,n):Pn(p,t,n)}),c}),jd=vr(function(e,t,n){pt(e,n,t)});function Or(e,t){var n=k(e)?oe:No;return n(e,N(t,3))}function ep(e,t,n,r){return e==null?[]:(k(t)||(t=t==null?[]:[t]),n=r?o:n,k(n)||(n=n==null?[]:[n]),Uo(e,t,n))}var tp=vr(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});function np(e,t,n){var r=k(e)?ui:uo,s=arguments.length<3;return r(e,N(t,4),n,s,Pt)}function rp(e,t,n){var r=k(e)?pc:uo,s=arguments.length<3;return r(e,N(t,4),n,s,Po)}function ip(e,t){var n=k(e)?Ct:Io;return n(e,Ir(N(t,3)))}function sp(e){var t=k(e)?wo:Xf;return t(e)}function op(e,t,n){(n?Ie(e,t,n):t===o)?t=1:t=H(t);var r=k(e)?Pf:Qf;return r(e,t)}function ap(e){var t=k(e)?If:eh;return t(e)}function up(e){if(e==null)return 0;if(xe(e))return Lr(e)?Xt(e):e.length;var t=Oe(e);return t==et||t==tt?e.size:Mi(e).length}function lp(e,t,n){var r=k(e)?li:th;return n&&Ie(e,t,n)&&(t=o),r(e,N(t,3))}var cp=$(function(e,t){if(e==null)return[];var n=t.length;return n>1&&Ie(e,t[0],t[1])?t=[]:n>2&&Ie(t[0],t[1],t[2])&&(t=[t[0]]),Uo(e,we(t,1),[])}),Mr=zc||function(){return Te.Date.now()};function fp(e,t){if(typeof t!="function")throw new qe(f);return e=H(e),function(){if(--e<1)return t.apply(this,arguments)}}function xa(e,t,n){return t=n?o:t,t=e&&t==null?e.length:t,gt(e,j,o,o,o,o,t)}function Fa(e,t){var n;if(typeof t!="function")throw new qe(f);return e=H(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=o),n}}var Xi=$(function(e,t,n){var r=x;if(n.length){var s=yt(n,sn(Xi));r|=he}return gt(e,r,t,n,s)}),Na=$(function(e,t,n){var r=x|U;if(n.length){var s=yt(n,sn(Na));r|=he}return gt(t,r,e,n,s)});function Ba(e,t,n){t=n?o:t;var r=gt(e,X,o,o,o,o,o,t);return r.placeholder=Ba.placeholder,r}function Da(e,t,n){t=n?o:t;var r=gt(e,fe,o,o,o,o,o,t);return r.placeholder=Da.placeholder,r}function Ga(e,t,n){var r,s,c,p,v,_,C=0,w=!1,M=!1,S=!0;if(typeof e!="function")throw new qe(f);t=Xe(t)||0,ue(n)&&(w=!!n.leading,M="maxWait"in n,c=M?Ae(Xe(n.maxWait)||0,t):c,S="trailing"in n?!!n.trailing:S);function F(be){var st=r,Et=s;return r=s=o,C=be,p=e.apply(Et,st),p}function D(be){return C=be,v=xn(J,t),w?F(be):p}function z(be){var st=be-_,Et=be-C,ru=t-st;return M?ye(ru,c-Et):ru}function G(be){var st=be-_,Et=be-C;return _===o||st>=t||st<0||M&&Et>=c}function J(){var be=Mr();if(G(be))return Y(be);v=xn(J,z(be))}function Y(be){return v=o,S&&r?F(be):(r=s=o,p)}function We(){v!==o&&Vo(v),C=0,r=_=s=v=o}function Se(){return v===o?p:Y(Mr())}function ke(){var be=Mr(),st=G(be);if(r=arguments,s=this,_=be,st){if(v===o)return D(_);if(M)return Vo(v),v=xn(J,t),F(_)}return v===o&&(v=xn(J,t)),p}return ke.cancel=We,ke.flush=Se,ke}var hp=$(function(e,t){return Mo(e,1,t)}),dp=$(function(e,t,n){return Mo(e,Xe(t)||0,n)});function pp(e){return gt(e,ae)}function Pr(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new qe(f);var n=function(){var r=arguments,s=t?t.apply(this,r):r[0],c=n.cache;if(c.has(s))return c.get(s);var p=e.apply(this,r);return n.cache=c.set(s,p)||c,p};return n.cache=new(Pr.Cache||dt),n}Pr.Cache=dt;function Ir(e){if(typeof e!="function")throw new qe(f);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function gp(e){return Fa(2,e)}var mp=nh(function(e,t){t=t.length==1&&k(t[0])?oe(t[0],De(N())):oe(we(t,1),De(N()));var n=t.length;return $(function(r){for(var s=-1,c=ye(r.length,n);++s<c;)r[s]=t[s].call(this,r[s]);return Be(e,this,r)})}),Qi=$(function(e,t){var n=yt(t,sn(Qi));return gt(e,he,o,t,n)}),Ua=$(function(e,t){var n=yt(t,sn(Ua));return gt(e,ge,o,t,n)}),vp=mt(function(e,t){return gt(e,q,o,o,o,t)});function bp(e,t){if(typeof e!="function")throw new qe(f);return t=t===o?t:H(t),$(e,t)}function _p(e,t){if(typeof e!="function")throw new qe(f);return t=t==null?0:Ae(H(t),0),$(function(n){var r=n[t],s=Lt(n,0,t);return r&&wt(s,r),Be(e,this,s)})}function Ep(e,t,n){var r=!0,s=!0;if(typeof e!="function")throw new qe(f);return ue(n)&&(r="leading"in n?!!n.leading:r,s="trailing"in n?!!n.trailing:s),Ga(e,t,{leading:r,maxWait:t,trailing:s})}function Ap(e){return xa(e,1)}function Tp(e,t){return Qi(Bi(t),e)}function Cp(){if(!arguments.length)return[];var e=arguments[0];return k(e)?e:[e]}function wp(e){return Ve(e,y)}function yp(e,t){return t=typeof t=="function"?t:o,Ve(e,y,t)}function Op(e){return Ve(e,m|y)}function Mp(e,t){return t=typeof t=="function"?t:o,Ve(e,m|y,t)}function Pp(e,t){return t==null||Oo(e,t,Ce(t))}function it(e,t){return e===t||e!==e&&t!==t}var Ip=Ar(wi),Sp=Ar(function(e,t){return e>=t}),$t=Ro(function(){return arguments}())?Ro:function(e){return pe(e)&&te.call(e,"callee")&&!bo.call(e,"callee")},k=E.isArray,Lp=Qs?De(Qs):Uf;function xe(e){return e!=null&&Sr(e.length)&&!bt(e)}function ve(e){return pe(e)&&xe(e)}function Rp(e){return e===!0||e===!1||pe(e)&&Pe(e)==dn}var Rt=Kc||ls,xp=js?De(js):Wf;function Fp(e){return pe(e)&&e.nodeType===1&&!Fn(e)}function Np(e){if(e==null)return!0;if(xe(e)&&(k(e)||typeof e=="string"||typeof e.splice=="function"||Rt(e)||on(e)||$t(e)))return!e.length;var t=Oe(e);if(t==et||t==tt)return!e.size;if(Rn(e))return!Mi(e).length;for(var n in e)if(te.call(e,n))return!1;return!0}function Bp(e,t){return In(e,t)}function Dp(e,t,n){n=typeof n=="function"?n:o;var r=n?n(e,t):o;return r===o?In(e,t,o,n):!!r}function ji(e){if(!pe(e))return!1;var t=Pe(e);return t==Hn||t==sl||typeof e.message=="string"&&typeof e.name=="string"&&!Fn(e)}function Gp(e){return typeof e=="number"&&Eo(e)}function bt(e){if(!ue(e))return!1;var t=Pe(e);return t==zn||t==Os||t==il||t==al}function Wa(e){return typeof e=="number"&&e==H(e)}function Sr(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Tt}function ue(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function pe(e){return e!=null&&typeof e=="object"}var ka=eo?De(eo):Hf;function Up(e,t){return e===t||Oi(e,t,zi(t))}function Wp(e,t,n){return n=typeof n=="function"?n:o,Oi(e,t,zi(t),n)}function kp(e){return Ha(e)&&e!=+e}function Hp(e){if(yh(e))throw new W(d);return xo(e)}function zp(e){return e===null}function $p(e){return e==null}function Ha(e){return typeof e=="number"||pe(e)&&Pe(e)==gn}function Fn(e){if(!pe(e)||Pe(e)!=ft)return!1;var t=rr(e);if(t===null)return!0;var n=te.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&jn.call(n)==Uc}var es=to?De(to):zf;function Kp(e){return Wa(e)&&e>=-Tt&&e<=Tt}var za=no?De(no):$f;function Lr(e){return typeof e=="string"||!k(e)&&pe(e)&&Pe(e)==vn}function Ue(e){return typeof e=="symbol"||pe(e)&&Pe(e)==$n}var on=ro?De(ro):Kf;function qp(e){return e===o}function Jp(e){return pe(e)&&Oe(e)==bn}function Vp(e){return pe(e)&&Pe(e)==ll}var Zp=Ar(Pi),Yp=Ar(function(e,t){return e<=t});function $a(e){if(!e)return[];if(xe(e))return Lr(e)?nt(e):Re(e);if(An&&e[An])return Mc(e[An]());var t=Oe(e),n=t==et?gi:t==tt?Yn:an;return n(e)}function _t(e){if(!e)return e===0?e:0;if(e=Xe(e),e===Nt||e===-Nt){var t=e<0?-1:1;return t*el}return e===e?e:0}function H(e){var t=_t(e),n=t%1;return t===t?n?t-n:t:0}function Ka(e){return e?Wt(H(e),0,ot):0}function Xe(e){if(typeof e=="number")return e;if(Ue(e))return Wn;if(ue(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ue(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=lo(e);var n=Sl.test(e);return n||Rl.test(e)?cc(e.slice(2),n?2:8):Il.test(e)?Wn:+e}function qa(e){return ut(e,Fe(e))}function Xp(e){return e?Wt(H(e),-Tt,Tt):e===0?e:0}function ee(e){return e==null?"":Ge(e)}var Qp=nn(function(e,t){if(Rn(t)||xe(t)){ut(t,Ce(t),e);return}for(var n in t)te.call(t,n)&&On(e,n,t[n])}),Ja=nn(function(e,t){ut(t,Fe(t),e)}),Rr=nn(function(e,t,n,r){ut(t,Fe(t),e,r)}),jp=nn(function(e,t,n,r){ut(t,Ce(t),e,r)}),eg=mt(Ai);function tg(e,t){var n=tn(e);return t==null?n:yo(n,t)}var ng=$(function(e,t){e=ne(e);var n=-1,r=t.length,s=r>2?t[2]:o;for(s&&Ie(t[0],t[1],s)&&(r=1);++n<r;)for(var c=t[n],p=Fe(c),v=-1,_=p.length;++v<_;){var C=p[v],w=e[C];(w===o||it(w,Qt[C])&&!te.call(e,C))&&(e[C]=c[C])}return e}),rg=$(function(e){return e.push(o,ca),Be(Va,o,e)});function ig(e,t){return so(e,N(t,3),at)}function sg(e,t){return so(e,N(t,3),Ci)}function og(e,t){return e==null?e:Ti(e,N(t,3),Fe)}function ag(e,t){return e==null?e:So(e,N(t,3),Fe)}function ug(e,t){return e&&at(e,N(t,3))}function lg(e,t){return e&&Ci(e,N(t,3))}function cg(e){return e==null?[]:dr(e,Ce(e))}function fg(e){return e==null?[]:dr(e,Fe(e))}function ts(e,t,n){var r=e==null?o:kt(e,t);return r===o?n:r}function hg(e,t){return e!=null&&da(e,t,Nf)}function ns(e,t){return e!=null&&da(e,t,Bf)}var dg=sa(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=er.call(t)),e[t]=n},is(Ne)),pg=sa(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=er.call(t)),te.call(e,t)?e[t].push(n):e[t]=[n]},N),gg=$(Pn);function Ce(e){return xe(e)?Co(e):Mi(e)}function Fe(e){return xe(e)?Co(e,!0):qf(e)}function mg(e,t){var n={};return t=N(t,3),at(e,function(r,s,c){pt(n,t(r,s,c),r)}),n}function vg(e,t){var n={};return t=N(t,3),at(e,function(r,s,c){pt(n,s,t(r,s,c))}),n}var bg=nn(function(e,t,n){pr(e,t,n)}),Va=nn(function(e,t,n,r){pr(e,t,n,r)}),_g=mt(function(e,t){var n={};if(e==null)return n;var r=!1;t=oe(t,function(c){return c=St(c,e),r||(r=c.length>1),c}),ut(e,ki(e),n),r&&(n=Ve(n,m|I|y,dh));for(var s=t.length;s--;)xi(n,t[s]);return n});function Eg(e,t){return Za(e,Ir(N(t)))}var Ag=mt(function(e,t){return e==null?{}:Vf(e,t)});function Za(e,t){if(e==null)return{};var n=oe(ki(e),function(r){return[r]});return t=N(t),Wo(e,n,function(r,s){return t(r,s[0])})}function Tg(e,t,n){t=St(t,e);var r=-1,s=t.length;for(s||(s=1,e=o);++r<s;){var c=e==null?o:e[lt(t[r])];c===o&&(r=s,c=n),e=bt(c)?c.call(e):c}return e}function Cg(e,t,n){return e==null?e:Sn(e,t,n)}function wg(e,t,n,r){return r=typeof r=="function"?r:o,e==null?e:Sn(e,t,n,r)}var Ya=ua(Ce),Xa=ua(Fe);function yg(e,t,n){var r=k(e),s=r||Rt(e)||on(e);if(t=N(t,4),n==null){var c=e&&e.constructor;s?n=r?new c:[]:ue(e)?n=bt(c)?tn(rr(e)):{}:n={}}return(s?Ke:at)(e,function(p,v,_){return t(n,p,v,_)}),n}function Og(e,t){return e==null?!0:xi(e,t)}function Mg(e,t,n){return e==null?e:Ko(e,t,Bi(n))}function Pg(e,t,n,r){return r=typeof r=="function"?r:o,e==null?e:Ko(e,t,Bi(n),r)}function an(e){return e==null?[]:pi(e,Ce(e))}function Ig(e){return e==null?[]:pi(e,Fe(e))}function Sg(e,t,n){return n===o&&(n=t,t=o),n!==o&&(n=Xe(n),n=n===n?n:0),t!==o&&(t=Xe(t),t=t===t?t:0),Wt(Xe(e),t,n)}function Lg(e,t,n){return t=_t(t),n===o?(n=t,t=0):n=_t(n),e=Xe(e),Df(e,t,n)}function Rg(e,t,n){if(n&&typeof n!="boolean"&&Ie(e,t,n)&&(t=n=o),n===o&&(typeof t=="boolean"?(n=t,t=o):typeof e=="boolean"&&(n=e,e=o)),e===o&&t===o?(e=0,t=1):(e=_t(e),t===o?(t=e,e=0):t=_t(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var s=Ao();return ye(e+s*(t-e+lc("1e-"+((s+"").length-1))),t)}return Si(e,t)}var xg=rn(function(e,t,n){return t=t.toLowerCase(),e+(n?Qa(t):t)});function Qa(e){return rs(ee(e).toLowerCase())}function ja(e){return e=ee(e),e&&e.replace(Fl,Tc).replace(jl,"")}function Fg(e,t,n){e=ee(e),t=Ge(t);var r=e.length;n=n===o?r:Wt(H(n),0,r);var s=n;return n-=t.length,n>=0&&e.slice(n,s)==t}function Ng(e){return e=ee(e),e&&pl.test(e)?e.replace(Is,Cc):e}function Bg(e){return e=ee(e),e&&El.test(e)?e.replace(Qr,"\\$&"):e}var Dg=rn(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Gg=rn(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Ug=na("toLowerCase");function Wg(e,t,n){e=ee(e),t=H(t);var r=t?Xt(e):0;if(!t||r>=t)return e;var s=(t-r)/2;return Er(ar(s),n)+e+Er(or(s),n)}function kg(e,t,n){e=ee(e),t=H(t);var r=t?Xt(e):0;return t&&r<t?e+Er(t-r,n):e}function Hg(e,t,n){e=ee(e),t=H(t);var r=t?Xt(e):0;return t&&r<t?Er(t-r,n)+e:e}function zg(e,t,n){return n||t==null?t=0:t&&(t=+t),Zc(ee(e).replace(jr,""),t||0)}function $g(e,t,n){return(n?Ie(e,t,n):t===o)?t=1:t=H(t),Li(ee(e),t)}function Kg(){var e=arguments,t=ee(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var qg=rn(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});function Jg(e,t,n){return n&&typeof n!="number"&&Ie(e,t,n)&&(t=n=o),n=n===o?ot:n>>>0,n?(e=ee(e),e&&(typeof t=="string"||t!=null&&!es(t))&&(t=Ge(t),!t&&Yt(e))?Lt(nt(e),0,n):e.split(t,n)):[]}var Vg=rn(function(e,t,n){return e+(n?" ":"")+rs(t)});function Zg(e,t,n){return e=ee(e),n=n==null?0:Wt(H(n),0,e.length),t=Ge(t),e.slice(n,n+t.length)==t}function Yg(e,t,n){var r=u.templateSettings;n&&Ie(e,t,n)&&(t=o),e=ee(e),t=Rr({},t,r,la);var s=Rr({},t.imports,r.imports,la),c=Ce(s),p=pi(s,c),v,_,C=0,w=t.interpolate||Kn,M="__p += '",S=mi((t.escape||Kn).source+"|"+w.source+"|"+(w===Ss?Pl:Kn).source+"|"+(t.evaluate||Kn).source+"|$","g"),F="//# sourceURL="+(te.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ic+"]")+`
`;e.replace(S,function(G,J,Y,We,Se,ke){return Y||(Y=We),M+=e.slice(C,ke).replace(Nl,wc),J&&(v=!0,M+=`' +
__e(`+J+`) +
'`),Se&&(_=!0,M+=`';
`+Se+`;
__p += '`),Y&&(M+=`' +
((__t = (`+Y+`)) == null ? '' : __t) +
'`),C=ke+G.length,G}),M+=`';
`;var D=te.call(t,"variable")&&t.variable;if(!D)M=`with (obj) {
`+M+`
}
`;else if(Ol.test(D))throw new W(g);M=(_?M.replace(cl,""):M).replace(fl,"$1").replace(hl,"$1;"),M="function("+(D||"obj")+`) {
`+(D?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(v?", __e = _.escape":"")+(_?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+M+`return __p
}`;var z=tu(function(){return Q(c,F+"return "+M).apply(o,p)});if(z.source=M,ji(z))throw z;return z}function Xg(e){return ee(e).toLowerCase()}function Qg(e){return ee(e).toUpperCase()}function jg(e,t,n){if(e=ee(e),e&&(n||t===o))return lo(e);if(!e||!(t=Ge(t)))return e;var r=nt(e),s=nt(t),c=co(r,s),p=fo(r,s)+1;return Lt(r,c,p).join("")}function em(e,t,n){if(e=ee(e),e&&(n||t===o))return e.slice(0,po(e)+1);if(!e||!(t=Ge(t)))return e;var r=nt(e),s=fo(r,nt(t))+1;return Lt(r,0,s).join("")}function tm(e,t,n){if(e=ee(e),e&&(n||t===o))return e.replace(jr,"");if(!e||!(t=Ge(t)))return e;var r=nt(e),s=co(r,nt(t));return Lt(r,s).join("")}function nm(e,t){var n=me,r=de;if(ue(t)){var s="separator"in t?t.separator:s;n="length"in t?H(t.length):n,r="omission"in t?Ge(t.omission):r}e=ee(e);var c=e.length;if(Yt(e)){var p=nt(e);c=p.length}if(n>=c)return e;var v=n-Xt(r);if(v<1)return r;var _=p?Lt(p,0,v).join(""):e.slice(0,v);if(s===o)return _+r;if(p&&(v+=_.length-v),es(s)){if(e.slice(v).search(s)){var C,w=_;for(s.global||(s=mi(s.source,ee(Ls.exec(s))+"g")),s.lastIndex=0;C=s.exec(w);)var M=C.index;_=_.slice(0,M===o?v:M)}}else if(e.indexOf(Ge(s),v)!=v){var S=_.lastIndexOf(s);S>-1&&(_=_.slice(0,S))}return _+r}function rm(e){return e=ee(e),e&&dl.test(e)?e.replace(Ps,Lc):e}var im=rn(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),rs=na("toUpperCase");function eu(e,t,n){return e=ee(e),t=n?o:t,t===o?Oc(e)?Fc(e):vc(e):e.match(t)||[]}var tu=$(function(e,t){try{return Be(e,o,t)}catch(n){return ji(n)?n:new W(n)}}),sm=mt(function(e,t){return Ke(t,function(n){n=lt(n),pt(e,n,Xi(e[n],e))}),e});function om(e){var t=e==null?0:e.length,n=N();return e=t?oe(e,function(r){if(typeof r[1]!="function")throw new qe(f);return[n(r[0]),r[1]]}):[],$(function(r){for(var s=-1;++s<t;){var c=e[s];if(Be(c[0],this,r))return Be(c[1],this,r)}})}function am(e){return Rf(Ve(e,m))}function is(e){return function(){return e}}function um(e,t){return e==null||e!==e?t:e}var lm=ia(),cm=ia(!0);function Ne(e){return e}function ss(e){return Fo(typeof e=="function"?e:Ve(e,m))}function fm(e){return Bo(Ve(e,m))}function hm(e,t){return Do(e,Ve(t,m))}var dm=$(function(e,t){return function(n){return Pn(n,e,t)}}),pm=$(function(e,t){return function(n){return Pn(e,n,t)}});function os(e,t,n){var r=Ce(t),s=dr(t,r);n==null&&!(ue(t)&&(s.length||!r.length))&&(n=t,t=e,e=this,s=dr(t,Ce(t)));var c=!(ue(n)&&"chain"in n)||!!n.chain,p=bt(e);return Ke(s,function(v){var _=t[v];e[v]=_,p&&(e.prototype[v]=function(){var C=this.__chain__;if(c||C){var w=e(this.__wrapped__),M=w.__actions__=Re(this.__actions__);return M.push({func:_,args:arguments,thisArg:e}),w.__chain__=C,w}return _.apply(e,wt([this.value()],arguments))})}),e}function gm(){return Te._===this&&(Te._=Wc),this}function as(){}function mm(e){return e=H(e),$(function(t){return Go(t,e)})}var vm=Gi(oe),bm=Gi(io),_m=Gi(li);function nu(e){return Ki(e)?ci(lt(e)):Zf(e)}function Em(e){return function(t){return e==null?o:kt(e,t)}}var Am=oa(),Tm=oa(!0);function us(){return[]}function ls(){return!1}function Cm(){return{}}function wm(){return""}function ym(){return!0}function Om(e,t){if(e=H(e),e<1||e>Tt)return[];var n=ot,r=ye(e,ot);t=N(t),e-=ot;for(var s=di(r,t);++n<e;)t(n);return s}function Mm(e){return k(e)?oe(e,lt):Ue(e)?[e]:Re(Ta(ee(e)))}function Pm(e){var t=++Gc;return ee(e)+t}var Im=_r(function(e,t){return e+t},0),Sm=Ui("ceil"),Lm=_r(function(e,t){return e/t},1),Rm=Ui("floor");function xm(e){return e&&e.length?hr(e,Ne,wi):o}function Fm(e,t){return e&&e.length?hr(e,N(t,2),wi):o}function Nm(e){return ao(e,Ne)}function Bm(e,t){return ao(e,N(t,2))}function Dm(e){return e&&e.length?hr(e,Ne,Pi):o}function Gm(e,t){return e&&e.length?hr(e,N(t,2),Pi):o}var Um=_r(function(e,t){return e*t},1),Wm=Ui("round"),km=_r(function(e,t){return e-t},0);function Hm(e){return e&&e.length?hi(e,Ne):0}function zm(e,t){return e&&e.length?hi(e,N(t,2)):0}return u.after=fp,u.ary=xa,u.assign=Qp,u.assignIn=Ja,u.assignInWith=Rr,u.assignWith=jp,u.at=eg,u.before=Fa,u.bind=Xi,u.bindAll=sm,u.bindKey=Na,u.castArray=Cp,u.chain=Sa,u.chunk=Rh,u.compact=xh,u.concat=Fh,u.cond=om,u.conforms=am,u.constant=is,u.countBy=Hd,u.create=tg,u.curry=Ba,u.curryRight=Da,u.debounce=Ga,u.defaults=ng,u.defaultsDeep=rg,u.defer=hp,u.delay=dp,u.difference=Nh,u.differenceBy=Bh,u.differenceWith=Dh,u.drop=Gh,u.dropRight=Uh,u.dropRightWhile=Wh,u.dropWhile=kh,u.fill=Hh,u.filter=$d,u.flatMap=Jd,u.flatMapDeep=Vd,u.flatMapDepth=Zd,u.flatten=Oa,u.flattenDeep=zh,u.flattenDepth=$h,u.flip=pp,u.flow=lm,u.flowRight=cm,u.fromPairs=Kh,u.functions=cg,u.functionsIn=fg,u.groupBy=Yd,u.initial=Jh,u.intersection=Vh,u.intersectionBy=Zh,u.intersectionWith=Yh,u.invert=dg,u.invertBy=pg,u.invokeMap=Qd,u.iteratee=ss,u.keyBy=jd,u.keys=Ce,u.keysIn=Fe,u.map=Or,u.mapKeys=mg,u.mapValues=vg,u.matches=fm,u.matchesProperty=hm,u.memoize=Pr,u.merge=bg,u.mergeWith=Va,u.method=dm,u.methodOf=pm,u.mixin=os,u.negate=Ir,u.nthArg=mm,u.omit=_g,u.omitBy=Eg,u.once=gp,u.orderBy=ep,u.over=vm,u.overArgs=mp,u.overEvery=bm,u.overSome=_m,u.partial=Qi,u.partialRight=Ua,u.partition=tp,u.pick=Ag,u.pickBy=Za,u.property=nu,u.propertyOf=Em,u.pull=ed,u.pullAll=Pa,u.pullAllBy=td,u.pullAllWith=nd,u.pullAt=rd,u.range=Am,u.rangeRight=Tm,u.rearg=vp,u.reject=ip,u.remove=id,u.rest=bp,u.reverse=Zi,u.sampleSize=op,u.set=Cg,u.setWith=wg,u.shuffle=ap,u.slice=sd,u.sortBy=cp,u.sortedUniq=hd,u.sortedUniqBy=dd,u.split=Jg,u.spread=_p,u.tail=pd,u.take=gd,u.takeRight=md,u.takeRightWhile=vd,u.takeWhile=bd,u.tap=xd,u.throttle=Ep,u.thru=yr,u.toArray=$a,u.toPairs=Ya,u.toPairsIn=Xa,u.toPath=Mm,u.toPlainObject=qa,u.transform=yg,u.unary=Ap,u.union=_d,u.unionBy=Ed,u.unionWith=Ad,u.uniq=Td,u.uniqBy=Cd,u.uniqWith=wd,u.unset=Og,u.unzip=Yi,u.unzipWith=Ia,u.update=Mg,u.updateWith=Pg,u.values=an,u.valuesIn=Ig,u.without=yd,u.words=eu,u.wrap=Tp,u.xor=Od,u.xorBy=Md,u.xorWith=Pd,u.zip=Id,u.zipObject=Sd,u.zipObjectDeep=Ld,u.zipWith=Rd,u.entries=Ya,u.entriesIn=Xa,u.extend=Ja,u.extendWith=Rr,os(u,u),u.add=Im,u.attempt=tu,u.camelCase=xg,u.capitalize=Qa,u.ceil=Sm,u.clamp=Sg,u.clone=wp,u.cloneDeep=Op,u.cloneDeepWith=Mp,u.cloneWith=yp,u.conformsTo=Pp,u.deburr=ja,u.defaultTo=um,u.divide=Lm,u.endsWith=Fg,u.eq=it,u.escape=Ng,u.escapeRegExp=Bg,u.every=zd,u.find=Kd,u.findIndex=wa,u.findKey=ig,u.findLast=qd,u.findLastIndex=ya,u.findLastKey=sg,u.floor=Rm,u.forEach=La,u.forEachRight=Ra,u.forIn=og,u.forInRight=ag,u.forOwn=ug,u.forOwnRight=lg,u.get=ts,u.gt=Ip,u.gte=Sp,u.has=hg,u.hasIn=ns,u.head=Ma,u.identity=Ne,u.includes=Xd,u.indexOf=qh,u.inRange=Lg,u.invoke=gg,u.isArguments=$t,u.isArray=k,u.isArrayBuffer=Lp,u.isArrayLike=xe,u.isArrayLikeObject=ve,u.isBoolean=Rp,u.isBuffer=Rt,u.isDate=xp,u.isElement=Fp,u.isEmpty=Np,u.isEqual=Bp,u.isEqualWith=Dp,u.isError=ji,u.isFinite=Gp,u.isFunction=bt,u.isInteger=Wa,u.isLength=Sr,u.isMap=ka,u.isMatch=Up,u.isMatchWith=Wp,u.isNaN=kp,u.isNative=Hp,u.isNil=$p,u.isNull=zp,u.isNumber=Ha,u.isObject=ue,u.isObjectLike=pe,u.isPlainObject=Fn,u.isRegExp=es,u.isSafeInteger=Kp,u.isSet=za,u.isString=Lr,u.isSymbol=Ue,u.isTypedArray=on,u.isUndefined=qp,u.isWeakMap=Jp,u.isWeakSet=Vp,u.join=Xh,u.kebabCase=Dg,u.last=Ye,u.lastIndexOf=Qh,u.lowerCase=Gg,u.lowerFirst=Ug,u.lt=Zp,u.lte=Yp,u.max=xm,u.maxBy=Fm,u.mean=Nm,u.meanBy=Bm,u.min=Dm,u.minBy=Gm,u.stubArray=us,u.stubFalse=ls,u.stubObject=Cm,u.stubString=wm,u.stubTrue=ym,u.multiply=Um,u.nth=jh,u.noConflict=gm,u.noop=as,u.now=Mr,u.pad=Wg,u.padEnd=kg,u.padStart=Hg,u.parseInt=zg,u.random=Rg,u.reduce=np,u.reduceRight=rp,u.repeat=$g,u.replace=Kg,u.result=Tg,u.round=Wm,u.runInContext=b,u.sample=sp,u.size=up,u.snakeCase=qg,u.some=lp,u.sortedIndex=od,u.sortedIndexBy=ad,u.sortedIndexOf=ud,u.sortedLastIndex=ld,u.sortedLastIndexBy=cd,u.sortedLastIndexOf=fd,u.startCase=Vg,u.startsWith=Zg,u.subtract=km,u.sum=Hm,u.sumBy=zm,u.template=Yg,u.times=Om,u.toFinite=_t,u.toInteger=H,u.toLength=Ka,u.toLower=Xg,u.toNumber=Xe,u.toSafeInteger=Xp,u.toString=ee,u.toUpper=Qg,u.trim=jg,u.trimEnd=em,u.trimStart=tm,u.truncate=nm,u.unescape=rm,u.uniqueId=Pm,u.upperCase=im,u.upperFirst=rs,u.each=La,u.eachRight=Ra,u.first=Ma,os(u,function(){var e={};return at(u,function(t,n){te.call(u.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),u.VERSION=a,Ke(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){u[e].placeholder=u}),Ke(["drop","take"],function(e,t){V.prototype[e]=function(n){n=n===o?1:Ae(H(n),0);var r=this.__filtered__&&!t?new V(this):this.clone();return r.__filtered__?r.__takeCount__=ye(n,r.__takeCount__):r.__views__.push({size:ye(n,ot),type:e+(r.__dir__<0?"Right":"")}),r},V.prototype[e+"Right"]=function(n){return this.reverse()[e](n).reverse()}}),Ke(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==At||n==ju;V.prototype[e]=function(s){var c=this.clone();return c.__iteratees__.push({iteratee:N(s,3),type:n}),c.__filtered__=c.__filtered__||r,c}}),Ke(["head","last"],function(e,t){var n="take"+(t?"Right":"");V.prototype[e]=function(){return this[n](1).value()[0]}}),Ke(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");V.prototype[e]=function(){return this.__filtered__?new V(this):this[n](1)}}),V.prototype.compact=function(){return this.filter(Ne)},V.prototype.find=function(e){return this.filter(e).head()},V.prototype.findLast=function(e){return this.reverse().find(e)},V.prototype.invokeMap=$(function(e,t){return typeof e=="function"?new V(this):this.map(function(n){return Pn(n,e,t)})}),V.prototype.reject=function(e){return this.filter(Ir(N(e)))},V.prototype.slice=function(e,t){e=H(e);var n=this;return n.__filtered__&&(e>0||t<0)?new V(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==o&&(t=H(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)},V.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},V.prototype.toArray=function(){return this.take(ot)},at(V.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),s=u[r?"take"+(t=="last"?"Right":""):t],c=r||/^find/.test(t);!s||(u.prototype[t]=function(){var p=this.__wrapped__,v=r?[1]:arguments,_=p instanceof V,C=v[0],w=_||k(p),M=function(J){var Y=s.apply(u,wt([J],v));return r&&S?Y[0]:Y};w&&n&&typeof C=="function"&&C.length!=1&&(_=w=!1);var S=this.__chain__,F=!!this.__actions__.length,D=c&&!S,z=_&&!F;if(!c&&w){p=z?p:new V(this);var G=e.apply(p,v);return G.__actions__.push({func:yr,args:[M],thisArg:o}),new Je(G,S)}return D&&z?e.apply(this,v):(G=this.thru(M),D?r?G.value()[0]:G.value():G)})}),Ke(["pop","push","shift","sort","splice","unshift"],function(e){var t=Xn[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);u.prototype[e]=function(){var s=arguments;if(r&&!this.__chain__){var c=this.value();return t.apply(k(c)?c:[],s)}return this[n](function(p){return t.apply(k(p)?p:[],s)})}}),at(V.prototype,function(e,t){var n=u[t];if(n){var r=n.name+"";te.call(en,r)||(en[r]=[]),en[r].push({name:t,func:n})}}),en[br(o,U).name]=[{name:"wrapper",func:o}],V.prototype.clone=nf,V.prototype.reverse=rf,V.prototype.value=sf,u.prototype.at=Fd,u.prototype.chain=Nd,u.prototype.commit=Bd,u.prototype.next=Dd,u.prototype.plant=Ud,u.prototype.reverse=Wd,u.prototype.toJSON=u.prototype.valueOf=u.prototype.value=kd,u.prototype.first=u.prototype.head,An&&(u.prototype[An]=Gd),u},Ot=Nc();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(Te._=Ot,define(function(){return Ot})):Bt?((Bt.exports=Ot)._=Ot,si._=Ot):Te._=Ot}).call(hn)});var Zu=_e((Gn,_s)=>{P();(function(o,a){typeof Gn=="object"&&typeof _s=="object"?_s.exports=a():typeof define=="function"&&define.amd?define([],a):typeof Gn=="object"?Gn.bowser=a():o.bowser=a()})(Gn,function(){return function(o){var a={};function i(d){if(a[d])return a[d].exports;var f=a[d]={i:d,l:!1,exports:{}};return o[d].call(f.exports,f,f.exports,i),f.l=!0,f.exports}return i.m=o,i.c=a,i.d=function(d,f,g){i.o(d,f)||Object.defineProperty(d,f,{enumerable:!0,get:g})},i.r=function(d){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},i.t=function(d,f){if(1&f&&(d=i(d)),8&f||4&f&&typeof d=="object"&&d&&d.__esModule)return d;var g=Object.create(null);if(i.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:d}),2&f&&typeof d!="string")for(var A in d)i.d(g,A,function(l){return d[l]}.bind(null,A));return g},i.n=function(d){var f=d&&d.__esModule?function(){return d.default}:function(){return d};return i.d(f,"a",f),f},i.o=function(d,f){return Object.prototype.hasOwnProperty.call(d,f)},i.p="",i(i.s=90)}({17:function(o,a,i){"use strict";a.__esModule=!0,a.default=void 0;var d=i(18),f=function(){function g(){}return g.getFirstMatch=function(A,l){var h=l.match(A);return h&&h.length>0&&h[1]||""},g.getSecondMatch=function(A,l){var h=l.match(A);return h&&h.length>1&&h[2]||""},g.matchAndReturnConst=function(A,l,h){if(A.test(l))return h},g.getWindowsVersionName=function(A){switch(A){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},g.getMacOSVersionName=function(A){var l=A.split(".").splice(0,2).map(function(h){return parseInt(h,10)||0});if(l.push(0),l[0]===10)switch(l[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},g.getAndroidVersionName=function(A){var l=A.split(".").splice(0,2).map(function(h){return parseInt(h,10)||0});if(l.push(0),!(l[0]===1&&l[1]<5))return l[0]===1&&l[1]<6?"Cupcake":l[0]===1&&l[1]>=6?"Donut":l[0]===2&&l[1]<2?"Eclair":l[0]===2&&l[1]===2?"Froyo":l[0]===2&&l[1]>2?"Gingerbread":l[0]===3?"Honeycomb":l[0]===4&&l[1]<1?"Ice Cream Sandwich":l[0]===4&&l[1]<4?"Jelly Bean":l[0]===4&&l[1]>=4?"KitKat":l[0]===5?"Lollipop":l[0]===6?"Marshmallow":l[0]===7?"Nougat":l[0]===8?"Oreo":l[0]===9?"Pie":void 0},g.getVersionPrecision=function(A){return A.split(".").length},g.compareVersions=function(A,l,h){h===void 0&&(h=!1);var m=g.getVersionPrecision(A),I=g.getVersionPrecision(l),y=Math.max(m,I),O=0,L=g.map([A,l],function(x){var U=y-g.getVersionPrecision(x),Z=x+new Array(U+1).join(".0");return g.map(Z.split("."),function(X){return new Array(20-X.length).join("0")+X}).reverse()});for(h&&(O=y-Math.min(m,I)),y-=1;y>=O;){if(L[0][y]>L[1][y])return 1;if(L[0][y]===L[1][y]){if(y===O)return 0;y-=1}else if(L[0][y]<L[1][y])return-1}},g.map=function(A,l){var h,m=[];if(Array.prototype.map)return Array.prototype.map.call(A,l);for(h=0;h<A.length;h+=1)m.push(l(A[h]));return m},g.find=function(A,l){var h,m;if(Array.prototype.find)return Array.prototype.find.call(A,l);for(h=0,m=A.length;h<m;h+=1){var I=A[h];if(l(I,h))return I}},g.assign=function(A){for(var l,h,m=A,I=arguments.length,y=new Array(I>1?I-1:0),O=1;O<I;O++)y[O-1]=arguments[O];if(Object.assign)return Object.assign.apply(Object,[A].concat(y));var L=function(){var x=y[l];typeof x=="object"&&x!==null&&Object.keys(x).forEach(function(U){m[U]=x[U]})};for(l=0,h=y.length;l<h;l+=1)L();return A},g.getBrowserAlias=function(A){return d.BROWSER_ALIASES_MAP[A]},g.getBrowserTypeByAlias=function(A){return d.BROWSER_MAP[A]||""},g}();a.default=f,o.exports=a.default},18:function(o,a,i){"use strict";a.__esModule=!0,a.ENGINE_MAP=a.OS_MAP=a.PLATFORMS_MAP=a.BROWSER_MAP=a.BROWSER_ALIASES_MAP=void 0,a.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},a.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},a.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},a.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},a.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(o,a,i){"use strict";a.__esModule=!0,a.default=void 0;var d,f=(d=i(91))&&d.__esModule?d:{default:d},g=i(18);function A(h,m){for(var I=0;I<m.length;I++){var y=m[I];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(h,y.key,y)}}var l=function(){function h(){}var m,I,y;return h.getParser=function(O,L){if(L===void 0&&(L=!1),typeof O!="string")throw new Error("UserAgent should be a string");return new f.default(O,L)},h.parse=function(O){return new f.default(O).getResult()},m=h,y=[{key:"BROWSER_MAP",get:function(){return g.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return g.ENGINE_MAP}},{key:"OS_MAP",get:function(){return g.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return g.PLATFORMS_MAP}}],(I=null)&&A(m.prototype,I),y&&A(m,y),h}();a.default=l,o.exports=a.default},91:function(o,a,i){"use strict";a.__esModule=!0,a.default=void 0;var d=h(i(92)),f=h(i(93)),g=h(i(94)),A=h(i(95)),l=h(i(17));function h(I){return I&&I.__esModule?I:{default:I}}var m=function(){function I(O,L){if(L===void 0&&(L=!1),O==null||O==="")throw new Error("UserAgent parameter can't be empty");this._ua=O,this.parsedResult={},L!==!0&&this.parse()}var y=I.prototype;return y.getUA=function(){return this._ua},y.test=function(O){return O.test(this._ua)},y.parseBrowser=function(){var O=this;this.parsedResult.browser={};var L=l.default.find(d.default,function(x){if(typeof x.test=="function")return x.test(O);if(x.test instanceof Array)return x.test.some(function(U){return O.test(U)});throw new Error("Browser's test function is not valid")});return L&&(this.parsedResult.browser=L.describe(this.getUA())),this.parsedResult.browser},y.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},y.getBrowserName=function(O){return O?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},y.getBrowserVersion=function(){return this.getBrowser().version},y.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},y.parseOS=function(){var O=this;this.parsedResult.os={};var L=l.default.find(f.default,function(x){if(typeof x.test=="function")return x.test(O);if(x.test instanceof Array)return x.test.some(function(U){return O.test(U)});throw new Error("Browser's test function is not valid")});return L&&(this.parsedResult.os=L.describe(this.getUA())),this.parsedResult.os},y.getOSName=function(O){var L=this.getOS().name;return O?String(L).toLowerCase()||"":L||""},y.getOSVersion=function(){return this.getOS().version},y.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},y.getPlatformType=function(O){O===void 0&&(O=!1);var L=this.getPlatform().type;return O?String(L).toLowerCase()||"":L||""},y.parsePlatform=function(){var O=this;this.parsedResult.platform={};var L=l.default.find(g.default,function(x){if(typeof x.test=="function")return x.test(O);if(x.test instanceof Array)return x.test.some(function(U){return O.test(U)});throw new Error("Browser's test function is not valid")});return L&&(this.parsedResult.platform=L.describe(this.getUA())),this.parsedResult.platform},y.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},y.getEngineName=function(O){return O?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},y.parseEngine=function(){var O=this;this.parsedResult.engine={};var L=l.default.find(A.default,function(x){if(typeof x.test=="function")return x.test(O);if(x.test instanceof Array)return x.test.some(function(U){return O.test(U)});throw new Error("Browser's test function is not valid")});return L&&(this.parsedResult.engine=L.describe(this.getUA())),this.parsedResult.engine},y.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},y.getResult=function(){return l.default.assign({},this.parsedResult)},y.satisfies=function(O){var L=this,x={},U=0,Z={},X=0;if(Object.keys(O).forEach(function(de){var ze=O[de];typeof ze=="string"?(Z[de]=ze,X+=1):typeof ze=="object"&&(x[de]=ze,U+=1)}),U>0){var fe=Object.keys(x),he=l.default.find(fe,function(de){return L.isOS(de)});if(he){var ge=this.satisfies(x[he]);if(ge!==void 0)return ge}var j=l.default.find(fe,function(de){return L.isPlatform(de)});if(j){var q=this.satisfies(x[j]);if(q!==void 0)return q}}if(X>0){var ae=Object.keys(Z),me=l.default.find(ae,function(de){return L.isBrowser(de,!0)});if(me!==void 0)return this.compareVersion(Z[me])}},y.isBrowser=function(O,L){L===void 0&&(L=!1);var x=this.getBrowserName().toLowerCase(),U=O.toLowerCase(),Z=l.default.getBrowserTypeByAlias(U);return L&&Z&&(U=Z.toLowerCase()),U===x},y.compareVersion=function(O){var L=[0],x=O,U=!1,Z=this.getBrowserVersion();if(typeof Z=="string")return O[0]===">"||O[0]==="<"?(x=O.substr(1),O[1]==="="?(U=!0,x=O.substr(2)):L=[],O[0]===">"?L.push(1):L.push(-1)):O[0]==="="?x=O.substr(1):O[0]==="~"&&(U=!0,x=O.substr(1)),L.indexOf(l.default.compareVersions(Z,x,U))>-1},y.isOS=function(O){return this.getOSName(!0)===String(O).toLowerCase()},y.isPlatform=function(O){return this.getPlatformType(!0)===String(O).toLowerCase()},y.isEngine=function(O){return this.getEngineName(!0)===String(O).toLowerCase()},y.is=function(O,L){return L===void 0&&(L=!1),this.isBrowser(O,L)||this.isOS(O)||this.isPlatform(O)},y.some=function(O){var L=this;return O===void 0&&(O=[]),O.some(function(x){return L.is(x)})},I}();a.default=m,o.exports=a.default},92:function(o,a,i){"use strict";a.__esModule=!0,a.default=void 0;var d,f=(d=i(17))&&d.__esModule?d:{default:d},g=/version\/(\d+(\.?_?\d+)+)/i,A=[{test:[/googlebot/i],describe:function(l){var h={name:"Googlebot"},m=f.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,l)||f.default.getFirstMatch(g,l);return m&&(h.version=m),h}},{test:[/opera/i],describe:function(l){var h={name:"Opera"},m=f.default.getFirstMatch(g,l)||f.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,l);return m&&(h.version=m),h}},{test:[/opr\/|opios/i],describe:function(l){var h={name:"Opera"},m=f.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,l)||f.default.getFirstMatch(g,l);return m&&(h.version=m),h}},{test:[/SamsungBrowser/i],describe:function(l){var h={name:"Samsung Internet for Android"},m=f.default.getFirstMatch(g,l)||f.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,l);return m&&(h.version=m),h}},{test:[/Whale/i],describe:function(l){var h={name:"NAVER Whale Browser"},m=f.default.getFirstMatch(g,l)||f.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,l);return m&&(h.version=m),h}},{test:[/MZBrowser/i],describe:function(l){var h={name:"MZ Browser"},m=f.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,l)||f.default.getFirstMatch(g,l);return m&&(h.version=m),h}},{test:[/focus/i],describe:function(l){var h={name:"Focus"},m=f.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,l)||f.default.getFirstMatch(g,l);return m&&(h.version=m),h}},{test:[/swing/i],describe:function(l){var h={name:"Swing"},m=f.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,l)||f.default.getFirstMatch(g,l);return m&&(h.version=m),h}},{test:[/coast/i],describe:function(l){var h={name:"Opera Coast"},m=f.default.getFirstMatch(g,l)||f.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,l);return m&&(h.version=m),h}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(l){var h={name:"Opera Touch"},m=f.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,l)||f.default.getFirstMatch(g,l);return m&&(h.version=m),h}},{test:[/yabrowser/i],describe:function(l){var h={name:"Yandex Browser"},m=f.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,l)||f.default.getFirstMatch(g,l);return m&&(h.version=m),h}},{test:[/ucbrowser/i],describe:function(l){var h={name:"UC Browser"},m=f.default.getFirstMatch(g,l)||f.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,l);return m&&(h.version=m),h}},{test:[/Maxthon|mxios/i],describe:function(l){var h={name:"Maxthon"},m=f.default.getFirstMatch(g,l)||f.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,l);return m&&(h.version=m),h}},{test:[/epiphany/i],describe:function(l){var h={name:"Epiphany"},m=f.default.getFirstMatch(g,l)||f.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,l);return m&&(h.version=m),h}},{test:[/puffin/i],describe:function(l){var h={name:"Puffin"},m=f.default.getFirstMatch(g,l)||f.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,l);return m&&(h.version=m),h}},{test:[/sleipnir/i],describe:function(l){var h={name:"Sleipnir"},m=f.default.getFirstMatch(g,l)||f.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,l);return m&&(h.version=m),h}},{test:[/k-meleon/i],describe:function(l){var h={name:"K-Meleon"},m=f.default.getFirstMatch(g,l)||f.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,l);return m&&(h.version=m),h}},{test:[/micromessenger/i],describe:function(l){var h={name:"WeChat"},m=f.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,l)||f.default.getFirstMatch(g,l);return m&&(h.version=m),h}},{test:[/qqbrowser/i],describe:function(l){var h={name:/qqbrowserlite/i.test(l)?"QQ Browser Lite":"QQ Browser"},m=f.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,l)||f.default.getFirstMatch(g,l);return m&&(h.version=m),h}},{test:[/msie|trident/i],describe:function(l){var h={name:"Internet Explorer"},m=f.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,l);return m&&(h.version=m),h}},{test:[/\sedg\//i],describe:function(l){var h={name:"Microsoft Edge"},m=f.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,l);return m&&(h.version=m),h}},{test:[/edg([ea]|ios)/i],describe:function(l){var h={name:"Microsoft Edge"},m=f.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,l);return m&&(h.version=m),h}},{test:[/vivaldi/i],describe:function(l){var h={name:"Vivaldi"},m=f.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,l);return m&&(h.version=m),h}},{test:[/seamonkey/i],describe:function(l){var h={name:"SeaMonkey"},m=f.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,l);return m&&(h.version=m),h}},{test:[/sailfish/i],describe:function(l){var h={name:"Sailfish"},m=f.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,l);return m&&(h.version=m),h}},{test:[/silk/i],describe:function(l){var h={name:"Amazon Silk"},m=f.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,l);return m&&(h.version=m),h}},{test:[/phantom/i],describe:function(l){var h={name:"PhantomJS"},m=f.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,l);return m&&(h.version=m),h}},{test:[/slimerjs/i],describe:function(l){var h={name:"SlimerJS"},m=f.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,l);return m&&(h.version=m),h}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(l){var h={name:"BlackBerry"},m=f.default.getFirstMatch(g,l)||f.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,l);return m&&(h.version=m),h}},{test:[/(web|hpw)[o0]s/i],describe:function(l){var h={name:"WebOS Browser"},m=f.default.getFirstMatch(g,l)||f.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,l);return m&&(h.version=m),h}},{test:[/bada/i],describe:function(l){var h={name:"Bada"},m=f.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,l);return m&&(h.version=m),h}},{test:[/tizen/i],describe:function(l){var h={name:"Tizen"},m=f.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,l)||f.default.getFirstMatch(g,l);return m&&(h.version=m),h}},{test:[/qupzilla/i],describe:function(l){var h={name:"QupZilla"},m=f.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,l)||f.default.getFirstMatch(g,l);return m&&(h.version=m),h}},{test:[/firefox|iceweasel|fxios/i],describe:function(l){var h={name:"Firefox"},m=f.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,l);return m&&(h.version=m),h}},{test:[/electron/i],describe:function(l){var h={name:"Electron"},m=f.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,l);return m&&(h.version=m),h}},{test:[/MiuiBrowser/i],describe:function(l){var h={name:"Miui"},m=f.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,l);return m&&(h.version=m),h}},{test:[/chromium/i],describe:function(l){var h={name:"Chromium"},m=f.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,l)||f.default.getFirstMatch(g,l);return m&&(h.version=m),h}},{test:[/chrome|crios|crmo/i],describe:function(l){var h={name:"Chrome"},m=f.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,l);return m&&(h.version=m),h}},{test:[/GSA/i],describe:function(l){var h={name:"Google Search"},m=f.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,l);return m&&(h.version=m),h}},{test:function(l){var h=!l.test(/like android/i),m=l.test(/android/i);return h&&m},describe:function(l){var h={name:"Android Browser"},m=f.default.getFirstMatch(g,l);return m&&(h.version=m),h}},{test:[/playstation 4/i],describe:function(l){var h={name:"PlayStation 4"},m=f.default.getFirstMatch(g,l);return m&&(h.version=m),h}},{test:[/safari|applewebkit/i],describe:function(l){var h={name:"Safari"},m=f.default.getFirstMatch(g,l);return m&&(h.version=m),h}},{test:[/.*/i],describe:function(l){var h=l.search("\\(")!==-1?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:f.default.getFirstMatch(h,l),version:f.default.getSecondMatch(h,l)}}}];a.default=A,o.exports=a.default},93:function(o,a,i){"use strict";a.__esModule=!0,a.default=void 0;var d,f=(d=i(17))&&d.__esModule?d:{default:d},g=i(18),A=[{test:[/Roku\/DVP/],describe:function(l){var h=f.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,l);return{name:g.OS_MAP.Roku,version:h}}},{test:[/windows phone/i],describe:function(l){var h=f.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,l);return{name:g.OS_MAP.WindowsPhone,version:h}}},{test:[/windows /i],describe:function(l){var h=f.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,l),m=f.default.getWindowsVersionName(h);return{name:g.OS_MAP.Windows,version:h,versionName:m}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(l){var h={name:g.OS_MAP.iOS},m=f.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,l);return m&&(h.version=m),h}},{test:[/macintosh/i],describe:function(l){var h=f.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,l).replace(/[_\s]/g,"."),m=f.default.getMacOSVersionName(h),I={name:g.OS_MAP.MacOS,version:h};return m&&(I.versionName=m),I}},{test:[/(ipod|iphone|ipad)/i],describe:function(l){var h=f.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,l).replace(/[_\s]/g,".");return{name:g.OS_MAP.iOS,version:h}}},{test:function(l){var h=!l.test(/like android/i),m=l.test(/android/i);return h&&m},describe:function(l){var h=f.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,l),m=f.default.getAndroidVersionName(h),I={name:g.OS_MAP.Android,version:h};return m&&(I.versionName=m),I}},{test:[/(web|hpw)[o0]s/i],describe:function(l){var h=f.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,l),m={name:g.OS_MAP.WebOS};return h&&h.length&&(m.version=h),m}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(l){var h=f.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,l)||f.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,l)||f.default.getFirstMatch(/\bbb(\d+)/i,l);return{name:g.OS_MAP.BlackBerry,version:h}}},{test:[/bada/i],describe:function(l){var h=f.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,l);return{name:g.OS_MAP.Bada,version:h}}},{test:[/tizen/i],describe:function(l){var h=f.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,l);return{name:g.OS_MAP.Tizen,version:h}}},{test:[/linux/i],describe:function(){return{name:g.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:g.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(l){var h=f.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,l);return{name:g.OS_MAP.PlayStation4,version:h}}}];a.default=A,o.exports=a.default},94:function(o,a,i){"use strict";a.__esModule=!0,a.default=void 0;var d,f=(d=i(17))&&d.__esModule?d:{default:d},g=i(18),A=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(l){var h=f.default.getFirstMatch(/(can-l01)/i,l)&&"Nova",m={type:g.PLATFORMS_MAP.mobile,vendor:"Huawei"};return h&&(m.model=h),m}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:g.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:g.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:g.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:g.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:g.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:g.PLATFORMS_MAP.tablet}}},{test:function(l){var h=l.test(/ipod|iphone/i),m=l.test(/like (ipod|iphone)/i);return h&&!m},describe:function(l){var h=f.default.getFirstMatch(/(ipod|iphone)/i,l);return{type:g.PLATFORMS_MAP.mobile,vendor:"Apple",model:h}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:g.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:g.PLATFORMS_MAP.mobile}}},{test:function(l){return l.getBrowserName(!0)==="blackberry"},describe:function(){return{type:g.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(l){return l.getBrowserName(!0)==="bada"},describe:function(){return{type:g.PLATFORMS_MAP.mobile}}},{test:function(l){return l.getBrowserName()==="windows phone"},describe:function(){return{type:g.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(l){var h=Number(String(l.getOSVersion()).split(".")[0]);return l.getOSName(!0)==="android"&&h>=3},describe:function(){return{type:g.PLATFORMS_MAP.tablet}}},{test:function(l){return l.getOSName(!0)==="android"},describe:function(){return{type:g.PLATFORMS_MAP.mobile}}},{test:function(l){return l.getOSName(!0)==="macos"},describe:function(){return{type:g.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(l){return l.getOSName(!0)==="windows"},describe:function(){return{type:g.PLATFORMS_MAP.desktop}}},{test:function(l){return l.getOSName(!0)==="linux"},describe:function(){return{type:g.PLATFORMS_MAP.desktop}}},{test:function(l){return l.getOSName(!0)==="playstation 4"},describe:function(){return{type:g.PLATFORMS_MAP.tv}}},{test:function(l){return l.getOSName(!0)==="roku"},describe:function(){return{type:g.PLATFORMS_MAP.tv}}}];a.default=A,o.exports=a.default},95:function(o,a,i){"use strict";a.__esModule=!0,a.default=void 0;var d,f=(d=i(17))&&d.__esModule?d:{default:d},g=i(18),A=[{test:function(l){return l.getBrowserName(!0)==="microsoft edge"},describe:function(l){if(/\sedg\//i.test(l))return{name:g.ENGINE_MAP.Blink};var h=f.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,l);return{name:g.ENGINE_MAP.EdgeHTML,version:h}}},{test:[/trident/i],describe:function(l){var h={name:g.ENGINE_MAP.Trident},m=f.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,l);return m&&(h.version=m),h}},{test:function(l){return l.test(/presto/i)},describe:function(l){var h={name:g.ENGINE_MAP.Presto},m=f.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,l);return m&&(h.version=m),h}},{test:function(l){var h=l.test(/gecko/i),m=l.test(/like gecko/i);return h&&!m},describe:function(l){var h={name:g.ENGINE_MAP.Gecko},m=f.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,l);return m&&(h.version=m),h}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:g.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(l){var h={name:g.ENGINE_MAP.WebKit},m=f.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,l);return m&&(h.version=m),h}}];a.default=A,o.exports=a.default}})})});P();P();P();P();var Le=(f,g,A,...l)=>le(void 0,[f,g,A,...l],function*(o,a,i,d={}){let h=yield fetch(o,{method:a,headers:Me({"Content-Type":"application/json"},d),body:i?JSON.stringify(i):null});if(!h.ok)throw h;try{return yield h.json()}catch(m){return h.ok}});P();var hu=un(fu()),ce=class{constructor(a){this.debug=(0,hu.default)(a)}log(a,...i){this.debug(a,...i)}};P();P();var Ju=un(qu());var se=class{constructor(a={}){this.subscribe=a=>{this.callbacks.push(a)};this.unsubscribe=a=>{this.callbacks=this.callbacks.filter(i=>i!==a)};this.publish=(...a)=>{!this.callbacks||this.callbacks.forEach(i=>{this.callListener(i,a).catch(d=>{this.logger.log("superviz-sdk:observer-helper:publish:error",`
            Failed to execute callback on publish value.
            Callback: ${i}
            Event: ${JSON.stringify(a)}
            Error: ${d}
          `)})})};this.reset=()=>{this.callbacks=[]};this.destroy=()=>{delete this.logger,delete this.callbacks};this.callListener=(a,i)=>new Promise((d,f)=>{try{let g=a(...i);d(g)}catch(g){f(g)}});let{logger:i,throttleTime:d}=a;this.logger=i!=null?i:new ce("@superviz/sdk/observer-helper"),this.throttle=d,this.callbacks=[],this.throttle&&(this.publish=(0,Ju.default)(this.publish,this.throttle))}};var Bn=class{constructor(){this.observers={};this.subscribe=(a,i)=>{this.logger.log(`subscribed to ${a} event`),this.observers[a]||(this.observers[a]=new se({logger:this.logger})),this.observers[a].subscribe(i)};this.unsubscribe=(a,i)=>{if(this.logger.log(`unsubscribed from ${a} event`),!!this.observers[a]){if(!i){this.observers[a].destroy(),delete this.observers[a];return}this.observers[a].unsubscribe(i)}};this.publish=(a,i)=>{a in this.observers&&this.observers[a].publish(i)}}};P();P();P();var Vu=un(Br()),ps=class{setConfig(a){this.configuration=a}get(a,i){return this.configuration?Vu.default.get(this.configuration,a,i):i}},K=new ps;var Qe=class{static createUrl(a,i,d={}){let f=new URL(i,a);return Object.keys(d).forEach(g=>f.searchParams.append(g,d[g])),f.toString()}static validateApiKey(a,i){let d="/user/checkapikey",f=this.createUrl(a,d);return Le(f,"POST",{apiKey:i})}static fetchConfig(a,i){let d="/immersive-config",f=this.createUrl(a,d);return Le(f,"POST",{apiKey:i})}static fetchLimits(a,i){return le(this,null,function*(){let d="/user/check_limits",f=this.createUrl(a,d);return(yield Le(f,"GET","",{apikey:i})).usage})}static fetchWaterMark(a,i){return le(this,null,function*(){let d="/user/watermark",f=this.createUrl(a,d),{message:g}=yield Le(f,"POST",{apiKey:i});return g})}static createAnnotations(a,i,d){return le(this,null,function*(){let f="/annotations",g=this.createUrl(a,f);return Le(g,"POST",Me({},d),{apikey:i})})}static updateComment(a,i,d,f){return le(this,null,function*(){let g=`/comments/${d}`,A=this.createUrl(a,g);return Le(A,"PUT",{text:f},{apikey:i})})}static createComment(a,i,d){return le(this,null,function*(){let f="/comments",g=this.createUrl(a,f);return Le(g,"POST",Me({},d),{apikey:i})})}static fetchAnnotation(a,i,d){return le(this,null,function*(){let f="/annotations",g=this.createUrl(a,f,{roomId:d.roomId,url:d.url});return Le(g,"GET",void 0,{apikey:i})})}static resolveAnnotation(a,i,d){return le(this,null,function*(){let f=`/annotations/resolve/${d}`,g=this.createUrl(a,f);return Le(g,"POST",{},{apikey:i})})}static deleteComment(a,i,d){return le(this,null,function*(){let f=`/comments/${d}`,g=this.createUrl(a,f);return Le(g,"DELETE",{},{apikey:i})})}static deleteAnnotation(a,i,d){return le(this,null,function*(){let f=`/annotations/${d}`,g=this.createUrl(a,f);return Le(g,"DELETE",{},{apikey:i})})}static createOrUpdateParticipant(a,i){return le(this,null,function*(){let d=K.get("apiUrl"),f="/participants",g=this.createUrl(d,f);return Le(g,"POST",Me({},i),{apikey:a})})}static sendActivity(a,i,d,f){return le(this,null,function*(){let g="/activity",A=K.get("apiUrl"),l=K.get("roomId"),h=K.get("apiKey"),m=this.createUrl(A,g);return Le(m,"POST",{groupId:i,groupName:d,meetingId:l,product:f,userId:a},{apikey:h})})}};P();var je=class extends Bn{constructor(){super(...arguments);this.isAttached=!1;this.attach=i=>{if(Object.values(i).includes(null)||Object.values(i).includes(void 0)){let h=`${this.name} @ attach - params are required`;throw this.logger.log(h),new Error(h)}let{realtime:d,localParticipant:f,group:g,config:A,eventBus:l}=i;if(!d.isDomainWhitelisted){let h=`Component ${this.name} can't be used because this website's domain is not whitelisted. Please add your domain in https://dashboard.superviz.com/developer`;this.logger.log(h);return}if(K.setConfig(A),this.realtime=d,this.localParticipant=f,this.group=g,this.eventBus=l,this.isAttached=!0,!this.realtime.isJoinedRoom){this.logger.log(`${this.name} @ attach - not joined yet`),setTimeout(()=>{this.logger.log(`${this.name} @ attach - retrying`),this.attach(i)},1e3);return}this.logger.log(`${this.name} @ attached`),this.start()};this.detach=()=>{if(!this.isAttached){this.logger.log(`${this.name} @ detach - component is not attached}`);return}this.logger.log("detached"),this.destroy(),Object.values(this.observers).forEach(i=>{i.reset(),i.destroy()}),this.observers=void 0,this.realtime=void 0,this.localParticipant=void 0,this.isAttached=!1}}};P();P();var gs=(i=>(i.LEFT="left",i.RIGHT="right",i))(gs||{}),ms=(f=>(f.TOP_LEFT="top-left",f.TOP_RIGHT="top-right",f.BOTTOM_LEFT="bottom-left",f.BOTTOM_RIGHT="bottom-right",f))(ms||{});var vs=class extends je{constructor(i,d){super();this.sidebarOpen=!1;this.onFixedPin=i=>{document.body.dispatchEvent(new CustomEvent("prepare-to-create-annotation",{detail:Me({},i),composed:!0,bubbles:!0}))};this.toggleAnnotationSidebar=()=>{this.element.toggleAttribute("open"),this.sidebarOpen=this.element.hasAttribute("open"),this.pinAdapter.setActive(this.sidebarOpen),document.body.dispatchEvent(new CustomEvent("prepare-to-create-annotation",{detail:void 0,composed:!0,bubbles:!0})),document.body.dispatchEvent(new CustomEvent("toggle-annotation-sidebar",{detail:{open:this.sidebarOpen},composed:!0,bubbles:!0}))};this.onSelectAnnotation=i=>{this.sidebarOpen||this.toggleAnnotationSidebar()};this.positionFloatingButton=()=>{var h,m;this.button=document.createElement("superviz-comments-button");let i=(h=this.layoutOptions)==null?void 0:h.buttonLocation,d=(m=this.layoutOptions)==null?void 0:m.position;if(!i){document.body.appendChild(this.button),this.button.commentsPosition=d;return}let f="",g=Object.values(ms),A=!1,l=!g.includes(i.toLocaleLowerCase());if(l){let I=window.document.body.querySelector(`#${i}`);I?(I.appendChild(this.button),f="position: relative"):(A=!0,i="top-left")}if(!l||A){document.body.appendChild(this.button);let[I,y]=i.split("-");f=`${I}: 20px; ${y}: 20px;`}this.button.positionStyles=f,this.button.commentsPosition=d};this.positionComments=()=>{var A;this.element=document.createElement("superviz-comments"),this.element.setAttribute("comments",JSON.stringify([])),this.element.side="left: 0;",document.body.appendChild(this.element);let i=(A=this.layoutOptions)==null?void 0:A.position;if(!i)return;let d=Object.values(gs),f=i.toLocaleLowerCase();if(!d.includes(f))return;let g=i==="left"?"left: 0;":"right: 0;";this.element.side=g};this.createAnnotation=d=>le(this,[d],function*({detail:i}){try{let{position:f,text:g}=i,{url:A}=this,l=yield Qe.createAnnotations(K.get("apiUrl"),K.get("apiKey"),{roomId:K.get("roomId"),position:JSON.stringify(f),url:A,userId:this.localParticipant.id}),h=yield this.createComment(l.uuid,g);this.addAnnotation(xt(Me({},l),{comments:[h]})),this.pinAdapter.removeAnnotationPin("temporary-pin"),document.body.dispatchEvent(new CustomEvent("select-annotation",{detail:{uuid:l.uuid},composed:!0,bubbles:!0}))}catch(f){this.logger.log("error when creating annotation",f)}});this.deleteAnnotation=d=>le(this,[d],function*({detail:i}){try{let{uuid:f}=i;yield Qe.deleteAnnotation(K.get("apiUrl"),K.get("apiKey"),f);let g=this.annotations.filter(A=>A.uuid!==f);this.updateAnnotationList(g),this.pinAdapter.removeAnnotationPin(f),this.element.updateAnnotations(this.annotations)}catch(f){this.logger.log("error when deleting annotation",f)}});this.updateComment=d=>le(this,[d],function*({detail:i}){try{let{uuid:f,text:g}=i;yield Qe.updateComment(K.get("apiUrl"),K.get("apiKey"),f,g);let A=this.annotations.map(l=>Object.assign({},l,{comments:l.comments.map(h=>h.uuid===f?Object.assign({},h,{text:g}):h)}));this.updateAnnotationList(A)}catch(f){this.logger.log("error when updating comment",f)}});this.resolveAnnotation=d=>le(this,[d],function*({detail:i}){try{let{uuid:f}=i,{resolved:g}=yield Qe.resolveAnnotation(K.get("apiUrl"),K.get("apiKey"),f),A=this.annotations.map(l=>l.uuid===f?Object.assign({},l,{resolved:g}):l);if(this.updateAnnotationList(A),g){this.pinAdapter.removeAnnotationPin(f);return}this.pinAdapter.updateAnnotations(this.annotations)}catch(f){this.logger.log("error when resolve annotation",f)}});this.deleteComment=d=>le(this,[d],function*({detail:i}){try{let{uuid:f,annotationId:g}=i;if(!f||!g)return;yield Qe.deleteComment(K.get("apiUrl"),K.get("apiKey"),f);let A=this.annotations.find(h=>h.uuid===g);A.comments=A.comments.filter(h=>h.uuid!==f);let l=this.annotations.map(h=>h.uuid===g?A:h);this.element.updateAnnotations(l),this.updateAnnotationList(l)}catch(f){this.logger.log("error when deleting comment",f)}});this.onAnnotationListUpdate=i=>{let{data:d,clientId:f}=i;this.localParticipant.id!==f&&(this.annotations=d,this.element.updateAnnotations(this.annotations),this.pinAdapter.updateAnnotations(this.annotations))};this.name="comments",this.logger=new ce("@superviz/sdk/comments-component"),this.annotations=[],this.layoutOptions=d!=null?d:{position:"left",buttonLocation:"top-left"},this.pinAdapter=i}get url(){let i=new URL(this.clientUrl);return i.search="",i.toString()}start(){this.clientUrl=window.location.href,this.positionComments(),this.positionFloatingButton(),this.fetchAnnotations(),this.waterMarkState(),this.addListeners(),this.pinAdapter.setPinsVisibility(!0)}destroy(){this.logger.log("comments component @ destroy"),this.destroyListeners(),this.button.remove(),this.element.remove(),this.element=void 0,this.pinAdapter.destroy()}addListeners(){this.button.addEventListener("toggle",this.toggleAnnotationSidebar),this.element.addEventListener("toggle",this.toggleAnnotationSidebar),this.element.addEventListener("create-annotation",this.createAnnotation),this.element.addEventListener("resolve-annotation",this.resolveAnnotation),this.element.addEventListener("delete-annotation",this.deleteAnnotation),this.element.addEventListener("create-comment",({detail:i})=>{this.createComment(i.uuid,i.text,!0)}),this.element.addEventListener("update-comment",this.updateComment),this.element.addEventListener("delete-comment",this.deleteComment),document.body.addEventListener("select-annotation",this.onSelectAnnotation),this.realtime.commentsObserver.subscribe(this.onAnnotationListUpdate),this.pinAdapter.onPinFixedObserver.subscribe(this.onFixedPin)}destroyListeners(){this.button.removeEventListener("toggle",this.toggleAnnotationSidebar),this.element.removeEventListener("toggle",this.toggleAnnotationSidebar),this.element.removeEventListener("create-annotation",this.createAnnotation),this.element.removeEventListener("resolve-annotation",this.resolveAnnotation),this.element.removeEventListener("create-comment",({detail:i})=>{this.createComment(i.uuid,i.text,!0)}),this.element.removeEventListener("update-comment",this.updateComment),this.element.removeEventListener("delete-comment",this.deleteComment),document.body.removeEventListener("select-annotation",this.onSelectAnnotation),this.realtime.commentsObserver.unsubscribe(this.onAnnotationListUpdate),this.pinAdapter.onPinFixedObserver.unsubscribe(this.onFixedPin)}createComment(i,d,f=!1){return le(this,null,function*(){try{let g=yield Qe.createComment(K.get("apiUrl"),K.get("apiKey"),{annotationId:i,userId:this.localParticipant.id,text:d});return f&&this.addComment(i,g),g}catch(g){this.logger.log("error when creating comment",g)}})}addAnnotation(i){let d=[i,...this.annotations];this.element.updateAnnotations(d),this.pinAdapter.updateAnnotations(d),this.updateAnnotationList(d)}updateAnnotationList(i){this.annotations=i,this.realtime.updateComments(i)}addComment(i,d){let f=this.annotations.find(A=>A.uuid===i);f.comments.push(d);let g=this.annotations.map(A=>A.uuid===i?f:A);this.updateAnnotationList(g),this.element.updateAnnotations(g)}fetchAnnotations(){return le(this,null,function*(){try{let i=yield Qe.fetchAnnotation(K.get("apiUrl"),K.get("apiKey"),{roomId:K.get("roomId"),url:this.url});this.annotations=i,this.element.updateAnnotations(this.annotations),this.pinAdapter.updateAnnotations(this.annotations)}catch(i){this.logger.log("error when fetching annotations",i)}})}waterMarkState(){return le(this,null,function*(){try{let i=yield Qe.fetchWaterMark(K.get("apiUrl"),K.get("apiKey"));this.element.waterMarkStatus(i)}catch(i){this.logger.log("error when fetching waterMark",i)}})}};P();P();var bs=class{constructor(a){this.isPinsVisible=!0;this.divWrapperReplacementInterval=null;this.selectedPin=null;this.resetPins=a=>{a&&(a==null?void 0:a.key)!=="Escape"||(this.resetSelectedPin(),this.removeAnnotationPin("temporary-pin"))};this.annotationSelected=({detail:a})=>{var g,A;let{uuid:i}=a;if(!i)return;let d=JSON.parse((A=(g=this.selectedPin)==null?void 0:g.getAttribute("annotation"))!=null?A:"{}");if(this.resetPins(),(d==null?void 0:d.uuid)===i)return;document.body.dispatchEvent(new CustomEvent("close-temporary-annotation"));let f=this.pins.get(i);!f||(f.setAttribute("active",""),this.selectedPin=f,this.scrollIntoView(f))};this.onClick=a=>{if(!this.isActive)return;let{x:i,y:d}=a,f=this.divWrapper.getBoundingClientRect(),g=i-f.x,A=d-f.y;this.onPinFixedObserver.publish({x:g,y:A,type:"canvas"}),this.resetSelectedPin(),this.createTemporaryPin({x:g,y:A,type:"canvas"}),!this.selectedPin&&document.body.dispatchEvent(new CustomEvent("unselect-annotation"))};this.onMouseMove=a=>{let{x:i,y:d}=a;this.mouseElement||(this.mouseElement=this.createMouseElement()),this.mouseElement.setAttribute("position",JSON.stringify({x:i,y:d}))};this.onMouseLeave=()=>{this.mouseElement&&(this.mouseElement.remove(),this.mouseElement=null),this.canvas.style.cursor="default"};this.onMouseEnter=()=>{this.mouseElement||(this.mouseElement=this.createMouseElement())};this.onToggleAnnotationSidebar=({detail:a})=>{let{open:i}=a;i||(this.pins.forEach(d=>{d.removeAttribute("active")}),this.pins.has("temporary-pin")&&this.removeAnnotationPin("temporary-pin"))};if(this.logger=new ce("@superviz/sdk/comments-component/canvas-pin-adapter"),this.canvasId=a,this.canvas=document.getElementById(a),this.isActive=!1,this.pins=new Map,!this.canvas){let i=`Canvas with id ${a} not found`;throw this.logger.log(i),new Error(i)}document.body.addEventListener("toggle-annotation-sidebar",this.onToggleAnnotationSidebar),document.body.addEventListener("select-annotation",this.annotationSelected),document.body.style.position="relative",this.onPinFixedObserver=new se({logger:this.logger}),this.divWrapper=this.createDivWrapper(),this.annotations=[]}destroy(){this.removeListeners(),this.removeAnnotationsPins(),this.mouseElement=null,this.pins=new Map,this.divWrapper.remove(),this.onPinFixedObserver.destroy(),this.onPinFixedObserver=null,this.canvas.style.cursor="default",this.annotations=[],document.body.removeEventListener("select-annotation",this.annotationSelected),document.body.removeEventListener("toggle-annotation-sidebar",this.onToggleAnnotationSidebar),this.divWrapperReplacementInterval&&(clearInterval(this.divWrapperReplacementInterval),this.divWrapperReplacementInterval=null)}setPinsVisibility(a){if(this.isPinsVisible=a,this.isPinsVisible){this.renderAnnotationsPins();return}this.removeAnnotationsPins()}setActive(a){if(this.isActive=a,this.canvas.style.cursor=a?"none":"default",this.isActive){this.addListeners();return}this.removeListeners()}updateAnnotations(a){this.logger.log("updateAnnotations",a),this.annotations=a,!(!this.isActive&&!this.isPinsVisible)&&this.renderAnnotationsPins()}removeAnnotationPin(a){let i=this.pins.get(a);!i||(i.remove(),this.pins.delete(a))}createTemporaryPin(a){let i=document.getElementById("superviz-temporary-pin");i||(i=document.createElement("superviz-comments-annotation-pin"),i.id="superviz-temporary-pin",i.setAttribute("type","add"),i.setAttribute("annotation",JSON.stringify({})),i.setAttributeNode(document.createAttribute("active"))),i.setAttribute("position",JSON.stringify(a)),this.divWrapper.appendChild(i),this.pins.set("temporary-pin",i)}addListeners(){this.canvas.addEventListener("click",this.onClick),this.canvas.addEventListener("mousemove",this.onMouseMove),this.canvas.addEventListener("mouseout",this.onMouseLeave),this.canvas.addEventListener("mouseenter",this.onMouseEnter),document.body.addEventListener("keyup",this.resetPins),document.body.addEventListener("select-annotation",this.annotationSelected)}removeListeners(){this.canvas.removeEventListener("click",this.onClick),this.canvas.removeEventListener("mousemove",this.onMouseMove),this.canvas.removeEventListener("mouseout",this.onMouseLeave),this.canvas.removeEventListener("mouseenter",this.onMouseEnter),document.body.removeEventListener("keyup",this.resetPins),document.body.removeEventListener("select-annotation",this.annotationSelected)}createMouseElement(){let a=document.createElement("superviz-comments-annotation-pin");return a.setAttribute("type","add"),a.setAttribute("annotation",JSON.stringify({})),a.setAttribute("position",JSON.stringify({x:0,y:0})),document.body.appendChild(a),this.canvas.style.cursor="none",a}resetSelectedPin(){!this.selectedPin||(this.selectedPin.removeAttribute("active"),this.selectedPin=null)}createDivWrapper(){let a=this.canvas.getBoundingClientRect(),i=document.createElement("div");return this.canvas.parentElement.style.position="relative",i.style.position="fixed",i.style.top=`${a.top}px`,i.style.left=`${a.left}px`,i.style.width=`${a.width}px`,i.style.height=`${a.height}px`,i.style.pointerEvents="none",i.style.overflow="hidden",this.divWrapperReplacementInterval||(this.divWrapperReplacementInterval=setInterval(()=>{let d=this.canvas.getBoundingClientRect();i.style.top=`${d.top}px`,i.style.left=`${d.left}px`,i.style.width=`${d.width}px`,i.style.height=`${d.height}px`},1)),this.canvas.parentElement.appendChild(i),i}renderAnnotationsPins(){if(!this.annotations||this.canvas.style.display==="none"){this.removeAnnotationsPins();return}this.annotations.forEach(a=>{let i=JSON.parse(a.position);if(a.resolved){this.removeAnnotationPin(a.uuid);return}if(i.type!=="canvas"||this.pins.has(a.uuid))return;let{x:d,y:f}=i,g=document.createElement("superviz-comments-annotation-pin");g.setAttribute("type","show"),g.setAttribute("annotation",JSON.stringify(a)),g.setAttribute("position",JSON.stringify({x:d,y:f})),this.divWrapper.appendChild(g),this.pins.set(a.uuid,g)})}removeAnnotationsPins(){this.pins.forEach(a=>{a.remove()}),this.pins.clear()}scrollIntoView(a){if(!a||this.divWrapper.clientWidth<=this.divWrapper.parentElement.clientWidth&&this.divWrapper.clientHeight<=this.divWrapper.parentElement.clientHeight)return;let i,d=this.divWrapper;for(;!i;){let g=d==null?void 0:d.parentElement;if(this.isScrollable(g)){i=g;break}if(d=g,!d)break}let f=JSON.parse(a.getAttribute("position"));!i||i.scrollTo({top:f.y,left:f.x,behavior:"smooth"})}isScrollable(a){if(!a)return!1;let i=a.scrollHeight>a.clientHeight,d=window.getComputedStyle(a).overflowY,f=window.getComputedStyle(a).overflowX,g=d.indexOf("hidden")!==-1,A=f.indexOf("hidden")!==-1;return i&&!g&&!A}};P();var Es=un(Br());P();P();P();var ct=un(Zu()),Gr=class{constructor(){this.browser=ct.default.getParser(navigator.userAgent)}get clientStats(){return this.browser.getResult()}get isFirefox(){return this.browser.isBrowser(ct.default.BROWSER_MAP.firefox)}get isSafari(){return this.browser.isBrowser(ct.default.BROWSER_MAP.safari)}get isChrome(){return this.browser.isBrowser(ct.default.BROWSER_MAP.chrome)}get isIE(){return this.browser.isBrowser(ct.default.BROWSER_MAP.ie)}get isEdge(){return this.browser.isBrowser(ct.default.BROWSER_MAP.edge)}get isMobileDevice(){return(this.browser.is(ct.default.PLATFORMS_MAP.mobile)||this.browser.is(ct.default.PLATFORMS_MAP.tablet))&&!navigator.userAgent.match(/iPad/i)}get isTabletDevice(){return this.browser.is(ct.default.PLATFORMS_MAP.tablet)}get isAndroid(){return this.isMobileDevice&&!!navigator.userAgent.match(/Android/i)}get isIpad(){return!!navigator.userAgent.match(/iPad/i)}get isIphone(){return this.isMobileDevice&&!!navigator.userAgent.match(/iPhone/i)}get isAppleMobileDevice(){return this.isIpad||this.isIphone}};P();var Ur=class{constructor(){this.updateMeetingConnectionStatus=a=>{this.oldConnectionStatus=this.connectionStatus,this.connectionStatus=a,this.connectionStatusObserver.publish(a),this.logger.log("CONNECTION STATUS CHANGE",a)};this.onUpdateBrowserOnlineStatus=a=>{let{type:i}=a;if(i==="online"){this.updateMeetingConnectionStatus(1);return}this.updateMeetingConnectionStatus(4)};this.logger=new ce("@superviz/sdk/connection-service"),this.connectionStatus=0,this.connectionStatusObserver=new se({logger:this.logger})}addListeners(){window.addEventListener("online",this.onUpdateBrowserOnlineStatus),window.addEventListener("offline",this.onUpdateBrowserOnlineStatus)}removeListeners(){window.removeEventListener("online",this.onUpdateBrowserOnlineStatus),window.removeEventListener("offline",this.onUpdateBrowserOnlineStatus)}};P();P();var Wr=class{build(a,i,d,f={},g={}){let A=document.querySelector(`#${a}`),l=new URL(i);if(this.wrapperId||this.element)throw new Error("Tried to initialize two frames with the same FrameBricklayer instance");this.element=document.createElement("iframe"),Object.entries(f).forEach(([h,m])=>{l.searchParams.set(h,m)}),Object.entries(g).forEach(([h,m])=>{this.element.setAttribute(h,m)}),this.element.src=l.toString(),this.element.id=d,A.appendChild(this.element),this.wrapperId=a}destroy(){if(!this.wrapperId)throw new Error("Tried to destroy a frame before it was initialized");let a=document.querySelector(`#${this.wrapperId}`);!!a&&!!a.querySelector(`#${this.element.id}`)&&a.removeChild(this.element),this.wrapperId=null,this.element=null}};P();var kr=class{constructor(a){this.observers={};this.sourceBlockList=["vue-devtools-proxy","vue-devtools-backend"];this.originBlockList=["https://sketchfab.com"];this.publish=(a,i={})=>{this.logger.log("MessageBridge","Posting message to frame",a,i),this.contentWindow.postMessage({type:a,data:i},this.allowedOrigins)};this.listen=(a,i)=>{this.observers[a]||(this.observers[a]=new se({logger:this.logger})),this.observers[a].subscribe(i)};this.onReceiveMessage=a=>{let{type:i,data:d,source:f}=a.data;if(this.sourceBlockList.includes(f)||this.originBlockList.includes(a.origin))return;let g=!!i,A=!this.domains.length||this.domains.includes(a.origin),l=this.observers.hasOwnProperty(i);if(this.logger.log("MessageBridge",`Message received -
        TYPE: ${a.type}
        ORIGIN: ${a.origin}
        DATA: ${JSON.stringify(a.data)} `),!g||!A||!l){this.logger.log("MessageBridge","Message discarded");return}this.observers[i].publish(d)};let{contentWindow:i,domains:d=[],allowedOrigins:f="*",sourceBlockList:g=[],logger:A}=a;if(this.logger=A,this.domains=d,this.allowedOrigins=f,this.sourceBlockList.push(...g),typeof window=="undefined")throw new Error("MessageBridge: window is undefined");this.contentWindow=i,window.addEventListener("message",this.onReceiveMessage)}destroy(){Object.entries(this.observers).forEach(([a,i])=>{i.reset(),delete this.observers[a]}),window.removeEventListener("message",this.onReceiveMessage),delete this.logger,delete this.allowedOrigins,delete this.contentWindow,delete this.domains,delete this.observers,delete this.sourceBlockList}};P();var Yu="sv-video-frame",Un=class{constructor(a){this.logger=new ce("@superviz/sdk/video-conference-manager");this.frameStateObserver=new se({logger:this.logger});this.frameSizeObserver=new se({logger:this.logger});this.waitingForHostObserver=new se({logger:this.logger});this.realtimeEventsObserver=new se({logger:this.logger});this.sameAccountErrorObserver=new se({logger:this.logger});this.devicesObserver=new se({logger:this.logger});this.meetingStateObserver=new se({logger:this.logger});this.meetingConnectionObserver=new se({logger:this.logger});this.participantJoinedObserver=new se({logger:this.logger});this.participantLeftObserver=new se({logger:this.logger});this.participantListObserver=new se({logger:this.logger});this.frameState=0;this.layoutModalsAndCamerasConfig=(a,i)=>{let d=a,f=i,g=["left","right","bottom","top"].includes(f),A=["left","right","center"].includes(d);return g||(f="right"),A||(d="right"),this.browserService.isMobileDevice?(f="bottom",{layoutPosition:d,camerasPosition:f}):(d==="left"&&f==="right"&&(d="right"),d==="right"&&f==="left"&&(d="left"),{layoutPosition:d,camerasPosition:f})};this.onFrameLoad=()=>{this.messageBridge=new kr({logger:this.logger,contentWindow:this.bricklayer.element.contentWindow}),this.addMessagesListeners(),this.updateFrameState(2),this.updateFrameLocale(),this.updateMeetingAvatars(),this.onWindowResize(),this.setCustomColors()};this.setFrameOffset=a=>{let i=a!=null?a:{};["top","bottom","left","right"].forEach(d=>{Object.keys(i).includes(d)||(i[d]=0)}),this.frameOffset=i};this.setCustomColors=()=>{!this.customColors||this.messageBridge.publish("frame.color-list-update",this.customColors)};this.setFrameStyle=a=>{let i=document.createElement("style"),{bottom:d,left:f,right:g,top:A}=this.frameOffset;if(i.innerHTML=`
      :root {
        --superviz-offset-top: ${A}px;
        --superviz-offset-right: ${g}px;
        --superviz-offset-left: ${f}px;
        --superviz-offset-bottom: ${d}px;
      }     
    `,document.head.appendChild(i),this.browserService.isMobileDevice){this.bricklayer.element.classList.add("sv-video-frame--bottom");return}this.bricklayer.element.classList.add(`sv-video-frame--${a}`)};this.onFrameDimensionsUpdate=({width:a,height:i})=>{let d=document.getElementById(Yu),{bottom:f,right:g,left:A,top:l}=this.frameOffset,h=this.isWaterMarkEnabled?40:0,m=`${a}px`,I=`${i+h}px`;(a>=window.innerWidth||this.isHorizontalCameraEnabled)&&(m=`calc(100% - ${g}px - ${A}px)`),i>=window.innerHeight&&(I=`calc(100% - ${l}px - ${f}px)`),d.style.width=m,d.style.height=I,this.frameSizeObserver.publish({width:d.offsetWidth,height:d.offsetHeight})};this.onWindowResize=()=>{let{top:a,bottom:i,right:d,left:f}=this.frameOffset,{innerHeight:g,innerWidth:A}=window,l=g-a-i,h=A-d-f;!this.messageBridge||this.messageBridge.publish("frame.parent-window-size-update",{height:l,width:h})};this.updateFrameLocale=()=>{var g,A;if(!this.frameLocale||!((g=this.frameLocale)!=null&&g.language)&&((A=this.frameLocale)==null?void 0:A.locales))return;let{language:a,locales:i}=this.frameLocale,d=i.map(l=>l==null?void 0:l.language),f=["en",...d];if(a&&!f.includes(a))throw new Error("The default language is not available in the language listing.");this.messageBridge.publish("frame.locales-update",this.frameLocale)};this.updateMeetingAvatars=()=>{this.messageBridge.publish("frame.avatar-list-update",this.meetingAvatars)};this.onParticipantJoined=a=>{this.participantJoinedObserver.publish(a)};this.onParticipantLeft=a=>{this.participantLeftObserver.publish(a)};this.onMeetingHostChange=a=>{this.realtimeEventsObserver.publish({event:"realtime.host-change",data:a})};this.onMeetingKickParticipant=a=>{this.realtimeEventsObserver.publish({event:"meeting.kick-participant",data:a})};this.onFollowParticipantDidChange=a=>{this.realtimeEventsObserver.publish({event:"realtime.follow-participant",data:a})};this.onGoToDidChange=a=>{this.realtimeEventsObserver.publish({event:"realtime.go-to-participant",data:a})};this.onGather=()=>{this.realtimeEventsObserver.publish({event:"realtime.gather",data:!0})};this.onGridModeChange=a=>{this.realtimeEventsObserver.publish({event:"realtime.grid-mode-change",data:a})};this.onDrawingChange=a=>{this.realtimeEventsObserver.publish({event:"realtime.drawing-change",data:a})};this.onTranscriptChange=a=>{this.realtimeEventsObserver.publish({event:"realtime.transcript-change",data:a})};this.onSameAccountError=a=>{this.sameAccountErrorObserver.publish(a)};this.onDevicesChange=a=>{this.devicesObserver.publish(a)};this.meetingStateUpdate=a=>{this.meetingStateObserver.publish(a)};this.onConnectionStatusChange=a=>{this.meetingConnectionObserver.publish(a)};this.onWaitingForHostDidChange=a=>{this.waitingForHostObserver.publish(a)};this.onParticipantListUpdate=a=>{this.participantListObserver.publish(a)};var de,ze,Ft,At;let{language:i,canUseCams:d,canUseChat:f,canUseScreenshare:g,canUseDefaultAvatars:A,canUseFollow:l,canUseGoTo:h,canUseGather:m,canUseDefaultToolbar:I,canUseTranscription:y,browserService:O,offset:L,locales:x,avatars:U,customColors:Z,waterMark:X,layoutPosition:fe,camerasPosition:he,skipMeetingSettings:ge,devices:j,layoutMode:q}=a;this.browserService=O;let ae=this.layoutModalsAndCamerasConfig(fe,he),me=document.createElement("div");this.frameConfig={apiKey:K.get("apiKey"),apiUrl:K.get("apiUrl"),ablyKey:K.get("ablyKey"),debug:K.get("debug"),roomId:K.get("roomId"),limits:K.get("limits"),canUseFollow:l,canUseGoTo:h,canUseCams:d,canUseChat:f,canUseGather:m,canUseScreenshare:g,canUseDefaultAvatars:A,canUseTranscription:y,camerasPosition:(de=ae.camerasPosition)!=null?de:"right",canUseDefaultToolbar:I,devices:{audioInput:(ze=j==null?void 0:j.audioInput)!=null?ze:!0,audioOutput:(Ft=j==null?void 0:j.audioOutput)!=null?Ft:!0,videoInput:(At=j==null?void 0:j.videoInput)!=null?At:!0},waterMark:X,layoutMode:q,skipMeetingSettings:ge,layoutPosition:ae.layoutPosition},this.customColors=Z,me.classList.add("sv_video_wrapper"),me.id="sv-video-wrapper",document.body.appendChild(me),this.updateFrameState(1),this.bricklayer=new Wr,this.bricklayer.build(me.id,K.get("conferenceLayerUrl"),Yu,void 0,{allow:"camera *;microphone *; display-capture *;"}),this.setFrameOffset(L),this.setFrameStyle(ae.camerasPosition),this.bricklayer.element.addEventListener("load",this.onFrameLoad),this.frameLocale={language:i,locales:x},this.meetingAvatars=U,window.addEventListener("resize",this.onWindowResize),window.addEventListener("orientationchange",this.onWindowResize)}get isWaterMarkEnabled(){return this.browserService.isMobileDevice?!1:this.frameConfig.waterMark}get isHorizontalCameraEnabled(){return this.browserService.isMobileDevice?!1:["top","bottom"].includes(this.frameConfig.camerasPosition)}addMessagesListeners(){this.messageBridge.listen("meeting.waiting-for-host",this.onWaitingForHostDidChange),this.messageBridge.listen("meeting.participant-joined",this.onParticipantJoined),this.messageBridge.listen("meeting.participant-list-update",this.onParticipantListUpdate),this.messageBridge.listen("meeting.participant-left",this.onParticipantLeft),this.messageBridge.listen("meeting.host-change",this.onMeetingHostChange),this.messageBridge.listen("meeting.kick-participant",this.onMeetingKickParticipant),this.messageBridge.listen("meeting.same-participant-error",this.onSameAccountError),this.messageBridge.listen("meeting.state-update",this.meetingStateUpdate),this.messageBridge.listen("meeting.connection-status-change",this.onConnectionStatusChange),this.messageBridge.listen("meeting.devices-change",this.onDevicesChange),this.messageBridge.listen("realtime.grid-mode-change",this.onGridModeChange),this.messageBridge.listen("realtime.drawing-change",this.onDrawingChange),this.messageBridge.listen("realtime.transcript-change",this.onTranscriptChange),this.messageBridge.listen("frame.dimensions-update",this.onFrameDimensionsUpdate),this.messageBridge.listen("realtime.follow-participant",this.onFollowParticipantDidChange),this.messageBridge.listen("realtime.go-to-participant",this.onGoToDidChange),this.messageBridge.listen("realtime.gather",this.onGather)}updateFrameState(a){a!==this.frameState&&(this.frameState=a,this.frameStateObserver.publish(this.frameState));let i={[1]:6,[2]:7,[0]:8};this.meetingStateUpdate(i[a])}start(a){this.messageBridge.publish("meeting.start",xt(Me({},a),{config:this.frameConfig}))}leave(){this.messageBridge.publish("meeting.leave"),this.destroy()}destroy(){var a,i;(a=this.messageBridge)==null||a.destroy(),(i=this.bricklayer)==null||i.destroy(),this.frameSizeObserver.destroy(),this.realtimeEventsObserver.destroy(),this.sameAccountErrorObserver.destroy(),this.devicesObserver.destroy(),this.meetingStateObserver.destroy(),this.meetingConnectionObserver.destroy(),this.participantJoinedObserver.destroy(),this.participantLeftObserver.destroy(),this.bricklayer=null,this.frameState=null}publishMessageToFrame(a,i){this.messageBridge.publish(a,i)}};var As=class extends je{constructor(i){var d,f;super();this.participantToFrameList=[];this.participantsOnMeeting=[];this.startVideo=()=>{var i,d,f,g,A,l,h,m,I,y,O,L,x,U,Z,X,fe,he,ge,j,q,ae,me,de,ze,Ft,At;this.videoConfig={language:(i=this.params)==null?void 0:i.language,canUseTranscription:((d=this.params)==null?void 0:d.transcriptOff)===!1,canUseChat:!((f=this.params)!=null&&f.chatOff),canUseCams:!((g=this.params)!=null&&g.camsOff),canUseScreenshare:!((A=this.params)!=null&&A.screenshareOff),canUseDefaultAvatars:!!((l=this.params)!=null&&l.defaultAvatars)&&!((m=(h=this.localParticipant)==null?void 0:h.avatar)!=null&&m.model3DUrl),canUseGather:!!((I=this.params)!=null&&I.enableGather),canUseFollow:!!((y=this.params)!=null&&y.enableFollow),canUseGoTo:!!((O=this.params)!=null&&O.enableGoTo),canUseDefaultToolbar:(x=(L=this.params)==null?void 0:L.defaultToolbar)!=null?x:!0,camerasPosition:(Z=(U=this.params)==null?void 0:U.collaborationMode)==null?void 0:Z.position,devices:(X=this.params)==null?void 0:X.devices,skipMeetingSettings:(fe=this.params)==null?void 0:fe.skipMeetingSettings,browserService:this.browserService,offset:(he=this.params)==null?void 0:he.offset,locales:(j=(ge=this.params)==null?void 0:ge.locales)!=null?j:[],avatars:(ae=(q=this.params)==null?void 0:q.avatars)!=null?ae:[],customColors:K.get("colors"),layoutPosition:(de=(me=this.params)==null?void 0:me.collaborationMode)==null?void 0:de.modalPosition,layoutMode:(At=(Ft=(ze=this.params)==null?void 0:ze.collaborationMode)==null?void 0:Ft.initialView)!=null?At:"list",waterMark:this.showWaterMarkType},this.logger.log("video conference @ start video",this.videoConfig),this.videoManager=new Un(this.videoConfig),this.subscribeToVideoEvents()};this.subscribeToVideoEvents=()=>{this.logger.log("video conference @ subscribe to video events"),this.videoManager.meetingConnectionObserver.subscribe(this.connectionService.updateMeetingConnectionStatus),this.videoManager.participantListObserver.subscribe(this.onParticipantListUpdate),this.videoManager.waitingForHostObserver.subscribe(this.onWaitingForHost),this.videoManager.frameSizeObserver.subscribe(this.onFrameSizeDidChange),this.videoManager.meetingStateObserver.subscribe(this.onMeetingStateChange),this.videoManager.frameStateObserver.subscribe(this.onFrameStateChange),this.videoManager.realtimeEventsObserver.subscribe(this.onRealtimeEventFromFrame),this.videoManager.participantJoinedObserver.subscribe(this.onParticipantJoined),this.videoManager.participantLeftObserver.subscribe(this.onParticipantLeft),this.videoManager.sameAccountErrorObserver.subscribe(this.onSameAccountError),this.videoManager.devicesObserver.subscribe(this.onDevicesChange)};this.unsubscribeFromVideoEvents=()=>{this.logger.log("video conference @ unsubscribe from video events"),this.videoManager.meetingConnectionObserver.unsubscribe(this.connectionService.updateMeetingConnectionStatus),this.videoManager.participantListObserver.unsubscribe(this.onParticipantListUpdate),this.videoManager.waitingForHostObserver.unsubscribe(this.onWaitingForHost),this.videoManager.frameSizeObserver.unsubscribe(this.onFrameSizeDidChange),this.videoManager.meetingStateObserver.unsubscribe(this.onMeetingStateChange),this.videoManager.frameStateObserver.unsubscribe(this.onFrameStateChange),this.videoManager.realtimeEventsObserver.unsubscribe(this.onRealtimeEventFromFrame),this.videoManager.participantJoinedObserver.unsubscribe(this.onParticipantJoined),this.videoManager.participantLeftObserver.unsubscribe(this.onParticipantLeft),this.videoManager.sameAccountErrorObserver.unsubscribe(this.onSameAccountError),this.videoManager.devicesObserver.unsubscribe(this.onDevicesChange)};this.suscribeToRealtimeEvents=()=>{this.logger.log("video conference @ subscribe to realtime events"),this.realtime.kickAllParticipantsObserver.subscribe(this.onKickAllParticipantsDidChange),this.realtime.kickParticipantObserver.subscribe(this.onKickLocalParticipant),this.realtime.participantJoinedObserver.subscribe(this.onParticipantJoinedOnRealtime),this.realtime.participantLeaveObserver.subscribe(this.onParticipantLeftOnRealtime),this.realtime.roomInfoUpdatedObserver.subscribe(this.onRoomInfoUpdated),this.realtime.participantsObserver.subscribe(this.onRealtimeParticipantsDidChange),this.realtime.hostObserver.subscribe(this.onHostParticipantDidChange)};this.unsubscribeFromRealtimeEvents=()=>{this.logger.log("video conference @ unsubscribe from realtime events"),this.realtime.kickAllParticipantsObserver.unsubscribe(this.onKickAllParticipantsDidChange),this.realtime.participantJoinedObserver.unsubscribe(this.onParticipantJoinedOnRealtime),this.realtime.participantLeaveObserver.unsubscribe(this.onParticipantLeftOnRealtime),this.realtime.roomInfoUpdatedObserver.unsubscribe(this.onRoomInfoUpdated),this.realtime.participantsObserver.unsubscribe(this.onRealtimeParticipantsDidChange),this.realtime.hostObserver.unsubscribe(this.onHostParticipantDidChange)};this.createParticipantFromAblyPresence=i=>{var d;return{id:i.clientId,color:this.realtime.getSlotColor((d=i.data)==null?void 0:d.slotIndex).color,avatar:i.data.avatar,type:i.data.type,name:i.data.name,isHost:this.realtime.hostClientId===i.clientId}};this.onFrameSizeDidChange=i=>{this.publish("frame.dimensions-update",i)};this.onWaitingForHost=i=>{this.publish("meeting.waiting-for-host",i)};this.onConnectionStatusChange=i=>{this.logger.log("video conference @ on connection status change",i);let d=[2,4,3,6];d.includes(i)&&this.realtime.freezeSync(!0),d.includes(this.connectionService.oldConnectionStatus)&&!d.includes(i)&&this.realtime.freezeSync(!1),this.publish("meeting.connection-status-change",i)};this.onMeetingStateChange=i=>{this.logger.log("video conference @ on meeting state change",i),this.publish("meeting.state-update",i)};this.onSameAccountError=i=>{this.publish("meeting.same-participant-error",i),this.internalRemoveComponent()};this.onDevicesChange=i=>{this.publish("meeting.devices-change",i)};this.onFrameStateChange=i=>{this.logger.log("video conference @ on frame state change",i),i===2&&this.videoManager.start({group:this.group,participant:this.localParticipant,roomId:K.get("roomId")})};this.onRealtimeEventFromFrame=({event:i,data:d})=>{this.logger.log("video conference @ on realtime event from frame",i,d);let f={["realtime.host-change"]:g=>this.realtime.setHost(g),["realtime.gather"]:g=>this.realtime.setGather(g),["realtime.grid-mode-change"]:g=>this.realtime.setGridMode(g),["realtime.drawing-change"]:g=>{this.realtime.setDrawing(g)},["realtime.follow-participant"]:g=>{this.realtime.setFollowParticipant(g)},["meeting.kick-participant"]:g=>{this.realtime.setKickParticipant(g)},["realtime.transcript-change"]:g=>{this.realtime.setTranscript(g)},["realtime.go-to-participant"]:g=>{this.eventBus.publish("realtime.go-to-participant",g)}}[i](d);this.publish(i,d)};this.onParticipantJoined=i=>{if(this.logger.log("video conference @ on participant joined",i),this.localParticipant=i,this.publish("meeting.participant-joined",i),this.publish("my-participant.joined",i),this.videoConfig.canUseDefaultAvatars){this.realtime.updateMyProperties({avatar:i.avatar,name:i.name,type:i.type});return}this.realtime.updateMyProperties({name:i.name,type:i.type})};this.onParticipantLeft=i=>{this.logger.log("video conference @ on participant left",this.localParticipant),this.publish("my-participant.left",this.localParticipant),this.internalRemoveComponent()};this.onParticipantListUpdate=i=>{this.logger.log("video conference @ on participant list update",i),!(0,Es.isEqual)(this.participantsOnMeeting,i)&&(this.publish("meeting.participant-list-update",i),this.participantsOnMeeting.length!==i.length&&this.publish("meeting.amount-of-participants-update",i.length),this.participantsOnMeeting=i)};this.onKickAllParticipantsDidChange=i=>{this.logger.log("video conference @ on kick all participants did change",i),this.publish("meeting.kick-all-participants",i),this.internalRemoveComponent()};this.onKickLocalParticipant=()=>{this.logger.log("video conference @ on kick local participant"),this.publish("meeting.kick-participant",this.localParticipant),this.internalRemoveComponent()};this.onRoomInfoUpdated=i=>{this.logger.log("video conference @ on room info updated",i);let{isGridModeEnable:d,followParticipantId:f,gather:g,drawing:A,transcript:l}=i;this.videoManager.publishMessageToFrame("realtime.grid-mode-change",d),this.videoManager.publishMessageToFrame("realtime.drawing-change",A),this.videoManager.publishMessageToFrame("realtime.follow-participant",f),this.videoManager.publishMessageToFrame("realtime.transcript-change",l),this.realtime.hostClientId===this.localParticipant.id&&g&&this.realtime.setGather(!1)};this.onRealtimeParticipantsDidChange=i=>{this.logger.log("video conference @ on participants did change",i);let d=Object.values(i).map(f=>({timestamp:f.timestamp,connectionId:f.connectionId,participantId:f.clientId,color:this.realtime.getSlotColor(f.data.slotIndex).name,name:f.data.name,isHost:this.realtime.hostClientId===f.clientId,avatar:f.data.avatar,type:f.data.type}));(0,Es.isEqual)(this.participantToFrameList,d)||this.videoManager.publishMessageToFrame("realtime.participant-list-update",d),this.participantToFrameList=d};this.onHostParticipantDidChange=i=>{this.logger.log("video conference @ on host participant did change",i),this.videoManager.publishMessageToFrame("realtime.host-change",i==null?void 0:i.newHostParticipantId)};this.onParticipantJoinedOnRealtime=i=>{this.logger.log("video conference @ on participant joined on realtime",i),this.publish("meeting.participant-joined",this.createParticipantFromAblyPresence(i))};this.onParticipantLeftOnRealtime=i=>{this.logger.log("video conference @ on participant left on realtime",i),this.publish("meeting.participant-left",this.createParticipantFromAblyPresence(i))};this.params=xt(Me({},i),{userType:(f=(d=i==null?void 0:i.participantType)!=null?d:i==null?void 0:i.userType)!=null?f:"guest"}),this.name="videoConference",this.logger=new ce(`@superviz/sdk/${"videoConference"}`),this.browserService=new Gr,this.connectionService=new Ur,this.connectionService.addListeners(),this.connectionService.connectionStatusObserver.subscribe(this.onConnectionStatusChange)}toggleMeetingSetup(){return this.videoManager.publishMessageToFrame("meeting-controls.toggle-setup")}toggleMicrophone(){return this.videoManager.publishMessageToFrame("meeting-controls.toggle-microphone")}toggleCam(){this.videoManager.publishMessageToFrame("meeting-controls.toggle-cam")}toggleScreenShare(){return this.videoManager.publishMessageToFrame("meeting-controls.toggle-screenshare")}toggleChat(){return this.videoManager.publishMessageToFrame("meeting-controls.toggle-chat")}toggleTranscript(){return this.videoManager.publishMessageToFrame("meeting-controls.toggle-transcript")}hangUp(){this.videoManager.publishMessageToFrame("hang-up")}start(){var i;this.logger.log("video conference @ start"),this.publish("meeting.start"),this.params.userType!=="guest"&&(this.localParticipant.type=this.params.userType),this.realtime.setKickParticipantsOnHostLeave(!((i=this.params)!=null&&i.allowGuests)),this.suscribeToRealtimeEvents(),this.showWaterMarkType=K.get("waterMark"),this.startVideo()}destroy(){this.logger.log("video conference @ destroy"),this.publish("destroy"),this.unsubscribeFromRealtimeEvents(),this.unsubscribeFromVideoEvents(),this.videoManager.leave(),this.connectionService.removeListeners()}internalRemoveComponent(){this.logger.log("video conference @ internal remove component");let{data:i}=this.realtime.participant,d=i.activeComponents.filter(f=>f!=="videoConference");this.realtime.updateMyProperties({activeComponents:d,type:"guest"}),this.realtime.setKickParticipantsOnHostLeave(!1),this.detach()}};P();var Ts=class extends je{constructor(i){super();this.divWrapperReplacementInterval=null;this.subscribeToRealtimeEvents=()=>{this.logger.log("presence-mouse component @ subscribe to realtime events"),this.realtime.presenceMouseParticipantLeaveObserver.subscribe(this.onParticipantLeftOnRealtime),this.realtime.presenceMouseObserver.subscribe(this.onParticipantsDidChange)};this.unsubscribeFromRealtimeEvents=()=>{this.logger.log("presence-mouse component @ unsubscribe from realtime events"),this.realtime.presenceMouseParticipantLeaveObserver.unsubscribe(this.onParticipantLeftOnRealtime),this.realtime.presenceMouseObserver.unsubscribe(this.onParticipantsDidChange)};this.onMyParticipantMouseMove=i=>{let d=this.divWrapper.getBoundingClientRect();this.realtime.updatePresenceMouse(xt(Me({},this.localParticipant),{mousePositionX:i.x-d.x,mousePositionY:i.y-d.y,originalWidth:d.width,originalHeight:d.height,containerId:this.containerId,visible:!0}))};this.onParticipantsDidChange=i=>{this.logger.log("presence-mouse component @ on participants did change",i),Object.values(i).forEach(d=>{var A;let f=(d==null?void 0:d.mousePositionX)&&this.presenceMouseElement,g=(d==null?void 0:d.id)===((A=this.localParticipant)==null?void 0:A.id);if(!(d!=null&&d.visible)){this.presenceMouseElement.removePresenceMouseParticipant(d.id);return}!g&&f&&this.presenceMouseElement.updatePresenceMouseParticipant(d)})};this.onMyParticipantMouseOut=()=>{this.realtime.updatePresenceMouse(Me({visible:!1},this.localParticipant))};this.onParticipantLeftOnRealtime=i=>{this.presenceMouseElement.removePresenceMouseParticipant(i.id)};if(this.name="presence",this.logger=new ce(`@superviz/sdk/${"presence"}`),this.containerId=i,this.container=document.getElementById(i),!this.container){let d=`Container with id ${i} not found`;throw this.logger.log(d),new Error(d)}this.divWrapper=this.createDivWrapper()}start(){this.logger.log("presence-mouse component @ start"),this.presenceMouseElement=document.createElement("superviz-presence-mouse"),this.divWrapper.appendChild(this.presenceMouseElement),this.container.addEventListener("mousemove",this.onMyParticipantMouseMove),this.container.addEventListener("mouseout",this.onMyParticipantMouseOut),this.subscribeToRealtimeEvents(),this.realtime.enterPresenceMouseChannel(this.localParticipant)}destroy(){this.logger.log("presence-mouse component @ destroy"),this.realtime.leavePresenceMouseChannel(),this.unsubscribeFromRealtimeEvents(),this.container.removeEventListener("mousemove",this.onMyParticipantMouseMove),this.container.removeEventListener("mouseout",this.onMyParticipantMouseOut),this.presenceMouseElement.remove(),this.divWrapper.remove(),this.divWrapperReplacementInterval&&(clearInterval(this.divWrapperReplacementInterval),this.divWrapperReplacementInterval=null)}createDivWrapper(){let i=document.createElement("div");return this.container.parentElement.style.position="relative",i.style.position="fixed",i.style.pointerEvents="none",this.container.parentElement.appendChild(i),this.divWrapperReplacementInterval||(this.divWrapperReplacementInterval=setInterval(()=>{let d=this.container.getBoundingClientRect();i.style.top=`${d.top}px`,i.style.left=`${d.left}px`,i.style.width=`${d.width}px`,i.style.height=`${d.height}px`},1)),i}};P();P();var Hr=class{constructor(a){this.observers=new Map;this.subscribe=(a,i)=>{this.logger.log("pubsub service @ subscribe",{event:a,callback:i}),this.observers.has(a)||this.observers.set(a,new se),this.observers.get(a).subscribe(i)};this.unsubscribe=(a,i)=>{this.logger.log("pubsub service @ unsubscribe",{event:a,callback:i}),this.observers.has(a)&&(this.observers.get(a).reset(),this.observers.delete(a))};this.publish=(a,i)=>{this.logger.log("pubsub service @ publish",{event:a,data:i}),this.realtime.setSyncProperty(a,i)};this.publishEventToClient=(a,i)=>{this.logger.log("pubsub service @ publishEventToClient",{event:a,data:i}),this.observers.has(a)&&this.observers.get(a).publish(i)};this.destroy=()=>{this.logger.log("pubsub service @ destroy"),this.realtime.syncPropertiesObserver.unsubscribe(this.onSyncPropertiesChange),this.observers.forEach(a=>a.destroy()),this.observers.clear()};this.onSyncPropertiesChange=a=>{this.logger.log("pubsub service @ onSyncPropertiesChange",{properties:a}),Object.entries(a).forEach(([i,d])=>{this.publishEventToClient(i,d)})};this.logger=new ce("@superviz/sdk/pubsub"),this.realtime=a,this.realtime.syncPropertiesObserver.subscribe(this.onSyncPropertiesChange),this.logger.log("PubSub created")}fetchHistory(a){return this.realtime.fetchSyncClientProperty(a)}};P();var Cs=class extends je{constructor(){super();this.callbacksToSubscribeWhenJoined=[];this.state="STOPPED";this.publish=(i,d)=>{if(!this.pubsub){let f=`Realtime component is not started yet. You can't publish event ${i} before start`;this.logger.log(f);return}this.pubsub.publish(i,d)};this.subscribe=(i,d)=>{if(!this.pubsub){this.callbacksToSubscribeWhenJoined.push({event:i,callback:d});return}this.pubsub.subscribe(i,d)};this.unsubscribe=(i,d)=>{this.pubsub.unsubscribe(i,d)};this.name="realtime",this.logger=new ce("@superviz/sdk/realtime-component")}destroy(){this.logger.log("destroyed"),this.changeState("STOPPED"),this.pubsub.destroy()}start(){this.logger.log("started"),this.pubsub=new Hr(this.realtime),this.callbacksToSubscribeWhenJoined.forEach(({event:i,callback:d})=>{this.pubsub.subscribe(i,d)}),this.changeState("STARTED")}fetchHistory(i){return this.pubsub.fetchHistory(i)}changeState(i){this.logger.log("realtime component @ changeState - state changed",i),this.state=i,this.pubsub.publishEventToClient("realtime-component.state-changed",this.state)}};P();var Xu=un(Br());P();var ws=(f=>(f.TOP_LEFT="top-left",f.TOP_RIGHT="top-right",f.BOTTOM_LEFT="bottom-left",f.BOTTOM_RIGHT="bottom-right",f))(ws||{});var ys=class extends je{constructor(i){super();this.participants=[];this.onParticipantListUpdate=i=>{let d=Object.values(i).filter(({data:h})=>{var m;return(m=h.activeComponents)==null?void 0:m.includes("whoIsOnline")}),f=d.map(({data:{slotIndex:h,id:m}})=>{let{color:I}=this.realtime.getSlotColor(h);return{id:m,color:I}}),g=this.participants.map(({id:h,color:m})=>({color:m,id:h}));if((0,Xu.isEqual)(f,g))return;let A=this.participants.filter(h=>h.color).map(h=>h.id),l=d.filter(({id:h})=>!A.includes(h)).map(({data:{name:h,id:m,slotIndex:I}})=>{let{color:y}=this.realtime.getSlotColor(I);return{name:h,id:m,slotIndex:I,color:y}});this.participants=[...this.participants.filter(({id:h})=>!A.includes(h)),...l],this.element.participants=this.participants};this.position=i!=null?i:"top-right",this.name="whoIsOnline",this.logger=new ce("@superviz/sdk/who-is-online-component")}start(){this.subscribeToRealtimeEvents(),this.positionWhoIsOnline()}destroy(){this.unsubscribeToRealtimeEvents(),this.element.remove(),this.element=null,this.participants=null}subscribeToRealtimeEvents(){this.realtime.participantsObserver.subscribe(this.onParticipantListUpdate)}unsubscribeToRealtimeEvents(){this.realtime.participantsObserver.unsubscribe(this.onParticipantListUpdate)}positionWhoIsOnline(){if(this.element=document.createElement("superviz-who-is-online"),Object.values(ws).includes(this.position.toLowerCase())){document.body.appendChild(this.element);let[f,g]=this.position.split("-");this.element.position=`${f}: 20px; ${g}: 40px;`;return}let d=document.getElementById(this.position);if(!d){this.element.position="top: 20px; right: 40px;",document.body.appendChild(this.element);return}d.appendChild(this.element),this.element.position="position: relative;"}};export{bs as CanvasPin,vs as Comments,Ts as MousePointers,Cs as Realtime,As as VideoConference,ys as WhoIsOnline};
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */
